(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Fl(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Ut={},es=[],wi=()=>{},hg=()=>!1,bo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Dl=e=>e.startsWith("onUpdate:"),ke=Object.assign,Nl=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},dg=Object.prototype.hasOwnProperty,$t=(e,t)=>dg.call(e,t),ft=Array.isArray,is=e=>wo(e)==="[object Map]",pd=e=>wo(e)==="[object Set]",mt=e=>typeof e=="function",ce=e=>typeof e=="string",ln=e=>typeof e=="symbol",Qt=e=>e!==null&&typeof e=="object",_d=e=>(Qt(e)||mt(e))&&mt(e.then)&&mt(e.catch),gd=Object.prototype.toString,wo=e=>gd.call(e),fg=e=>wo(e).slice(8,-1),md=e=>wo(e)==="[object Object]",$l=e=>ce(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ws=Fl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xo=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},pg=/-(\w)/g,ni=xo(e=>e.replace(pg,(t,n)=>n?n.toUpperCase():"")),_g=/\B([A-Z])/g,Fn=xo(e=>e.replace(_g,"-$1").toLowerCase()),Po=xo(e=>e.charAt(0).toUpperCase()+e.slice(1)),fa=xo(e=>e?`on${Po(e)}`:""),sn=(e,t)=>!Object.is(e,t),pa=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},vd=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},gg=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let pc;const So=()=>pc||(pc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ln(e){if(ft(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=ce(s)?bg(s):Ln(s);if(o)for(const a in o)t[a]=o[a]}return t}else if(ce(e)||Qt(e))return e}const mg=/;(?![^(]*\))/g,vg=/:([^]+)/,yg=/\/\*[^]*?\*\//g;function bg(e){const t={};return e.replace(yg,"").split(mg).forEach(n=>{if(n){const s=n.split(vg);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Xt(e){let t="";if(ce(e))t=e;else if(ft(e))for(let n=0;n<e.length;n++){const s=Xt(e[n]);s&&(t+=s+" ")}else if(Qt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const wg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",xg=Fl(wg);function yd(e){return!!e||e===""}const bd=e=>!!(e&&e.__v_isRef===!0),We=e=>ce(e)?e:e==null?"":ft(e)||Qt(e)&&(e.toString===gd||!mt(e.toString))?bd(e)?We(e.value):JSON.stringify(e,wd,2):String(e),wd=(e,t)=>bd(t)?wd(e,t.value):is(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,o],a)=>(n[_a(s,a)+" =>"]=o,n),{})}:pd(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>_a(n))}:ln(t)?_a(t):Qt(t)&&!ft(t)&&!md(t)?String(t):t,_a=(e,t="")=>{var n;return ln(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let He;class Pg{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=He,!t&&He&&(this.index=(He.scopes||(He.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=He;try{return He=this,t()}finally{He=n}}}on(){He=this}off(){He=this.parent}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function Sg(){return He}let qt;const ga=new WeakSet;class xd{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,He&&He.active&&He.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ga.has(this)&&(ga.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Sd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,_c(this),Ed(this);const t=qt,n=ui;qt=this,ui=!0;try{return this.fn()}finally{Td(this),qt=t,ui=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Zl(t);this.deps=this.depsTail=void 0,_c(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ga.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ha(this)&&this.run()}get dirty(){return Ha(this)}}let Pd=0,qs,Us;function Sd(e,t=!1){if(e.flags|=8,t){e.next=Us,Us=e;return}e.next=qs,qs=e}function zl(){Pd++}function Bl(){if(--Pd>0)return;if(Us){let t=Us;for(Us=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;qs;){let t=qs;for(qs=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function Ed(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Td(e){let t,n=e.depsTail,s=n;for(;s;){const o=s.prevDep;s.version===-1?(s===n&&(n=o),Zl(s),Eg(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=o}e.deps=t,e.depsTail=n}function Ha(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(kd(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function kd(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===er))return;e.globalVersion=er;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Ha(e)){e.flags&=-3;return}const n=qt,s=ui;qt=e,ui=!0;try{Ed(e);const o=e.fn(e._value);(t.version===0||sn(o,e._value))&&(e._value=o,t.version++)}catch(o){throw t.version++,o}finally{qt=n,ui=s,Td(e),e.flags&=-3}}function Zl(e,t=!1){const{dep:n,prevSub:s,nextSub:o}=e;if(s&&(s.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)Zl(a,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Eg(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let ui=!0;const Ld=[];function un(){Ld.push(ui),ui=!1}function cn(){const e=Ld.pop();ui=e===void 0?!0:e}function _c(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=qt;qt=void 0;try{t()}finally{qt=n}}}let er=0;class Tg{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Hl{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!qt||!ui||qt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==qt)n=this.activeLink=new Tg(qt,this),qt.deps?(n.prevDep=qt.depsTail,qt.depsTail.nextDep=n,qt.depsTail=n):qt.deps=qt.depsTail=n,Cd(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=qt.depsTail,n.nextDep=void 0,qt.depsTail.nextDep=n,qt.depsTail=n,qt.deps===n&&(qt.deps=s)}return n}trigger(t){this.version++,er++,this.notify(t)}notify(t){zl();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Bl()}}}function Cd(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)Cd(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const ja=new WeakMap,Cn=Symbol(""),Wa=Symbol(""),ir=Symbol("");function we(e,t,n){if(ui&&qt){let s=ja.get(e);s||ja.set(e,s=new Map);let o=s.get(n);o||(s.set(n,o=new Hl),o.map=s,o.key=n),o.track()}}function Ni(e,t,n,s,o,a){const u=ja.get(e);if(!u){er++;return}const h=d=>{d&&d.trigger()};if(zl(),t==="clear")u.forEach(h);else{const d=ft(e),_=d&&$l(n);if(d&&n==="length"){const p=Number(s);u.forEach((g,v)=>{(v==="length"||v===ir||!ln(v)&&v>=p)&&h(g)})}else switch((n!==void 0||u.has(void 0))&&h(u.get(n)),_&&h(u.get(ir)),t){case"add":d?_&&h(u.get("length")):(h(u.get(Cn)),is(e)&&h(u.get(Wa)));break;case"delete":d||(h(u.get(Cn)),is(e)&&h(u.get(Wa)));break;case"set":is(e)&&h(u.get(Cn));break}}Bl()}function Un(e){const t=Nt(e);return t===e?t:(we(t,"iterate",ir),Qe(e)?t:t.map(xe))}function Eo(e){return we(e=Nt(e),"iterate",ir),e}const kg={__proto__:null,[Symbol.iterator](){return ma(this,Symbol.iterator,xe)},concat(...e){return Un(this).concat(...e.map(t=>ft(t)?Un(t):t))},entries(){return ma(this,"entries",e=>(e[1]=xe(e[1]),e))},every(e,t){return Ci(this,"every",e,t,void 0,arguments)},filter(e,t){return Ci(this,"filter",e,t,n=>n.map(xe),arguments)},find(e,t){return Ci(this,"find",e,t,xe,arguments)},findIndex(e,t){return Ci(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ci(this,"findLast",e,t,xe,arguments)},findLastIndex(e,t){return Ci(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ci(this,"forEach",e,t,void 0,arguments)},includes(...e){return va(this,"includes",e)},indexOf(...e){return va(this,"indexOf",e)},join(e){return Un(this).join(e)},lastIndexOf(...e){return va(this,"lastIndexOf",e)},map(e,t){return Ci(this,"map",e,t,void 0,arguments)},pop(){return Ls(this,"pop")},push(...e){return Ls(this,"push",e)},reduce(e,...t){return gc(this,"reduce",e,t)},reduceRight(e,...t){return gc(this,"reduceRight",e,t)},shift(){return Ls(this,"shift")},some(e,t){return Ci(this,"some",e,t,void 0,arguments)},splice(...e){return Ls(this,"splice",e)},toReversed(){return Un(this).toReversed()},toSorted(e){return Un(this).toSorted(e)},toSpliced(...e){return Un(this).toSpliced(...e)},unshift(...e){return Ls(this,"unshift",e)},values(){return ma(this,"values",xe)}};function ma(e,t,n){const s=Eo(e),o=s[t]();return s!==e&&!Qe(e)&&(o._next=o.next,o.next=()=>{const a=o._next();return a.value&&(a.value=n(a.value)),a}),o}const Lg=Array.prototype;function Ci(e,t,n,s,o,a){const u=Eo(e),h=u!==e&&!Qe(e),d=u[t];if(d!==Lg[t]){const g=d.apply(e,a);return h?xe(g):g}let _=n;u!==e&&(h?_=function(g,v){return n.call(this,xe(g),v,e)}:n.length>2&&(_=function(g,v){return n.call(this,g,v,e)}));const p=d.call(u,_,s);return h&&o?o(p):p}function gc(e,t,n,s){const o=Eo(e);let a=n;return o!==e&&(Qe(e)?n.length>3&&(a=function(u,h,d){return n.call(this,u,h,d,e)}):a=function(u,h,d){return n.call(this,u,xe(h),d,e)}),o[t](a,...s)}function va(e,t,n){const s=Nt(e);we(s,"iterate",ir);const o=s[t](...n);return(o===-1||o===!1)&&ql(n[0])?(n[0]=Nt(n[0]),s[t](...n)):o}function Ls(e,t,n=[]){un(),zl();const s=Nt(e)[t].apply(e,n);return Bl(),cn(),s}const Cg=Fl("__proto__,__v_isRef,__isVue"),Md=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ln));function Mg(e){ln(e)||(e=String(e));const t=Nt(this);return we(t,"has",e),t.hasOwnProperty(e)}class Id{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return a;if(n==="__v_raw")return s===(o?a?Bg:Fd:a?Ad:Rd).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const u=ft(t);if(!o){let d;if(u&&(d=kg[n]))return d;if(n==="hasOwnProperty")return Mg}const h=Reflect.get(t,n,Ee(t)?t:s);return(ln(n)?Md.has(n):Cg(n))||(o||we(t,"get",n),a)?h:Ee(h)?u&&$l(n)?h:h.value:Qt(h)?o?Nd(h):To(h):h}}class Od extends Id{constructor(t=!1){super(!1,t)}set(t,n,s,o){let a=t[n];if(!this._isShallow){const d=Mn(a);if(!Qe(s)&&!Mn(s)&&(a=Nt(a),s=Nt(s)),!ft(t)&&Ee(a)&&!Ee(s))return d?!1:(a.value=s,!0)}const u=ft(t)&&$l(n)?Number(n)<t.length:$t(t,n),h=Reflect.set(t,n,s,Ee(t)?t:o);return t===Nt(o)&&(u?sn(s,a)&&Ni(t,"set",n,s):Ni(t,"add",n,s)),h}deleteProperty(t,n){const s=$t(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&s&&Ni(t,"delete",n,void 0),o}has(t,n){const s=Reflect.has(t,n);return(!ln(n)||!Md.has(n))&&we(t,"has",n),s}ownKeys(t){return we(t,"iterate",ft(t)?"length":Cn),Reflect.ownKeys(t)}}class Ig extends Id{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Og=new Od,Rg=new Ig,Ag=new Od(!0);const qa=e=>e,Rr=e=>Reflect.getPrototypeOf(e);function Fg(e,t,n){return function(...s){const o=this.__v_raw,a=Nt(o),u=is(a),h=e==="entries"||e===Symbol.iterator&&u,d=e==="keys"&&u,_=o[e](...s),p=n?qa:t?Ua:xe;return!t&&we(a,"iterate",d?Wa:Cn),{next(){const{value:g,done:v}=_.next();return v?{value:g,done:v}:{value:h?[p(g[0]),p(g[1])]:p(g),done:v}},[Symbol.iterator](){return this}}}}function Ar(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Dg(e,t){const n={get(o){const a=this.__v_raw,u=Nt(a),h=Nt(o);e||(sn(o,h)&&we(u,"get",o),we(u,"get",h));const{has:d}=Rr(u),_=t?qa:e?Ua:xe;if(d.call(u,o))return _(a.get(o));if(d.call(u,h))return _(a.get(h));a!==u&&a.get(o)},get size(){const o=this.__v_raw;return!e&&we(Nt(o),"iterate",Cn),Reflect.get(o,"size",o)},has(o){const a=this.__v_raw,u=Nt(a),h=Nt(o);return e||(sn(o,h)&&we(u,"has",o),we(u,"has",h)),o===h?a.has(o):a.has(o)||a.has(h)},forEach(o,a){const u=this,h=u.__v_raw,d=Nt(h),_=t?qa:e?Ua:xe;return!e&&we(d,"iterate",Cn),h.forEach((p,g)=>o.call(a,_(p),_(g),u))}};return ke(n,e?{add:Ar("add"),set:Ar("set"),delete:Ar("delete"),clear:Ar("clear")}:{add(o){!t&&!Qe(o)&&!Mn(o)&&(o=Nt(o));const a=Nt(this);return Rr(a).has.call(a,o)||(a.add(o),Ni(a,"add",o,o)),this},set(o,a){!t&&!Qe(a)&&!Mn(a)&&(a=Nt(a));const u=Nt(this),{has:h,get:d}=Rr(u);let _=h.call(u,o);_||(o=Nt(o),_=h.call(u,o));const p=d.call(u,o);return u.set(o,a),_?sn(a,p)&&Ni(u,"set",o,a):Ni(u,"add",o,a),this},delete(o){const a=Nt(this),{has:u,get:h}=Rr(a);let d=u.call(a,o);d||(o=Nt(o),d=u.call(a,o)),h&&h.call(a,o);const _=a.delete(o);return d&&Ni(a,"delete",o,void 0),_},clear(){const o=Nt(this),a=o.size!==0,u=o.clear();return a&&Ni(o,"clear",void 0,void 0),u}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=Fg(o,e,t)}),n}function jl(e,t){const n=Dg(e,t);return(s,o,a)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get($t(n,o)&&o in s?n:s,o,a)}const Ng={get:jl(!1,!1)},$g={get:jl(!1,!0)},zg={get:jl(!0,!1)};const Rd=new WeakMap,Ad=new WeakMap,Fd=new WeakMap,Bg=new WeakMap;function Zg(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Hg(e){return e.__v_skip||!Object.isExtensible(e)?0:Zg(fg(e))}function To(e){return Mn(e)?e:Wl(e,!1,Og,Ng,Rd)}function Dd(e){return Wl(e,!1,Ag,$g,Ad)}function Nd(e){return Wl(e,!0,Rg,zg,Fd)}function Wl(e,t,n,s,o){if(!Qt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=o.get(e);if(a)return a;const u=Hg(e);if(u===0)return e;const h=new Proxy(e,u===2?s:n);return o.set(e,h),h}function ns(e){return Mn(e)?ns(e.__v_raw):!!(e&&e.__v_isReactive)}function Mn(e){return!!(e&&e.__v_isReadonly)}function Qe(e){return!!(e&&e.__v_isShallow)}function ql(e){return e?!!e.__v_raw:!1}function Nt(e){const t=e&&e.__v_raw;return t?Nt(t):e}function jg(e){return!$t(e,"__v_skip")&&Object.isExtensible(e)&&vd(e,"__v_skip",!0),e}const xe=e=>Qt(e)?To(e):e,Ua=e=>Qt(e)?Nd(e):e;function Ee(e){return e?e.__v_isRef===!0:!1}function Ae(e){return $d(e,!1)}function Wg(e){return $d(e,!0)}function $d(e,t){return Ee(e)?e:new qg(e,t)}class qg{constructor(t,n){this.dep=new Hl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Nt(t),this._value=n?t:xe(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||Qe(t)||Mn(t);t=s?t:Nt(t),sn(t,n)&&(this._rawValue=t,this._value=s?t:xe(t),this.dep.trigger())}}function Oe(e){return Ee(e)?e.value:e}const Ug={get:(e,t,n)=>t==="__v_raw"?e:Oe(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return Ee(o)&&!Ee(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function zd(e){return ns(e)?e:new Proxy(e,Ug)}class Vg{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Hl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=er-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&qt!==this)return Sd(this,!0),!0}get value(){const t=this.dep.track();return kd(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Gg(e,t,n=!1){let s,o;return mt(e)?s=e:(s=e.get,o=e.set),new Vg(s,o,n)}const Fr={},Jr=new WeakMap;let Sn;function Kg(e,t=!1,n=Sn){if(n){let s=Jr.get(n);s||Jr.set(n,s=[]),s.push(e)}}function Yg(e,t,n=Ut){const{immediate:s,deep:o,once:a,scheduler:u,augmentJob:h,call:d}=n,_=$=>o?$:Qe($)||o===!1||o===0?en($,1):en($);let p,g,v,y,S=!1,P=!1;if(Ee(e)?(g=()=>e.value,S=Qe(e)):ns(e)?(g=()=>_(e),S=!0):ft(e)?(P=!0,S=e.some($=>ns($)||Qe($)),g=()=>e.map($=>{if(Ee($))return $.value;if(ns($))return _($);if(mt($))return d?d($,2):$()})):mt(e)?t?g=d?()=>d(e,2):e:g=()=>{if(v){un();try{v()}finally{cn()}}const $=Sn;Sn=p;try{return d?d(e,3,[y]):e(y)}finally{Sn=$}}:g=wi,t&&o){const $=g,Q=o===!0?1/0:o;g=()=>en($(),Q)}const z=Sg(),A=()=>{p.stop(),z&&z.active&&Nl(z.effects,p)};if(a&&t){const $=t;t=(...Q)=>{$(...Q),A()}}let M=P?new Array(e.length).fill(Fr):Fr;const D=$=>{if(!(!(p.flags&1)||!p.dirty&&!$))if(t){const Q=p.run();if(o||S||(P?Q.some((ct,lt)=>sn(ct,M[lt])):sn(Q,M))){v&&v();const ct=Sn;Sn=p;try{const lt=[Q,M===Fr?void 0:P&&M[0]===Fr?[]:M,y];d?d(t,3,lt):t(...lt),M=Q}finally{Sn=ct}}}else p.run()};return h&&h(D),p=new xd(g),p.scheduler=u?()=>u(D,!1):D,y=$=>Kg($,!1,p),v=p.onStop=()=>{const $=Jr.get(p);if($){if(d)d($,4);else for(const Q of $)Q();Jr.delete(p)}},t?s?D(!0):M=p.run():u?u(D.bind(null,!0),!0):p.run(),A.pause=p.pause.bind(p),A.resume=p.resume.bind(p),A.stop=A,A}function en(e,t=1/0,n){if(t<=0||!Qt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Ee(e))en(e.value,t,n);else if(ft(e))for(let s=0;s<e.length;s++)en(e[s],t,n);else if(pd(e)||is(e))e.forEach(s=>{en(s,t,n)});else if(md(e)){for(const s in e)en(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&en(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function dr(e,t,n,s){try{return s?e(...s):e()}catch(o){ko(o,t,n)}}function Pi(e,t,n,s){if(mt(e)){const o=dr(e,t,n,s);return o&&_d(o)&&o.catch(a=>{ko(a,t,n)}),o}if(ft(e)){const o=[];for(let a=0;a<e.length;a++)o.push(Pi(e[a],t,n,s));return o}}function ko(e,t,n,s=!0){const o=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:u}=t&&t.appContext.config||Ut;if(t){let h=t.parent;const d=t.proxy,_=`https://vuejs.org/error-reference/#runtime-${n}`;for(;h;){const p=h.ec;if(p){for(let g=0;g<p.length;g++)if(p[g](e,d,_)===!1)return}h=h.parent}if(a){un(),dr(a,null,10,[e,d,_]),cn();return}}Xg(e,n,o,s,u)}function Xg(e,t,n,s=!0,o=!1){if(o)throw e;console.error(e)}const Re=[];let vi=-1;const ss=[];let Xi=null,Kn=0;const Bd=Promise.resolve();let Qr=null;function Zd(e){const t=Qr||Bd;return e?t.then(this?e.bind(this):e):t}function Jg(e){let t=vi+1,n=Re.length;for(;t<n;){const s=t+n>>>1,o=Re[s],a=nr(o);a<e||a===e&&o.flags&2?t=s+1:n=s}return t}function Ul(e){if(!(e.flags&1)){const t=nr(e),n=Re[Re.length-1];!n||!(e.flags&2)&&t>=nr(n)?Re.push(e):Re.splice(Jg(t),0,e),e.flags|=1,Hd()}}function Hd(){Qr||(Qr=Bd.then(Wd))}function Qg(e){ft(e)?ss.push(...e):Xi&&e.id===-1?Xi.splice(Kn+1,0,e):e.flags&1||(ss.push(e),e.flags|=1),Hd()}function mc(e,t,n=vi+1){for(;n<Re.length;n++){const s=Re[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;Re.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function jd(e){if(ss.length){const t=[...new Set(ss)].sort((n,s)=>nr(n)-nr(s));if(ss.length=0,Xi){Xi.push(...t);return}for(Xi=t,Kn=0;Kn<Xi.length;Kn++){const n=Xi[Kn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Xi=null,Kn=0}}const nr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Wd(e){try{for(vi=0;vi<Re.length;vi++){const t=Re[vi];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),dr(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;vi<Re.length;vi++){const t=Re[vi];t&&(t.flags&=-2)}vi=-1,Re.length=0,jd(),Qr=null,(Re.length||ss.length)&&Wd()}}let li=null,qd=null;function to(e){const t=li;return li=e,qd=e&&e.type.__scopeId||null,t}function tm(e,t=li,n){if(!t||e._n)return e;const s=(...o)=>{s._d&&kc(-1);const a=to(t);let u;try{u=e(...o)}finally{to(a),s._d&&kc(1)}return u};return s._n=!0,s._c=!0,s._d=!0,s}function vn(e,t,n,s){const o=e.dirs,a=t&&t.dirs;for(let u=0;u<o.length;u++){const h=o[u];a&&(h.oldValue=a[u].value);let d=h.dir[s];d&&(un(),Pi(d,n,8,[e.el,h,e,t]),cn())}}const em=Symbol("_vte"),im=e=>e.__isTeleport;function Vl(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Vl(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Ud(e,t){return mt(e)?ke({name:e.name},t,{setup:e}):e}function Vd(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function eo(e,t,n,s,o=!1){if(ft(e)){e.forEach((S,P)=>eo(S,t&&(ft(t)?t[P]:t),n,s,o));return}if(Vs(s)&&!o){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&eo(e,t,n,s.component.subTree);return}const a=s.shapeFlag&4?Xl(s.component):s.el,u=o?null:a,{i:h,r:d}=e,_=t&&t.r,p=h.refs===Ut?h.refs={}:h.refs,g=h.setupState,v=Nt(g),y=g===Ut?()=>!1:S=>$t(v,S);if(_!=null&&_!==d&&(ce(_)?(p[_]=null,y(_)&&(g[_]=null)):Ee(_)&&(_.value=null)),mt(d))dr(d,h,12,[u,p]);else{const S=ce(d),P=Ee(d);if(S||P){const z=()=>{if(e.f){const A=S?y(d)?g[d]:p[d]:d.value;o?ft(A)&&Nl(A,a):ft(A)?A.includes(a)||A.push(a):S?(p[d]=[a],y(d)&&(g[d]=p[d])):(d.value=[a],e.k&&(p[e.k]=d.value))}else S?(p[d]=u,y(d)&&(g[d]=u)):P&&(d.value=u,e.k&&(p[e.k]=u))};u?(z.id=-1,Ze(z,n)):z()}}}So().requestIdleCallback;So().cancelIdleCallback;const Vs=e=>!!e.type.__asyncLoader,Gd=e=>e.type.__isKeepAlive;function nm(e,t){Kd(e,"a",t)}function sm(e,t){Kd(e,"da",t)}function Kd(e,t,n=Se){const s=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Lo(t,s,n),n){let o=n.parent;for(;o&&o.parent;)Gd(o.parent.vnode)&&rm(s,t,n,o),o=o.parent}}function rm(e,t,n,s){const o=Lo(t,e,s,!0);Gl(()=>{Nl(s[t],o)},n)}function Lo(e,t,n=Se,s=!1){if(n){const o=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...u)=>{un();const h=pr(n),d=Pi(t,n,e,u);return h(),cn(),d});return s?o.unshift(a):o.push(a),a}}const ji=e=>(t,n=Se)=>{(!rr||e==="sp")&&Lo(e,(...s)=>t(...s),n)},om=ji("bm"),fr=ji("m"),am=ji("bu"),lm=ji("u"),um=ji("bum"),Gl=ji("um"),cm=ji("sp"),hm=ji("rtg"),dm=ji("rtc");function fm(e,t=Se){Lo("ec",e,t)}const pm="components";function _m(e,t){return mm(pm,e,!0,t)||e}const gm=Symbol.for("v-ndc");function mm(e,t,n=!0,s=!1){const o=li||Se;if(o){const a=o.type;{const h=rv(a,!1);if(h&&(h===t||h===ni(t)||h===Po(ni(t))))return a}const u=vc(o[e]||a[e],t)||vc(o.appContext[e],t);return!u&&s?a:u}}function vc(e,t){return e&&(e[t]||e[ni(t)]||e[Po(ni(t))])}function vm(e,t,n,s){let o;const a=n,u=ft(e);if(u||ce(e)){const h=u&&ns(e);let d=!1;h&&(d=!Qe(e),e=Eo(e)),o=new Array(e.length);for(let _=0,p=e.length;_<p;_++)o[_]=t(d?xe(e[_]):e[_],_,void 0,a)}else if(typeof e=="number"){o=new Array(e);for(let h=0;h<e;h++)o[h]=t(h+1,h,void 0,a)}else if(Qt(e))if(e[Symbol.iterator])o=Array.from(e,(h,d)=>t(h,d,void 0,a));else{const h=Object.keys(e);o=new Array(h.length);for(let d=0,_=h.length;d<_;d++){const p=h[d];o[d]=t(e[p],p,d,a)}}else o=[];return o}const Va=e=>e?vf(e)?Xl(e):Va(e.parent):null,Gs=ke(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Va(e.parent),$root:e=>Va(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Xd(e),$forceUpdate:e=>e.f||(e.f=()=>{Ul(e.update)}),$nextTick:e=>e.n||(e.n=Zd.bind(e.proxy)),$watch:e=>zm.bind(e)}),ya=(e,t)=>e!==Ut&&!e.__isScriptSetup&&$t(e,t),ym={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:o,props:a,accessCache:u,type:h,appContext:d}=e;let _;if(t[0]!=="$"){const y=u[t];if(y!==void 0)switch(y){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return a[t]}else{if(ya(s,t))return u[t]=1,s[t];if(o!==Ut&&$t(o,t))return u[t]=2,o[t];if((_=e.propsOptions[0])&&$t(_,t))return u[t]=3,a[t];if(n!==Ut&&$t(n,t))return u[t]=4,n[t];Ga&&(u[t]=0)}}const p=Gs[t];let g,v;if(p)return t==="$attrs"&&we(e.attrs,"get",""),p(e);if((g=h.__cssModules)&&(g=g[t]))return g;if(n!==Ut&&$t(n,t))return u[t]=4,n[t];if(v=d.config.globalProperties,$t(v,t))return v[t]},set({_:e},t,n){const{data:s,setupState:o,ctx:a}=e;return ya(o,t)?(o[t]=n,!0):s!==Ut&&$t(s,t)?(s[t]=n,!0):$t(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:a}},u){let h;return!!n[u]||e!==Ut&&$t(e,u)||ya(t,u)||(h=a[0])&&$t(h,u)||$t(s,u)||$t(Gs,u)||$t(o.config.globalProperties,u)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:$t(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function yc(e){return ft(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Ga=!0;function bm(e){const t=Xd(e),n=e.proxy,s=e.ctx;Ga=!1,t.beforeCreate&&bc(t.beforeCreate,e,"bc");const{data:o,computed:a,methods:u,watch:h,provide:d,inject:_,created:p,beforeMount:g,mounted:v,beforeUpdate:y,updated:S,activated:P,deactivated:z,beforeDestroy:A,beforeUnmount:M,destroyed:D,unmounted:$,render:Q,renderTracked:ct,renderTriggered:lt,errorCaptured:nt,serverPrefetch:Vt,expose:zt,inheritAttrs:pt,components:kt,directives:Mt,filters:At}=t;if(_&&wm(_,s,null),u)for(const _t in u){const H=u[_t];mt(H)&&(s[_t]=H.bind(n))}if(o){const _t=o.call(n,n);Qt(_t)&&(e.data=To(_t))}if(Ga=!0,a)for(const _t in a){const H=a[_t],te=mt(H)?H.bind(n,n):mt(H.get)?H.get.bind(n,n):wi,et=!mt(H)&&mt(H.set)?H.set.bind(n):wi,yt=Ht({get:te,set:et});Object.defineProperty(s,_t,{enumerable:!0,configurable:!0,get:()=>yt.value,set:dt=>yt.value=dt})}if(h)for(const _t in h)Yd(h[_t],s,n,_t);if(d){const _t=mt(d)?d.call(n):d;Reflect.ownKeys(_t).forEach(H=>{qr(H,_t[H])})}p&&bc(p,e,"c");function vt(_t,H){ft(H)?H.forEach(te=>_t(te.bind(n))):H&&_t(H.bind(n))}if(vt(om,g),vt(fr,v),vt(am,y),vt(lm,S),vt(nm,P),vt(sm,z),vt(fm,nt),vt(dm,ct),vt(hm,lt),vt(um,M),vt(Gl,$),vt(cm,Vt),ft(zt))if(zt.length){const _t=e.exposed||(e.exposed={});zt.forEach(H=>{Object.defineProperty(_t,H,{get:()=>n[H],set:te=>n[H]=te})})}else e.exposed||(e.exposed={});Q&&e.render===wi&&(e.render=Q),pt!=null&&(e.inheritAttrs=pt),kt&&(e.components=kt),Mt&&(e.directives=Mt),Vt&&Vd(e)}function wm(e,t,n=wi){ft(e)&&(e=Ka(e));for(const s in e){const o=e[s];let a;Qt(o)?"default"in o?a=ci(o.from||s,o.default,!0):a=ci(o.from||s):a=ci(o),Ee(a)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>a.value,set:u=>a.value=u}):t[s]=a}}function bc(e,t,n){Pi(ft(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Yd(e,t,n,s){let o=s.includes(".")?df(n,s):()=>n[s];if(ce(e)){const a=t[e];mt(a)&&zi(o,a)}else if(mt(e))zi(o,e.bind(n));else if(Qt(e))if(ft(e))e.forEach(a=>Yd(a,t,n,s));else{const a=mt(e.handler)?e.handler.bind(n):t[e.handler];mt(a)&&zi(o,a,e)}}function Xd(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:a,config:{optionMergeStrategies:u}}=e.appContext,h=a.get(t);let d;return h?d=h:!o.length&&!n&&!s?d=t:(d={},o.length&&o.forEach(_=>io(d,_,u,!0)),io(d,t,u)),Qt(t)&&a.set(t,d),d}function io(e,t,n,s=!1){const{mixins:o,extends:a}=t;a&&io(e,a,n,!0),o&&o.forEach(u=>io(e,u,n,!0));for(const u in t)if(!(s&&u==="expose")){const h=xm[u]||n&&n[u];e[u]=h?h(e[u],t[u]):t[u]}return e}const xm={data:wc,props:xc,emits:xc,methods:Ds,computed:Ds,beforeCreate:Me,created:Me,beforeMount:Me,mounted:Me,beforeUpdate:Me,updated:Me,beforeDestroy:Me,beforeUnmount:Me,destroyed:Me,unmounted:Me,activated:Me,deactivated:Me,errorCaptured:Me,serverPrefetch:Me,components:Ds,directives:Ds,watch:Sm,provide:wc,inject:Pm};function wc(e,t){return t?e?function(){return ke(mt(e)?e.call(this,this):e,mt(t)?t.call(this,this):t)}:t:e}function Pm(e,t){return Ds(Ka(e),Ka(t))}function Ka(e){if(ft(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Me(e,t){return e?[...new Set([].concat(e,t))]:t}function Ds(e,t){return e?ke(Object.create(null),e,t):t}function xc(e,t){return e?ft(e)&&ft(t)?[...new Set([...e,...t])]:ke(Object.create(null),yc(e),yc(t??{})):t}function Sm(e,t){if(!e)return t;if(!t)return e;const n=ke(Object.create(null),e);for(const s in t)n[s]=Me(e[s],t[s]);return n}function Jd(){return{app:null,config:{isNativeTag:hg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Em=0;function Tm(e,t){return function(s,o=null){mt(s)||(s=ke({},s)),o!=null&&!Qt(o)&&(o=null);const a=Jd(),u=new WeakSet,h=[];let d=!1;const _=a.app={_uid:Em++,_component:s,_props:o,_container:null,_context:a,_instance:null,version:av,get config(){return a.config},set config(p){},use(p,...g){return u.has(p)||(p&&mt(p.install)?(u.add(p),p.install(_,...g)):mt(p)&&(u.add(p),p(_,...g))),_},mixin(p){return a.mixins.includes(p)||a.mixins.push(p),_},component(p,g){return g?(a.components[p]=g,_):a.components[p]},directive(p,g){return g?(a.directives[p]=g,_):a.directives[p]},mount(p,g,v){if(!d){const y=_._ceVNode||oe(s,o);return y.appContext=a,v===!0?v="svg":v===!1&&(v=void 0),e(y,p,v),d=!0,_._container=p,p.__vue_app__=_,Xl(y.component)}},onUnmount(p){h.push(p)},unmount(){d&&(Pi(h,_._instance,16),e(null,_._container),delete _._container.__vue_app__)},provide(p,g){return a.provides[p]=g,_},runWithContext(p){const g=rs;rs=_;try{return p()}finally{rs=g}}};return _}}let rs=null;function qr(e,t){if(Se){let n=Se.provides;const s=Se.parent&&Se.parent.provides;s===n&&(n=Se.provides=Object.create(s)),n[e]=t}}function ci(e,t,n=!1){const s=Se||li;if(s||rs){const o=rs?rs._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&mt(t)?t.call(s&&s.proxy):t}}const Qd={},tf=()=>Object.create(Qd),ef=e=>Object.getPrototypeOf(e)===Qd;function km(e,t,n,s=!1){const o={},a=tf();e.propsDefaults=Object.create(null),nf(e,t,o,a);for(const u in e.propsOptions[0])u in o||(o[u]=void 0);n?e.props=s?o:Dd(o):e.type.props?e.props=o:e.props=a,e.attrs=a}function Lm(e,t,n,s){const{props:o,attrs:a,vnode:{patchFlag:u}}=e,h=Nt(o),[d]=e.propsOptions;let _=!1;if((s||u>0)&&!(u&16)){if(u&8){const p=e.vnode.dynamicProps;for(let g=0;g<p.length;g++){let v=p[g];if(Co(e.emitsOptions,v))continue;const y=t[v];if(d)if($t(a,v))y!==a[v]&&(a[v]=y,_=!0);else{const S=ni(v);o[S]=Ya(d,h,S,y,e,!1)}else y!==a[v]&&(a[v]=y,_=!0)}}}else{nf(e,t,o,a)&&(_=!0);let p;for(const g in h)(!t||!$t(t,g)&&((p=Fn(g))===g||!$t(t,p)))&&(d?n&&(n[g]!==void 0||n[p]!==void 0)&&(o[g]=Ya(d,h,g,void 0,e,!0)):delete o[g]);if(a!==h)for(const g in a)(!t||!$t(t,g))&&(delete a[g],_=!0)}_&&Ni(e.attrs,"set","")}function nf(e,t,n,s){const[o,a]=e.propsOptions;let u=!1,h;if(t)for(let d in t){if(Ws(d))continue;const _=t[d];let p;o&&$t(o,p=ni(d))?!a||!a.includes(p)?n[p]=_:(h||(h={}))[p]=_:Co(e.emitsOptions,d)||(!(d in s)||_!==s[d])&&(s[d]=_,u=!0)}if(a){const d=Nt(n),_=h||Ut;for(let p=0;p<a.length;p++){const g=a[p];n[g]=Ya(o,d,g,_[g],e,!$t(_,g))}}return u}function Ya(e,t,n,s,o,a){const u=e[n];if(u!=null){const h=$t(u,"default");if(h&&s===void 0){const d=u.default;if(u.type!==Function&&!u.skipFactory&&mt(d)){const{propsDefaults:_}=o;if(n in _)s=_[n];else{const p=pr(o);s=_[n]=d.call(null,t),p()}}else s=d;o.ce&&o.ce._setProp(n,s)}u[0]&&(a&&!h?s=!1:u[1]&&(s===""||s===Fn(n))&&(s=!0))}return s}const Cm=new WeakMap;function sf(e,t,n=!1){const s=n?Cm:t.propsCache,o=s.get(e);if(o)return o;const a=e.props,u={},h=[];let d=!1;if(!mt(e)){const p=g=>{d=!0;const[v,y]=sf(g,t,!0);ke(u,v),y&&h.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!a&&!d)return Qt(e)&&s.set(e,es),es;if(ft(a))for(let p=0;p<a.length;p++){const g=ni(a[p]);Pc(g)&&(u[g]=Ut)}else if(a)for(const p in a){const g=ni(p);if(Pc(g)){const v=a[p],y=u[g]=ft(v)||mt(v)?{type:v}:ke({},v),S=y.type;let P=!1,z=!0;if(ft(S))for(let A=0;A<S.length;++A){const M=S[A],D=mt(M)&&M.name;if(D==="Boolean"){P=!0;break}else D==="String"&&(z=!1)}else P=mt(S)&&S.name==="Boolean";y[0]=P,y[1]=z,(P||$t(y,"default"))&&h.push(g)}}const _=[u,h];return Qt(e)&&s.set(e,_),_}function Pc(e){return e[0]!=="$"&&!Ws(e)}const rf=e=>e[0]==="_"||e==="$stable",Kl=e=>ft(e)?e.map(yi):[yi(e)],Mm=(e,t,n)=>{if(t._n)return t;const s=tm((...o)=>Kl(t(...o)),n);return s._c=!1,s},of=(e,t,n)=>{const s=e._ctx;for(const o in e){if(rf(o))continue;const a=e[o];if(mt(a))t[o]=Mm(o,a,s);else if(a!=null){const u=Kl(a);t[o]=()=>u}}},af=(e,t)=>{const n=Kl(t);e.slots.default=()=>n},lf=(e,t,n)=>{for(const s in t)(n||s!=="_")&&(e[s]=t[s])},Im=(e,t,n)=>{const s=e.slots=tf();if(e.vnode.shapeFlag&32){const o=t._;o?(lf(s,t,n),n&&vd(s,"_",o,!0)):of(t,s)}else t&&af(e,t)},Om=(e,t,n)=>{const{vnode:s,slots:o}=e;let a=!0,u=Ut;if(s.shapeFlag&32){const h=t._;h?n&&h===1?a=!1:lf(o,t,n):(a=!t.$stable,of(t,o)),u=t}else t&&(af(e,t),u={default:1});if(a)for(const h in o)!rf(h)&&u[h]==null&&delete o[h]},Ze=Um;function Rm(e){return Am(e)}function Am(e,t){const n=So();n.__VUE__=!0;const{insert:s,remove:o,patchProp:a,createElement:u,createText:h,createComment:d,setText:_,setElementText:p,parentNode:g,nextSibling:v,setScopeId:y=wi,insertStaticContent:S}=e,P=(b,w,E,O=null,F=null,R=null,W=void 0,j=null,Z=!!w.dynamicChildren)=>{if(b===w)return;b&&!Cs(b,w)&&(O=I(b),dt(b,F,R,!0),b=null),w.patchFlag===-2&&(Z=!1,w.dynamicChildren=null);const{type:B,ref:at,shapeFlag:G}=w;switch(B){case Mo:z(b,w,E,O);break;case In:A(b,w,E,O);break;case Ur:b==null&&M(w,E,O,W);break;case je:kt(b,w,E,O,F,R,W,j,Z);break;default:G&1?Q(b,w,E,O,F,R,W,j,Z):G&6?Mt(b,w,E,O,F,R,W,j,Z):(G&64||G&128)&&B.process(b,w,E,O,F,R,W,j,Z,K)}at!=null&&F&&eo(at,b&&b.ref,R,w||b,!w)},z=(b,w,E,O)=>{if(b==null)s(w.el=h(w.children),E,O);else{const F=w.el=b.el;w.children!==b.children&&_(F,w.children)}},A=(b,w,E,O)=>{b==null?s(w.el=d(w.children||""),E,O):w.el=b.el},M=(b,w,E,O)=>{[b.el,b.anchor]=S(b.children,w,E,O,b.el,b.anchor)},D=({el:b,anchor:w},E,O)=>{let F;for(;b&&b!==w;)F=v(b),s(b,E,O),b=F;s(w,E,O)},$=({el:b,anchor:w})=>{let E;for(;b&&b!==w;)E=v(b),o(b),b=E;o(w)},Q=(b,w,E,O,F,R,W,j,Z)=>{w.type==="svg"?W="svg":w.type==="math"&&(W="mathml"),b==null?ct(w,E,O,F,R,W,j,Z):Vt(b,w,F,R,W,j,Z)},ct=(b,w,E,O,F,R,W,j)=>{let Z,B;const{props:at,shapeFlag:G,transition:ot,dirs:ht}=b;if(Z=b.el=u(b.type,R,at&&at.is,at),G&8?p(Z,b.children):G&16&&nt(b.children,Z,null,O,F,ba(b,R),W,j),ht&&vn(b,null,O,"created"),lt(Z,b,b.scopeId,W,O),at){for(const Bt in at)Bt!=="value"&&!Ws(Bt)&&a(Z,Bt,null,at[Bt],R,O);"value"in at&&a(Z,"value",null,at.value,R),(B=at.onVnodeBeforeMount)&&gi(B,O,b)}ht&&vn(b,null,O,"beforeMount");const St=Fm(F,ot);St&&ot.beforeEnter(Z),s(Z,w,E),((B=at&&at.onVnodeMounted)||St||ht)&&Ze(()=>{B&&gi(B,O,b),St&&ot.enter(Z),ht&&vn(b,null,O,"mounted")},F)},lt=(b,w,E,O,F)=>{if(E&&y(b,E),O)for(let R=0;R<O.length;R++)y(b,O[R]);if(F){let R=F.subTree;if(w===R||pf(R.type)&&(R.ssContent===w||R.ssFallback===w)){const W=F.vnode;lt(b,W,W.scopeId,W.slotScopeIds,F.parent)}}},nt=(b,w,E,O,F,R,W,j,Z=0)=>{for(let B=Z;B<b.length;B++){const at=b[B]=j?Ji(b[B]):yi(b[B]);P(null,at,w,E,O,F,R,W,j)}},Vt=(b,w,E,O,F,R,W)=>{const j=w.el=b.el;let{patchFlag:Z,dynamicChildren:B,dirs:at}=w;Z|=b.patchFlag&16;const G=b.props||Ut,ot=w.props||Ut;let ht;if(E&&yn(E,!1),(ht=ot.onVnodeBeforeUpdate)&&gi(ht,E,w,b),at&&vn(w,b,E,"beforeUpdate"),E&&yn(E,!0),(G.innerHTML&&ot.innerHTML==null||G.textContent&&ot.textContent==null)&&p(j,""),B?zt(b.dynamicChildren,B,j,E,O,ba(w,F),R):W||H(b,w,j,null,E,O,ba(w,F),R,!1),Z>0){if(Z&16)pt(j,G,ot,E,F);else if(Z&2&&G.class!==ot.class&&a(j,"class",null,ot.class,F),Z&4&&a(j,"style",G.style,ot.style,F),Z&8){const St=w.dynamicProps;for(let Bt=0;Bt<St.length;Bt++){const Ot=St[Bt],Le=G[Ot],pe=ot[Ot];(pe!==Le||Ot==="value")&&a(j,Ot,Le,pe,F,E)}}Z&1&&b.children!==w.children&&p(j,w.children)}else!W&&B==null&&pt(j,G,ot,E,F);((ht=ot.onVnodeUpdated)||at)&&Ze(()=>{ht&&gi(ht,E,w,b),at&&vn(w,b,E,"updated")},O)},zt=(b,w,E,O,F,R,W)=>{for(let j=0;j<w.length;j++){const Z=b[j],B=w[j],at=Z.el&&(Z.type===je||!Cs(Z,B)||Z.shapeFlag&70)?g(Z.el):E;P(Z,B,at,null,O,F,R,W,!0)}},pt=(b,w,E,O,F)=>{if(w!==E){if(w!==Ut)for(const R in w)!Ws(R)&&!(R in E)&&a(b,R,w[R],null,F,O);for(const R in E){if(Ws(R))continue;const W=E[R],j=w[R];W!==j&&R!=="value"&&a(b,R,j,W,F,O)}"value"in E&&a(b,"value",w.value,E.value,F)}},kt=(b,w,E,O,F,R,W,j,Z)=>{const B=w.el=b?b.el:h(""),at=w.anchor=b?b.anchor:h("");let{patchFlag:G,dynamicChildren:ot,slotScopeIds:ht}=w;ht&&(j=j?j.concat(ht):ht),b==null?(s(B,E,O),s(at,E,O),nt(w.children||[],E,at,F,R,W,j,Z)):G>0&&G&64&&ot&&b.dynamicChildren?(zt(b.dynamicChildren,ot,E,F,R,W,j),(w.key!=null||F&&w===F.subTree)&&uf(b,w,!0)):H(b,w,E,at,F,R,W,j,Z)},Mt=(b,w,E,O,F,R,W,j,Z)=>{w.slotScopeIds=j,b==null?w.shapeFlag&512?F.ctx.activate(w,E,O,W,Z):At(w,E,O,F,R,W,Z):Gt(b,w,Z)},At=(b,w,E,O,F,R,W)=>{const j=b.component=tv(b,O,F);if(Gd(b)&&(j.ctx.renderer=K),ev(j,!1,W),j.asyncDep){if(F&&F.registerDep(j,vt,W),!b.el){const Z=j.subTree=oe(In);A(null,Z,w,E)}}else vt(j,b,w,E,F,R,W)},Gt=(b,w,E)=>{const O=w.component=b.component;if(Wm(b,w,E))if(O.asyncDep&&!O.asyncResolved){_t(O,w,E);return}else O.next=w,O.update();else w.el=b.el,O.vnode=w},vt=(b,w,E,O,F,R,W)=>{const j=()=>{if(b.isMounted){let{next:G,bu:ot,u:ht,parent:St,vnode:Bt}=b;{const Ve=cf(b);if(Ve){G&&(G.el=Bt.el,_t(b,G,W)),Ve.asyncDep.then(()=>{b.isUnmounted||j()});return}}let Ot=G,Le;yn(b,!1),G?(G.el=Bt.el,_t(b,G,W)):G=Bt,ot&&pa(ot),(Le=G.props&&G.props.onVnodeBeforeUpdate)&&gi(Le,St,G,Bt),yn(b,!0);const pe=Ec(b),Be=b.subTree;b.subTree=pe,P(Be,pe,g(Be.el),I(Be),b,F,R),G.el=pe.el,Ot===null&&qm(b,pe.el),ht&&Ze(ht,F),(Le=G.props&&G.props.onVnodeUpdated)&&Ze(()=>gi(Le,St,G,Bt),F)}else{let G;const{el:ot,props:ht}=w,{bm:St,m:Bt,parent:Ot,root:Le,type:pe}=b,Be=Vs(w);yn(b,!1),St&&pa(St),!Be&&(G=ht&&ht.onVnodeBeforeMount)&&gi(G,Ot,w),yn(b,!0);{Le.ce&&Le.ce._injectChildStyle(pe);const Ve=b.subTree=Ec(b);P(null,Ve,E,O,b,F,R),w.el=Ve.el}if(Bt&&Ze(Bt,F),!Be&&(G=ht&&ht.onVnodeMounted)){const Ve=w;Ze(()=>gi(G,Ot,Ve),F)}(w.shapeFlag&256||Ot&&Vs(Ot.vnode)&&Ot.vnode.shapeFlag&256)&&b.a&&Ze(b.a,F),b.isMounted=!0,w=E=O=null}};b.scope.on();const Z=b.effect=new xd(j);b.scope.off();const B=b.update=Z.run.bind(Z),at=b.job=Z.runIfDirty.bind(Z);at.i=b,at.id=b.uid,Z.scheduler=()=>Ul(at),yn(b,!0),B()},_t=(b,w,E)=>{w.component=b;const O=b.vnode.props;b.vnode=w,b.next=null,Lm(b,w.props,O,E),Om(b,w.children,E),un(),mc(b),cn()},H=(b,w,E,O,F,R,W,j,Z=!1)=>{const B=b&&b.children,at=b?b.shapeFlag:0,G=w.children,{patchFlag:ot,shapeFlag:ht}=w;if(ot>0){if(ot&128){et(B,G,E,O,F,R,W,j,Z);return}else if(ot&256){te(B,G,E,O,F,R,W,j,Z);return}}ht&8?(at&16&&st(B,F,R),G!==B&&p(E,G)):at&16?ht&16?et(B,G,E,O,F,R,W,j,Z):st(B,F,R,!0):(at&8&&p(E,""),ht&16&&nt(G,E,O,F,R,W,j,Z))},te=(b,w,E,O,F,R,W,j,Z)=>{b=b||es,w=w||es;const B=b.length,at=w.length,G=Math.min(B,at);let ot;for(ot=0;ot<G;ot++){const ht=w[ot]=Z?Ji(w[ot]):yi(w[ot]);P(b[ot],ht,E,null,F,R,W,j,Z)}B>at?st(b,F,R,!0,!1,G):nt(w,E,O,F,R,W,j,Z,G)},et=(b,w,E,O,F,R,W,j,Z)=>{let B=0;const at=w.length;let G=b.length-1,ot=at-1;for(;B<=G&&B<=ot;){const ht=b[B],St=w[B]=Z?Ji(w[B]):yi(w[B]);if(Cs(ht,St))P(ht,St,E,null,F,R,W,j,Z);else break;B++}for(;B<=G&&B<=ot;){const ht=b[G],St=w[ot]=Z?Ji(w[ot]):yi(w[ot]);if(Cs(ht,St))P(ht,St,E,null,F,R,W,j,Z);else break;G--,ot--}if(B>G){if(B<=ot){const ht=ot+1,St=ht<at?w[ht].el:O;for(;B<=ot;)P(null,w[B]=Z?Ji(w[B]):yi(w[B]),E,St,F,R,W,j,Z),B++}}else if(B>ot)for(;B<=G;)dt(b[B],F,R,!0),B++;else{const ht=B,St=B,Bt=new Map;for(B=St;B<=ot;B++){const ve=w[B]=Z?Ji(w[B]):yi(w[B]);ve.key!=null&&Bt.set(ve.key,B)}let Ot,Le=0;const pe=ot-St+1;let Be=!1,Ve=0;const Wi=new Array(pe);for(B=0;B<pe;B++)Wi[B]=0;for(B=ht;B<=G;B++){const ve=b[B];if(Le>=pe){dt(ve,F,R,!0);continue}let Ge;if(ve.key!=null)Ge=Bt.get(ve.key);else for(Ot=St;Ot<=ot;Ot++)if(Wi[Ot-St]===0&&Cs(ve,w[Ot])){Ge=Ot;break}Ge===void 0?dt(ve,F,R,!0):(Wi[Ge-St]=B+1,Ge>=Ve?Ve=Ge:Be=!0,P(ve,w[Ge],E,null,F,R,W,j,Z),Le++)}const Dn=Be?Dm(Wi):es;for(Ot=Dn.length-1,B=pe-1;B>=0;B--){const ve=St+B,Ge=w[ve],qi=ve+1<at?w[ve+1].el:O;Wi[B]===0?P(null,Ge,E,qi,F,R,W,j,Z):Be&&(Ot<0||B!==Dn[Ot]?yt(Ge,E,qi,2):Ot--)}}},yt=(b,w,E,O,F=null)=>{const{el:R,type:W,transition:j,children:Z,shapeFlag:B}=b;if(B&6){yt(b.component.subTree,w,E,O);return}if(B&128){b.suspense.move(w,E,O);return}if(B&64){W.move(b,w,E,K);return}if(W===je){s(R,w,E);for(let G=0;G<Z.length;G++)yt(Z[G],w,E,O);s(b.anchor,w,E);return}if(W===Ur){D(b,w,E);return}if(O!==2&&B&1&&j)if(O===0)j.beforeEnter(R),s(R,w,E),Ze(()=>j.enter(R),F);else{const{leave:G,delayLeave:ot,afterLeave:ht}=j,St=()=>s(R,w,E),Bt=()=>{G(R,()=>{St(),ht&&ht()})};ot?ot(R,St,Bt):Bt()}else s(R,w,E)},dt=(b,w,E,O=!1,F=!1)=>{const{type:R,props:W,ref:j,children:Z,dynamicChildren:B,shapeFlag:at,patchFlag:G,dirs:ot,cacheIndex:ht}=b;if(G===-2&&(F=!1),j!=null&&eo(j,null,E,b,!0),ht!=null&&(w.renderCache[ht]=void 0),at&256){w.ctx.deactivate(b);return}const St=at&1&&ot,Bt=!Vs(b);let Ot;if(Bt&&(Ot=W&&W.onVnodeBeforeUnmount)&&gi(Ot,w,b),at&6)xt(b.component,E,O);else{if(at&128){b.suspense.unmount(E,O);return}St&&vn(b,null,w,"beforeUnmount"),at&64?b.type.remove(b,w,E,K,O):B&&!B.hasOnce&&(R!==je||G>0&&G&64)?st(B,w,E,!1,!0):(R===je&&G&384||!F&&at&16)&&st(Z,w,E),O&&Lt(b)}(Bt&&(Ot=W&&W.onVnodeUnmounted)||St)&&Ze(()=>{Ot&&gi(Ot,w,b),St&&vn(b,null,w,"unmounted")},E)},Lt=b=>{const{type:w,el:E,anchor:O,transition:F}=b;if(w===je){bt(E,O);return}if(w===Ur){$(b);return}const R=()=>{o(E),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(b.shapeFlag&1&&F&&!F.persisted){const{leave:W,delayLeave:j}=F,Z=()=>W(E,R);j?j(b.el,R,Z):Z()}else R()},bt=(b,w)=>{let E;for(;b!==w;)E=v(b),o(b),b=E;o(w)},xt=(b,w,E)=>{const{bum:O,scope:F,job:R,subTree:W,um:j,m:Z,a:B}=b;Sc(Z),Sc(B),O&&pa(O),F.stop(),R&&(R.flags|=8,dt(W,b,w,E)),j&&Ze(j,w),Ze(()=>{b.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&b.asyncDep&&!b.asyncResolved&&b.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},st=(b,w,E,O=!1,F=!1,R=0)=>{for(let W=R;W<b.length;W++)dt(b[W],w,E,O,F)},I=b=>{if(b.shapeFlag&6)return I(b.component.subTree);if(b.shapeFlag&128)return b.suspense.next();const w=v(b.anchor||b.el),E=w&&w[em];return E?v(E):w};let q=!1;const U=(b,w,E)=>{b==null?w._vnode&&dt(w._vnode,null,null,!0):P(w._vnode||null,b,w,null,null,null,E),w._vnode=b,q||(q=!0,mc(),jd(),q=!1)},K={p:P,um:dt,m:yt,r:Lt,mt:At,mc:nt,pc:H,pbc:zt,n:I,o:e};return{render:U,hydrate:void 0,createApp:Tm(U)}}function ba({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function yn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Fm(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function uf(e,t,n=!1){const s=e.children,o=t.children;if(ft(s)&&ft(o))for(let a=0;a<s.length;a++){const u=s[a];let h=o[a];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=o[a]=Ji(o[a]),h.el=u.el),!n&&h.patchFlag!==-2&&uf(u,h)),h.type===Mo&&(h.el=u.el)}}function Dm(e){const t=e.slice(),n=[0];let s,o,a,u,h;const d=e.length;for(s=0;s<d;s++){const _=e[s];if(_!==0){if(o=n[n.length-1],e[o]<_){t[s]=o,n.push(s);continue}for(a=0,u=n.length-1;a<u;)h=a+u>>1,e[n[h]]<_?a=h+1:u=h;_<e[n[a]]&&(a>0&&(t[s]=n[a-1]),n[a]=s)}}for(a=n.length,u=n[a-1];a-- >0;)n[a]=u,u=t[u];return n}function cf(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:cf(t)}function Sc(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Nm=Symbol.for("v-scx"),$m=()=>ci(Nm);function zi(e,t,n){return hf(e,t,n)}function hf(e,t,n=Ut){const{immediate:s,deep:o,flush:a,once:u}=n,h=ke({},n),d=t&&s||!t&&a!=="post";let _;if(rr){if(a==="sync"){const y=$m();_=y.__watcherHandles||(y.__watcherHandles=[])}else if(!d){const y=()=>{};return y.stop=wi,y.resume=wi,y.pause=wi,y}}const p=Se;h.call=(y,S,P)=>Pi(y,p,S,P);let g=!1;a==="post"?h.scheduler=y=>{Ze(y,p&&p.suspense)}:a!=="sync"&&(g=!0,h.scheduler=(y,S)=>{S?y():Ul(y)}),h.augmentJob=y=>{t&&(y.flags|=4),g&&(y.flags|=2,p&&(y.id=p.uid,y.i=p))};const v=Yg(e,t,h);return rr&&(_?_.push(v):d&&v()),v}function zm(e,t,n){const s=this.proxy,o=ce(e)?e.includes(".")?df(s,e):()=>s[e]:e.bind(s,s);let a;mt(t)?a=t:(a=t.handler,n=t);const u=pr(this),h=hf(o,a.bind(s),n);return u(),h}function df(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}const Bm=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ni(t)}Modifiers`]||e[`${Fn(t)}Modifiers`];function Zm(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Ut;let o=n;const a=t.startsWith("update:"),u=a&&Bm(s,t.slice(7));u&&(u.trim&&(o=n.map(p=>ce(p)?p.trim():p)),u.number&&(o=n.map(gg)));let h,d=s[h=fa(t)]||s[h=fa(ni(t))];!d&&a&&(d=s[h=fa(Fn(t))]),d&&Pi(d,e,6,o);const _=s[h+"Once"];if(_){if(!e.emitted)e.emitted={};else if(e.emitted[h])return;e.emitted[h]=!0,Pi(_,e,6,o)}}function ff(e,t,n=!1){const s=t.emitsCache,o=s.get(e);if(o!==void 0)return o;const a=e.emits;let u={},h=!1;if(!mt(e)){const d=_=>{const p=ff(_,t,!0);p&&(h=!0,ke(u,p))};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!a&&!h?(Qt(e)&&s.set(e,null),null):(ft(a)?a.forEach(d=>u[d]=null):ke(u,a),Qt(e)&&s.set(e,u),u)}function Co(e,t){return!e||!bo(t)?!1:(t=t.slice(2).replace(/Once$/,""),$t(e,t[0].toLowerCase()+t.slice(1))||$t(e,Fn(t))||$t(e,t))}function Ec(e){const{type:t,vnode:n,proxy:s,withProxy:o,propsOptions:[a],slots:u,attrs:h,emit:d,render:_,renderCache:p,props:g,data:v,setupState:y,ctx:S,inheritAttrs:P}=e,z=to(e);let A,M;try{if(n.shapeFlag&4){const $=o||s,Q=$;A=yi(_.call(Q,$,p,g,y,v,S)),M=h}else{const $=t;A=yi($.length>1?$(g,{attrs:h,slots:u,emit:d}):$(g,null)),M=t.props?h:Hm(h)}}catch($){Ks.length=0,ko($,e,1),A=oe(In)}let D=A;if(M&&P!==!1){const $=Object.keys(M),{shapeFlag:Q}=D;$.length&&Q&7&&(a&&$.some(Dl)&&(M=jm(M,a)),D=ls(D,M,!1,!0))}return n.dirs&&(D=ls(D,null,!1,!0),D.dirs=D.dirs?D.dirs.concat(n.dirs):n.dirs),n.transition&&Vl(D,n.transition),A=D,to(z),A}const Hm=e=>{let t;for(const n in e)(n==="class"||n==="style"||bo(n))&&((t||(t={}))[n]=e[n]);return t},jm=(e,t)=>{const n={};for(const s in e)(!Dl(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Wm(e,t,n){const{props:s,children:o,component:a}=e,{props:u,children:h,patchFlag:d}=t,_=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return s?Tc(s,u,_):!!u;if(d&8){const p=t.dynamicProps;for(let g=0;g<p.length;g++){const v=p[g];if(u[v]!==s[v]&&!Co(_,v))return!0}}}else return(o||h)&&(!h||!h.$stable)?!0:s===u?!1:s?u?Tc(s,u,_):!0:!!u;return!1}function Tc(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const a=s[o];if(t[a]!==e[a]&&!Co(n,a))return!0}return!1}function qm({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const pf=e=>e.__isSuspense;function Um(e,t){t&&t.pendingBranch?ft(e)?t.effects.push(...e):t.effects.push(e):Qg(e)}const je=Symbol.for("v-fgt"),Mo=Symbol.for("v-txt"),In=Symbol.for("v-cmt"),Ur=Symbol.for("v-stc"),Ks=[];let qe=null;function jt(e=!1){Ks.push(qe=e?null:[])}function Vm(){Ks.pop(),qe=Ks[Ks.length-1]||null}let sr=1;function kc(e,t=!1){sr+=e,e<0&&qe&&t&&(qe.hasOnce=!0)}function _f(e){return e.dynamicChildren=sr>0?qe||es:null,Vm(),sr>0&&qe&&qe.push(e),e}function Kt(e,t,n,s,o,a){return _f(J(e,t,n,s,o,a,!0))}function gf(e,t,n,s,o){return _f(oe(e,t,n,s,o,!0))}function no(e){return e?e.__v_isVNode===!0:!1}function Cs(e,t){return e.type===t.type&&e.key===t.key}const mf=({key:e})=>e??null,Vr=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ce(e)||Ee(e)||mt(e)?{i:li,r:e,k:t,f:!!n}:e:null);function J(e,t=null,n=null,s=0,o=null,a=e===je?0:1,u=!1,h=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&mf(t),ref:t&&Vr(t),scopeId:qd,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:li};return h?(Yl(d,n),a&128&&e.normalize(d)):n&&(d.shapeFlag|=ce(n)?8:16),sr>0&&!u&&qe&&(d.patchFlag>0||a&6)&&d.patchFlag!==32&&qe.push(d),d}const oe=Gm;function Gm(e,t=null,n=null,s=0,o=null,a=!1){if((!e||e===gm)&&(e=In),no(e)){const h=ls(e,t,!0);return n&&Yl(h,n),sr>0&&!a&&qe&&(h.shapeFlag&6?qe[qe.indexOf(e)]=h:qe.push(h)),h.patchFlag=-2,h}if(ov(e)&&(e=e.__vccOpts),t){t=Km(t);let{class:h,style:d}=t;h&&!ce(h)&&(t.class=Xt(h)),Qt(d)&&(ql(d)&&!ft(d)&&(d=ke({},d)),t.style=Ln(d))}const u=ce(e)?1:pf(e)?128:im(e)?64:Qt(e)?4:mt(e)?2:0;return J(e,t,n,s,o,u,a,!0)}function Km(e){return e?ql(e)||ef(e)?ke({},e):e:null}function ls(e,t,n=!1,s=!1){const{props:o,ref:a,patchFlag:u,children:h,transition:d}=e,_=t?Xm(o||{},t):o,p={__v_isVNode:!0,__v_skip:!0,type:e.type,props:_,key:_&&mf(_),ref:t&&t.ref?n&&a?ft(a)?a.concat(Vr(t)):[a,Vr(t)]:Vr(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:h,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==je?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ls(e.ssContent),ssFallback:e.ssFallback&&ls(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&s&&Vl(p,d.clone(p)),p}function Xa(e=" ",t=0){return oe(Mo,null,e,t)}function Ym(e,t){const n=oe(Ur,null,e);return n.staticCount=t,n}function Bi(e="",t=!1){return t?(jt(),gf(In,null,e)):oe(In,null,e)}function yi(e){return e==null||typeof e=="boolean"?oe(In):ft(e)?oe(je,null,e.slice()):no(e)?Ji(e):oe(Mo,null,String(e))}function Ji(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ls(e)}function Yl(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(ft(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),Yl(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!ef(t)?t._ctx=li:o===3&&li&&(li.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else mt(t)?(t={default:t,_ctx:li},n=32):(t=String(t),s&64?(n=16,t=[Xa(t)]):n=8);e.children=t,e.shapeFlag|=n}function Xm(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=Xt([t.class,s.class]));else if(o==="style")t.style=Ln([t.style,s.style]);else if(bo(o)){const a=t[o],u=s[o];u&&a!==u&&!(ft(a)&&a.includes(u))&&(t[o]=a?[].concat(a,u):u)}else o!==""&&(t[o]=s[o])}return t}function gi(e,t,n,s=null){Pi(e,t,7,[n,s])}const Jm=Jd();let Qm=0;function tv(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||Jm,a={uid:Qm++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Pg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:sf(s,o),emitsOptions:ff(s,o),emit:null,emitted:null,propsDefaults:Ut,inheritAttrs:s.inheritAttrs,ctx:Ut,data:Ut,props:Ut,attrs:Ut,slots:Ut,refs:Ut,setupState:Ut,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=Zm.bind(null,a),e.ce&&e.ce(a),a}let Se=null,so,Ja;{const e=So(),t=(n,s)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(s),a=>{o.length>1?o.forEach(u=>u(a)):o[0](a)}};so=t("__VUE_INSTANCE_SETTERS__",n=>Se=n),Ja=t("__VUE_SSR_SETTERS__",n=>rr=n)}const pr=e=>{const t=Se;return so(e),e.scope.on(),()=>{e.scope.off(),so(t)}},Lc=()=>{Se&&Se.scope.off(),so(null)};function vf(e){return e.vnode.shapeFlag&4}let rr=!1;function ev(e,t=!1,n=!1){t&&Ja(t);const{props:s,children:o}=e.vnode,a=vf(e);km(e,s,a,t),Im(e,o,n);const u=a?iv(e,t):void 0;return t&&Ja(!1),u}function iv(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,ym);const{setup:s}=n;if(s){un();const o=e.setupContext=s.length>1?sv(e):null,a=pr(e),u=dr(s,e,0,[e.props,o]),h=_d(u);if(cn(),a(),(h||e.sp)&&!Vs(e)&&Vd(e),h){if(u.then(Lc,Lc),t)return u.then(d=>{Cc(e,d)}).catch(d=>{ko(d,e,0)});e.asyncDep=u}else Cc(e,u)}else yf(e)}function Cc(e,t,n){mt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Qt(t)&&(e.setupState=zd(t)),yf(e)}function yf(e,t,n){const s=e.type;e.render||(e.render=s.render||wi);{const o=pr(e);un();try{bm(e)}finally{cn(),o()}}}const nv={get(e,t){return we(e,"get",""),e[t]}};function sv(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,nv),slots:e.slots,emit:e.emit,expose:t}}function Xl(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(zd(jg(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Gs)return Gs[n](e)},has(t,n){return n in t||n in Gs}})):e.proxy}function rv(e,t=!0){return mt(e)?e.displayName||e.name:e.name||t&&e.__name}function ov(e){return mt(e)&&"__vccOpts"in e}const Ht=(e,t)=>Gg(e,t,rr);function bf(e,t,n){const s=arguments.length;return s===2?Qt(t)&&!ft(t)?no(t)?oe(e,null,[t]):oe(e,t):oe(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&no(n)&&(n=[n]),oe(e,t,n))}const av="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qa;const Mc=typeof window<"u"&&window.trustedTypes;if(Mc)try{Qa=Mc.createPolicy("vue",{createHTML:e=>e})}catch{}const wf=Qa?e=>Qa.createHTML(e):e=>e,lv="http://www.w3.org/2000/svg",uv="http://www.w3.org/1998/Math/MathML",Oi=typeof document<"u"?document:null,Ic=Oi&&Oi.createElement("template"),cv={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const o=t==="svg"?Oi.createElementNS(lv,e):t==="mathml"?Oi.createElementNS(uv,e):n?Oi.createElement(e,{is:n}):Oi.createElement(e);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>Oi.createTextNode(e),createComment:e=>Oi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Oi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,o,a){const u=n?n.previousSibling:t.lastChild;if(o&&(o===a||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===a||!(o=o.nextSibling)););else{Ic.innerHTML=wf(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const h=Ic.content;if(s==="svg"||s==="mathml"){const d=h.firstChild;for(;d.firstChild;)h.appendChild(d.firstChild);h.removeChild(d)}t.insertBefore(h,n)}return[u?u.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},hv=Symbol("_vtc");function dv(e,t,n){const s=e[hv];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Oc=Symbol("_vod"),fv=Symbol("_vsh"),pv=Symbol(""),_v=/(^|;)\s*display\s*:/;function gv(e,t,n){const s=e.style,o=ce(n);let a=!1;if(n&&!o){if(t)if(ce(t))for(const u of t.split(";")){const h=u.slice(0,u.indexOf(":")).trim();n[h]==null&&Gr(s,h,"")}else for(const u in t)n[u]==null&&Gr(s,u,"");for(const u in n)u==="display"&&(a=!0),Gr(s,u,n[u])}else if(o){if(t!==n){const u=s[pv];u&&(n+=";"+u),s.cssText=n,a=_v.test(n)}}else t&&e.removeAttribute("style");Oc in e&&(e[Oc]=a?s.display:"",e[fv]&&(s.display="none"))}const Rc=/\s*!important$/;function Gr(e,t,n){if(ft(n))n.forEach(s=>Gr(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=mv(e,t);Rc.test(n)?e.setProperty(Fn(s),n.replace(Rc,""),"important"):e[s]=n}}const Ac=["Webkit","Moz","ms"],wa={};function mv(e,t){const n=wa[t];if(n)return n;let s=ni(t);if(s!=="filter"&&s in e)return wa[t]=s;s=Po(s);for(let o=0;o<Ac.length;o++){const a=Ac[o]+s;if(a in e)return wa[t]=a}return t}const Fc="http://www.w3.org/1999/xlink";function Dc(e,t,n,s,o,a=xg(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Fc,t.slice(6,t.length)):e.setAttributeNS(Fc,t,n):n==null||a&&!yd(n)?e.removeAttribute(t):e.setAttribute(t,a?"":ln(n)?String(n):n)}function Nc(e,t,n,s,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?wf(n):n);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const h=a==="OPTION"?e.getAttribute("value")||"":e.value,d=n==null?e.type==="checkbox"?"on":"":String(n);(h!==d||!("_value"in e))&&(e.value=d),n==null&&e.removeAttribute(t),e._value=n;return}let u=!1;if(n===""||n==null){const h=typeof e[t];h==="boolean"?n=yd(n):n==null&&h==="string"?(n="",u=!0):h==="number"&&(n=0,u=!0)}try{e[t]=n}catch{}u&&e.removeAttribute(o||t)}function vv(e,t,n,s){e.addEventListener(t,n,s)}function yv(e,t,n,s){e.removeEventListener(t,n,s)}const $c=Symbol("_vei");function bv(e,t,n,s,o=null){const a=e[$c]||(e[$c]={}),u=a[t];if(s&&u)u.value=s;else{const[h,d]=wv(t);if(s){const _=a[t]=Sv(s,o);vv(e,h,_,d)}else u&&(yv(e,h,u,d),a[t]=void 0)}}const zc=/(?:Once|Passive|Capture)$/;function wv(e){let t;if(zc.test(e)){t={};let s;for(;s=e.match(zc);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Fn(e.slice(2)),t]}let xa=0;const xv=Promise.resolve(),Pv=()=>xa||(xv.then(()=>xa=0),xa=Date.now());function Sv(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Pi(Ev(s,n.value),t,5,[s])};return n.value=e,n.attached=Pv(),n}function Ev(e,t){if(ft(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const Bc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Tv=(e,t,n,s,o,a)=>{const u=o==="svg";t==="class"?dv(e,s,u):t==="style"?gv(e,n,s):bo(t)?Dl(t)||bv(e,t,n,s,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):kv(e,t,s,u))?(Nc(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Dc(e,t,s,u,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ce(s))?Nc(e,ni(t),s,a,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Dc(e,t,s,u))};function kv(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Bc(t)&&mt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Bc(t)&&ce(n)?!1:t in e}const Lv=ke({patchProp:Tv},cv);let Zc;function Cv(){return Zc||(Zc=Rm(Lv))}const Mv=(...e)=>{const t=Cv().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=Ov(s);if(!o)return;const a=t._component;!mt(a)&&!a.render&&!a.template&&(a.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const u=n(o,!1,Iv(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),u},t};function Iv(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Ov(e){return ce(e)?document.querySelector(e):e}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Yn=typeof document<"u";function xf(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Rv(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&xf(e.default)}const Dt=Object.assign;function Pa(e,t){const n={};for(const s in t){const o=t[s];n[s]=hi(o)?o.map(e):e(o)}return n}const Ys=()=>{},hi=Array.isArray,Pf=/#/g,Av=/&/g,Fv=/\//g,Dv=/=/g,Nv=/\?/g,Sf=/\+/g,$v=/%5B/g,zv=/%5D/g,Ef=/%5E/g,Bv=/%60/g,Tf=/%7B/g,Zv=/%7C/g,kf=/%7D/g,Hv=/%20/g;function Jl(e){return encodeURI(""+e).replace(Zv,"|").replace($v,"[").replace(zv,"]")}function jv(e){return Jl(e).replace(Tf,"{").replace(kf,"}").replace(Ef,"^")}function tl(e){return Jl(e).replace(Sf,"%2B").replace(Hv,"+").replace(Pf,"%23").replace(Av,"%26").replace(Bv,"`").replace(Tf,"{").replace(kf,"}").replace(Ef,"^")}function Wv(e){return tl(e).replace(Dv,"%3D")}function qv(e){return Jl(e).replace(Pf,"%23").replace(Nv,"%3F")}function Uv(e){return e==null?"":qv(e).replace(Fv,"%2F")}function or(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Vv=/\/$/,Gv=e=>e.replace(Vv,"");function Sa(e,t,n="/"){let s,o={},a="",u="";const h=t.indexOf("#");let d=t.indexOf("?");return h<d&&h>=0&&(d=-1),d>-1&&(s=t.slice(0,d),a=t.slice(d+1,h>-1?h:t.length),o=e(a)),h>-1&&(s=s||t.slice(0,h),u=t.slice(h,t.length)),s=Jv(s??t,n),{fullPath:s+(a&&"?")+a+u,path:s,query:o,hash:or(u)}}function Kv(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Hc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Yv(e,t,n){const s=t.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&us(t.matched[s],n.matched[o])&&Lf(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function us(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Lf(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Xv(e[n],t[n]))return!1;return!0}function Xv(e,t){return hi(e)?jc(e,t):hi(t)?jc(t,e):e===t}function jc(e,t){return hi(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function Jv(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let a=n.length-1,u,h;for(u=0;u<s.length;u++)if(h=s[u],h!==".")if(h==="..")a>1&&a--;else break;return n.slice(0,a).join("/")+"/"+s.slice(u).join("/")}const Gi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ar;(function(e){e.pop="pop",e.push="push"})(ar||(ar={}));var Xs;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Xs||(Xs={}));function Qv(e){if(!e)if(Yn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Gv(e)}const ty=/^[^#]+#/;function ey(e,t){return e.replace(ty,"#")+t}function iy(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Io=()=>({left:window.scrollX,top:window.scrollY});function ny(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=iy(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Wc(e,t){return(history.state?history.state.position-t:-1)+e}const el=new Map;function sy(e,t){el.set(e,t)}function ry(e){const t=el.get(e);return el.delete(e),t}let oy=()=>location.protocol+"//"+location.host;function Cf(e,t){const{pathname:n,search:s,hash:o}=t,a=e.indexOf("#");if(a>-1){let h=o.includes(e.slice(a))?e.slice(a).length:1,d=o.slice(h);return d[0]!=="/"&&(d="/"+d),Hc(d,"")}return Hc(n,e)+s+o}function ay(e,t,n,s){let o=[],a=[],u=null;const h=({state:v})=>{const y=Cf(e,location),S=n.value,P=t.value;let z=0;if(v){if(n.value=y,t.value=v,u&&u===S){u=null;return}z=P?v.position-P.position:0}else s(y);o.forEach(A=>{A(n.value,S,{delta:z,type:ar.pop,direction:z?z>0?Xs.forward:Xs.back:Xs.unknown})})};function d(){u=n.value}function _(v){o.push(v);const y=()=>{const S=o.indexOf(v);S>-1&&o.splice(S,1)};return a.push(y),y}function p(){const{history:v}=window;v.state&&v.replaceState(Dt({},v.state,{scroll:Io()}),"")}function g(){for(const v of a)v();a=[],window.removeEventListener("popstate",h),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",h),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:d,listen:_,destroy:g}}function qc(e,t,n,s=!1,o=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:o?Io():null}}function ly(e){const{history:t,location:n}=window,s={value:Cf(e,n)},o={value:t.state};o.value||a(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(d,_,p){const g=e.indexOf("#"),v=g>-1?(n.host&&document.querySelector("base")?e:e.slice(g))+d:oy()+e+d;try{t[p?"replaceState":"pushState"](_,"",v),o.value=_}catch(y){console.error(y),n[p?"replace":"assign"](v)}}function u(d,_){const p=Dt({},t.state,qc(o.value.back,d,o.value.forward,!0),_,{position:o.value.position});a(d,p,!0),s.value=d}function h(d,_){const p=Dt({},o.value,t.state,{forward:d,scroll:Io()});a(p.current,p,!0);const g=Dt({},qc(s.value,d,null),{position:p.position+1},_);a(d,g,!1),s.value=d}return{location:s,state:o,push:h,replace:u}}function uy(e){e=Qv(e);const t=ly(e),n=ay(e,t.state,t.location,t.replace);function s(a,u=!0){u||n.pauseListeners(),history.go(a)}const o=Dt({location:"",base:e,go:s,createHref:ey.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function cy(e){return typeof e=="string"||e&&typeof e=="object"}function Mf(e){return typeof e=="string"||typeof e=="symbol"}const If=Symbol("");var Uc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Uc||(Uc={}));function cs(e,t){return Dt(new Error,{type:e,[If]:!0},t)}function Mi(e,t){return e instanceof Error&&If in e&&(t==null||!!(e.type&t))}const Vc="[^/]+?",hy={sensitive:!1,strict:!1,start:!0,end:!0},dy=/[.+*?^${}()[\]/\\]/g;function fy(e,t){const n=Dt({},hy,t),s=[];let o=n.start?"^":"";const a=[];for(const _ of e){const p=_.length?[]:[90];n.strict&&!_.length&&(o+="/");for(let g=0;g<_.length;g++){const v=_[g];let y=40+(n.sensitive?.25:0);if(v.type===0)g||(o+="/"),o+=v.value.replace(dy,"\\$&"),y+=40;else if(v.type===1){const{value:S,repeatable:P,optional:z,regexp:A}=v;a.push({name:S,repeatable:P,optional:z});const M=A||Vc;if(M!==Vc){y+=10;try{new RegExp(`(${M})`)}catch($){throw new Error(`Invalid custom RegExp for param "${S}" (${M}): `+$.message)}}let D=P?`((?:${M})(?:/(?:${M}))*)`:`(${M})`;g||(D=z&&_.length<2?`(?:/${D})`:"/"+D),z&&(D+="?"),o+=D,y+=20,z&&(y+=-8),P&&(y+=-20),M===".*"&&(y+=-50)}p.push(y)}s.push(p)}if(n.strict&&n.end){const _=s.length-1;s[_][s[_].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const u=new RegExp(o,n.sensitive?"":"i");function h(_){const p=_.match(u),g={};if(!p)return null;for(let v=1;v<p.length;v++){const y=p[v]||"",S=a[v-1];g[S.name]=y&&S.repeatable?y.split("/"):y}return g}function d(_){let p="",g=!1;for(const v of e){(!g||!p.endsWith("/"))&&(p+="/"),g=!1;for(const y of v)if(y.type===0)p+=y.value;else if(y.type===1){const{value:S,repeatable:P,optional:z}=y,A=S in _?_[S]:"";if(hi(A)&&!P)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const M=hi(A)?A.join("/"):A;if(!M)if(z)v.length<2&&(p.endsWith("/")?p=p.slice(0,-1):g=!0);else throw new Error(`Missing required param "${S}"`);p+=M}}return p||"/"}return{re:u,score:s,keys:a,parse:h,stringify:d}}function py(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Of(e,t){let n=0;const s=e.score,o=t.score;for(;n<s.length&&n<o.length;){const a=py(s[n],o[n]);if(a)return a;n++}if(Math.abs(o.length-s.length)===1){if(Gc(s))return 1;if(Gc(o))return-1}return o.length-s.length}function Gc(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const _y={type:0,value:""},gy=/[a-zA-Z0-9_]/;function my(e){if(!e)return[[]];if(e==="/")return[[_y]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${_}": ${y}`)}let n=0,s=n;const o=[];let a;function u(){a&&o.push(a),a=[]}let h=0,d,_="",p="";function g(){_&&(n===0?a.push({type:0,value:_}):n===1||n===2||n===3?(a.length>1&&(d==="*"||d==="+")&&t(`A repeatable param (${_}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:_,regexp:p,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):t("Invalid state to consume buffer"),_="")}function v(){_+=d}for(;h<e.length;){if(d=e[h++],d==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:d==="/"?(_&&g(),u()):d===":"?(g(),n=1):v();break;case 4:v(),n=s;break;case 1:d==="("?n=2:gy.test(d)?v():(g(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&h--);break;case 2:d===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+d:n=3:p+=d;break;case 3:g(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&h--,p="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${_}"`),g(),u(),o}function vy(e,t,n){const s=fy(my(e.path),n),o=Dt(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function yy(e,t){const n=[],s=new Map;t=Jc({strict:!1,end:!0,sensitive:!1},t);function o(g){return s.get(g)}function a(g,v,y){const S=!y,P=Yc(g);P.aliasOf=y&&y.record;const z=Jc(t,g),A=[P];if("alias"in g){const $=typeof g.alias=="string"?[g.alias]:g.alias;for(const Q of $)A.push(Yc(Dt({},P,{components:y?y.record.components:P.components,path:Q,aliasOf:y?y.record:P})))}let M,D;for(const $ of A){const{path:Q}=$;if(v&&Q[0]!=="/"){const ct=v.record.path,lt=ct[ct.length-1]==="/"?"":"/";$.path=v.record.path+(Q&&lt+Q)}if(M=vy($,v,z),y?y.alias.push(M):(D=D||M,D!==M&&D.alias.push(M),S&&g.name&&!Xc(M)&&u(g.name)),Rf(M)&&d(M),P.children){const ct=P.children;for(let lt=0;lt<ct.length;lt++)a(ct[lt],M,y&&y.children[lt])}y=y||M}return D?()=>{u(D)}:Ys}function u(g){if(Mf(g)){const v=s.get(g);v&&(s.delete(g),n.splice(n.indexOf(v),1),v.children.forEach(u),v.alias.forEach(u))}else{const v=n.indexOf(g);v>-1&&(n.splice(v,1),g.record.name&&s.delete(g.record.name),g.children.forEach(u),g.alias.forEach(u))}}function h(){return n}function d(g){const v=xy(g,n);n.splice(v,0,g),g.record.name&&!Xc(g)&&s.set(g.record.name,g)}function _(g,v){let y,S={},P,z;if("name"in g&&g.name){if(y=s.get(g.name),!y)throw cs(1,{location:g});z=y.record.name,S=Dt(Kc(v.params,y.keys.filter(D=>!D.optional).concat(y.parent?y.parent.keys.filter(D=>D.optional):[]).map(D=>D.name)),g.params&&Kc(g.params,y.keys.map(D=>D.name))),P=y.stringify(S)}else if(g.path!=null)P=g.path,y=n.find(D=>D.re.test(P)),y&&(S=y.parse(P),z=y.record.name);else{if(y=v.name?s.get(v.name):n.find(D=>D.re.test(v.path)),!y)throw cs(1,{location:g,currentLocation:v});z=y.record.name,S=Dt({},v.params,g.params),P=y.stringify(S)}const A=[];let M=y;for(;M;)A.unshift(M.record),M=M.parent;return{name:z,path:P,params:S,matched:A,meta:wy(A)}}e.forEach(g=>a(g));function p(){n.length=0,s.clear()}return{addRoute:a,resolve:_,removeRoute:u,clearRoutes:p,getRoutes:h,getRecordMatcher:o}}function Kc(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function Yc(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:by(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function by(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function Xc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function wy(e){return e.reduce((t,n)=>Dt(t,n.meta),{})}function Jc(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function xy(e,t){let n=0,s=t.length;for(;n!==s;){const a=n+s>>1;Of(e,t[a])<0?s=a:n=a+1}const o=Py(e);return o&&(s=t.lastIndexOf(o,s-1)),s}function Py(e){let t=e;for(;t=t.parent;)if(Rf(t)&&Of(e,t)===0)return t}function Rf({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Sy(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const a=s[o].replace(Sf," "),u=a.indexOf("="),h=or(u<0?a:a.slice(0,u)),d=u<0?null:or(a.slice(u+1));if(h in t){let _=t[h];hi(_)||(_=t[h]=[_]),_.push(d)}else t[h]=d}return t}function Qc(e){let t="";for(let n in e){const s=e[n];if(n=Wv(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(hi(s)?s.map(a=>a&&tl(a)):[s&&tl(s)]).forEach(a=>{a!==void 0&&(t+=(t.length?"&":"")+n,a!=null&&(t+="="+a))})}return t}function Ey(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=hi(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const Ty=Symbol(""),th=Symbol(""),Oo=Symbol(""),Ql=Symbol(""),il=Symbol("");function Ms(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Qi(e,t,n,s,o,a=u=>u()){const u=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((h,d)=>{const _=v=>{v===!1?d(cs(4,{from:n,to:t})):v instanceof Error?d(v):cy(v)?d(cs(2,{from:t,to:v})):(u&&s.enterCallbacks[o]===u&&typeof v=="function"&&u.push(v),h())},p=a(()=>e.call(s&&s.instances[o],t,n,_));let g=Promise.resolve(p);e.length<3&&(g=g.then(_)),g.catch(v=>d(v))})}function Ea(e,t,n,s,o=a=>a()){const a=[];for(const u of e)for(const h in u.components){let d=u.components[h];if(!(t!=="beforeRouteEnter"&&!u.instances[h]))if(xf(d)){const p=(d.__vccOpts||d)[t];p&&a.push(Qi(p,n,s,u,h,o))}else{let _=d();a.push(()=>_.then(p=>{if(!p)throw new Error(`Couldn't resolve component "${h}" at "${u.path}"`);const g=Rv(p)?p.default:p;u.mods[h]=p,u.components[h]=g;const y=(g.__vccOpts||g)[t];return y&&Qi(y,n,s,u,h,o)()}))}}return a}function eh(e){const t=ci(Oo),n=ci(Ql),s=Ht(()=>{const d=Oe(e.to);return t.resolve(d)}),o=Ht(()=>{const{matched:d}=s.value,{length:_}=d,p=d[_-1],g=n.matched;if(!p||!g.length)return-1;const v=g.findIndex(us.bind(null,p));if(v>-1)return v;const y=ih(d[_-2]);return _>1&&ih(p)===y&&g[g.length-1].path!==y?g.findIndex(us.bind(null,d[_-2])):v}),a=Ht(()=>o.value>-1&&Iy(n.params,s.value.params)),u=Ht(()=>o.value>-1&&o.value===n.matched.length-1&&Lf(n.params,s.value.params));function h(d={}){if(My(d)){const _=t[Oe(e.replace)?"replace":"push"](Oe(e.to)).catch(Ys);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>_),_}return Promise.resolve()}return{route:s,href:Ht(()=>s.value.href),isActive:a,isExactActive:u,navigate:h}}function ky(e){return e.length===1?e[0]:e}const Ly=Ud({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:eh,setup(e,{slots:t}){const n=To(eh(e)),{options:s}=ci(Oo),o=Ht(()=>({[nh(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[nh(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=t.default&&ky(t.default(n));return e.custom?a:bf("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},a)}}}),Cy=Ly;function My(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Iy(e,t){for(const n in t){const s=t[n],o=e[n];if(typeof s=="string"){if(s!==o)return!1}else if(!hi(o)||o.length!==s.length||s.some((a,u)=>a!==o[u]))return!1}return!0}function ih(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const nh=(e,t,n)=>e??t??n,Oy=Ud({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=ci(il),o=Ht(()=>e.route||s.value),a=ci(th,0),u=Ht(()=>{let _=Oe(a);const{matched:p}=o.value;let g;for(;(g=p[_])&&!g.components;)_++;return _}),h=Ht(()=>o.value.matched[u.value]);qr(th,Ht(()=>u.value+1)),qr(Ty,h),qr(il,o);const d=Ae();return zi(()=>[d.value,h.value,e.name],([_,p,g],[v,y,S])=>{p&&(p.instances[g]=_,y&&y!==p&&_&&_===v&&(p.leaveGuards.size||(p.leaveGuards=y.leaveGuards),p.updateGuards.size||(p.updateGuards=y.updateGuards))),_&&p&&(!y||!us(p,y)||!v)&&(p.enterCallbacks[g]||[]).forEach(P=>P(_))},{flush:"post"}),()=>{const _=o.value,p=e.name,g=h.value,v=g&&g.components[p];if(!v)return sh(n.default,{Component:v,route:_});const y=g.props[p],S=y?y===!0?_.params:typeof y=="function"?y(_):y:null,z=bf(v,Dt({},S,t,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(g.instances[p]=null)},ref:d}));return sh(n.default,{Component:z,route:_})||z}}});function sh(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Ry=Oy;function Ay(e){const t=yy(e.routes,e),n=e.parseQuery||Sy,s=e.stringifyQuery||Qc,o=e.history,a=Ms(),u=Ms(),h=Ms(),d=Wg(Gi);let _=Gi;Yn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Pa.bind(null,I=>""+I),g=Pa.bind(null,Uv),v=Pa.bind(null,or);function y(I,q){let U,K;return Mf(I)?(U=t.getRecordMatcher(I),K=q):K=I,t.addRoute(K,U)}function S(I){const q=t.getRecordMatcher(I);q&&t.removeRoute(q)}function P(){return t.getRoutes().map(I=>I.record)}function z(I){return!!t.getRecordMatcher(I)}function A(I,q){if(q=Dt({},q||d.value),typeof I=="string"){const E=Sa(n,I,q.path),O=t.resolve({path:E.path},q),F=o.createHref(E.fullPath);return Dt(E,O,{params:v(O.params),hash:or(E.hash),redirectedFrom:void 0,href:F})}let U;if(I.path!=null)U=Dt({},I,{path:Sa(n,I.path,q.path).path});else{const E=Dt({},I.params);for(const O in E)E[O]==null&&delete E[O];U=Dt({},I,{params:g(E)}),q.params=g(q.params)}const K=t.resolve(U,q),It=I.hash||"";K.params=p(v(K.params));const b=Kv(s,Dt({},I,{hash:jv(It),path:K.path})),w=o.createHref(b);return Dt({fullPath:b,hash:It,query:s===Qc?Ey(I.query):I.query||{}},K,{redirectedFrom:void 0,href:w})}function M(I){return typeof I=="string"?Sa(n,I,d.value.path):Dt({},I)}function D(I,q){if(_!==I)return cs(8,{from:q,to:I})}function $(I){return lt(I)}function Q(I){return $(Dt(M(I),{replace:!0}))}function ct(I){const q=I.matched[I.matched.length-1];if(q&&q.redirect){const{redirect:U}=q;let K=typeof U=="function"?U(I):U;return typeof K=="string"&&(K=K.includes("?")||K.includes("#")?K=M(K):{path:K},K.params={}),Dt({query:I.query,hash:I.hash,params:K.path!=null?{}:I.params},K)}}function lt(I,q){const U=_=A(I),K=d.value,It=I.state,b=I.force,w=I.replace===!0,E=ct(U);if(E)return lt(Dt(M(E),{state:typeof E=="object"?Dt({},It,E.state):It,force:b,replace:w}),q||U);const O=U;O.redirectedFrom=q;let F;return!b&&Yv(s,K,U)&&(F=cs(16,{to:O,from:K}),yt(K,K,!0,!1)),(F?Promise.resolve(F):zt(O,K)).catch(R=>Mi(R)?Mi(R,2)?R:et(R):H(R,O,K)).then(R=>{if(R){if(Mi(R,2))return lt(Dt({replace:w},M(R.to),{state:typeof R.to=="object"?Dt({},It,R.to.state):It,force:b}),q||O)}else R=kt(O,K,!0,w,It);return pt(O,K,R),R})}function nt(I,q){const U=D(I,q);return U?Promise.reject(U):Promise.resolve()}function Vt(I){const q=bt.values().next().value;return q&&typeof q.runWithContext=="function"?q.runWithContext(I):I()}function zt(I,q){let U;const[K,It,b]=Fy(I,q);U=Ea(K.reverse(),"beforeRouteLeave",I,q);for(const E of K)E.leaveGuards.forEach(O=>{U.push(Qi(O,I,q))});const w=nt.bind(null,I,q);return U.push(w),st(U).then(()=>{U=[];for(const E of a.list())U.push(Qi(E,I,q));return U.push(w),st(U)}).then(()=>{U=Ea(It,"beforeRouteUpdate",I,q);for(const E of It)E.updateGuards.forEach(O=>{U.push(Qi(O,I,q))});return U.push(w),st(U)}).then(()=>{U=[];for(const E of b)if(E.beforeEnter)if(hi(E.beforeEnter))for(const O of E.beforeEnter)U.push(Qi(O,I,q));else U.push(Qi(E.beforeEnter,I,q));return U.push(w),st(U)}).then(()=>(I.matched.forEach(E=>E.enterCallbacks={}),U=Ea(b,"beforeRouteEnter",I,q,Vt),U.push(w),st(U))).then(()=>{U=[];for(const E of u.list())U.push(Qi(E,I,q));return U.push(w),st(U)}).catch(E=>Mi(E,8)?E:Promise.reject(E))}function pt(I,q,U){h.list().forEach(K=>Vt(()=>K(I,q,U)))}function kt(I,q,U,K,It){const b=D(I,q);if(b)return b;const w=q===Gi,E=Yn?history.state:{};U&&(K||w?o.replace(I.fullPath,Dt({scroll:w&&E&&E.scroll},It)):o.push(I.fullPath,It)),d.value=I,yt(I,q,U,w),et()}let Mt;function At(){Mt||(Mt=o.listen((I,q,U)=>{if(!xt.listening)return;const K=A(I),It=ct(K);if(It){lt(Dt(It,{replace:!0,force:!0}),K).catch(Ys);return}_=K;const b=d.value;Yn&&sy(Wc(b.fullPath,U.delta),Io()),zt(K,b).catch(w=>Mi(w,12)?w:Mi(w,2)?(lt(Dt(M(w.to),{force:!0}),K).then(E=>{Mi(E,20)&&!U.delta&&U.type===ar.pop&&o.go(-1,!1)}).catch(Ys),Promise.reject()):(U.delta&&o.go(-U.delta,!1),H(w,K,b))).then(w=>{w=w||kt(K,b,!1),w&&(U.delta&&!Mi(w,8)?o.go(-U.delta,!1):U.type===ar.pop&&Mi(w,20)&&o.go(-1,!1)),pt(K,b,w)}).catch(Ys)}))}let Gt=Ms(),vt=Ms(),_t;function H(I,q,U){et(I);const K=vt.list();return K.length?K.forEach(It=>It(I,q,U)):console.error(I),Promise.reject(I)}function te(){return _t&&d.value!==Gi?Promise.resolve():new Promise((I,q)=>{Gt.add([I,q])})}function et(I){return _t||(_t=!I,At(),Gt.list().forEach(([q,U])=>I?U(I):q()),Gt.reset()),I}function yt(I,q,U,K){const{scrollBehavior:It}=e;if(!Yn||!It)return Promise.resolve();const b=!U&&ry(Wc(I.fullPath,0))||(K||!U)&&history.state&&history.state.scroll||null;return Zd().then(()=>It(I,q,b)).then(w=>w&&ny(w)).catch(w=>H(w,I,q))}const dt=I=>o.go(I);let Lt;const bt=new Set,xt={currentRoute:d,listening:!0,addRoute:y,removeRoute:S,clearRoutes:t.clearRoutes,hasRoute:z,getRoutes:P,resolve:A,options:e,push:$,replace:Q,go:dt,back:()=>dt(-1),forward:()=>dt(1),beforeEach:a.add,beforeResolve:u.add,afterEach:h.add,onError:vt.add,isReady:te,install(I){const q=this;I.component("RouterLink",Cy),I.component("RouterView",Ry),I.config.globalProperties.$router=q,Object.defineProperty(I.config.globalProperties,"$route",{enumerable:!0,get:()=>Oe(d)}),Yn&&!Lt&&d.value===Gi&&(Lt=!0,$(o.location).catch(It=>{}));const U={};for(const It in Gi)Object.defineProperty(U,It,{get:()=>d.value[It],enumerable:!0});I.provide(Oo,q),I.provide(Ql,Dd(U)),I.provide(il,d);const K=I.unmount;bt.add(I),I.unmount=function(){bt.delete(I),bt.size<1&&(_=Gi,Mt&&Mt(),Mt=null,d.value=Gi,Lt=!1,_t=!1),K()}}};function st(I){return I.reduce((q,U)=>q.then(()=>Vt(U)),Promise.resolve())}return xt}function Fy(e,t){const n=[],s=[],o=[],a=Math.max(t.matched.length,e.matched.length);for(let u=0;u<a;u++){const h=t.matched[u];h&&(e.matched.find(_=>us(_,h))?s.push(h):n.push(h));const d=e.matched[u];d&&(t.matched.find(_=>us(_,d))||o.push(d))}return[n,s,o]}function Af(){return ci(Oo)}function Dy(e){return ci(Ql)}const hn=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n},Ny={};function $y(e,t){const n=_m("router-view");return jt(),gf(n)}const zy=hn(Ny,[["render",$y]]);var ai,k=typeof window<"u"?window:void 0,$e=typeof globalThis<"u"?globalThis:k,Ff=Array.prototype,rh=Ff.forEach,oh=Ff.indexOf,Ue=$e==null?void 0:$e.navigator,tt=$e==null?void 0:$e.document,Ne=$e==null?void 0:$e.location,nl=$e==null?void 0:$e.fetch,sl=$e!=null&&$e.XMLHttpRequest&&"withCredentials"in new $e.XMLHttpRequest?$e.XMLHttpRequest:void 0,ah=$e==null?void 0:$e.AbortController,De=Ue==null?void 0:Ue.userAgent,wt=k??{},Di={DEBUG:!1,LIB_VERSION:"1.245.0"},Ta="$copy_autocapture",By=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];(function(e){e.GZipJS="gzip-js",e.Base64="base64"})(ai||(ai={}));var Zy=["fatal","error","warning","log","info","debug"];function Tt(e,t){return e.indexOf(t)!==-1}var Ro=function(e){return e.trim()},rl=function(e){return e.replace(/^\$/,"")},Hy=Array.isArray,Df=Object.prototype,Nf=Df.hasOwnProperty,Ao=Df.toString,Jt=Hy||function(e){return Ao.call(e)==="[object Array]"},ti=e=>typeof e=="function",ne=e=>e===Object(e)&&!Jt(e),Jn=e=>{if(ne(e)){for(var t in e)if(Nf.call(e,t))return!1;return!0}return!1},V=e=>e===void 0,se=e=>Ao.call(e)=="[object String]",ol=e=>se(e)&&e.trim().length===0,dn=e=>e===null,Ft=e=>V(e)||dn(e),Pe=e=>Ao.call(e)=="[object Number]",$i=e=>Ao.call(e)==="[object Boolean]",jy=e=>e instanceof FormData,Wy=e=>Tt(By,e),$f=e=>{var t={t:function(n){if(k&&(Di.DEBUG||wt.POSTHOG_DEBUG)&&!V(k.console)&&k.console){for(var s=("__rrweb_original__"in k.console[n])?k.console[n].__rrweb_original__:k.console[n],o=arguments.length,a=new Array(o>1?o-1:0),u=1;u<o;u++)a[u-1]=arguments[u];s(e,...a)}},info:function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];t.t("log",...s)},warn:function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];t.t("warn",...s)},error:function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];t.t("error",...s)},critical:function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];console.error(e,...s)},uninitializedWarning:n=>{t.error("You must initialize PostHog before calling "+n)},createLogger:n=>$f(e+" "+n)};return t},it=$f("[PostHog.js]"),me=it.createLogger,qy=me("[ExternalScriptsLoader]"),lh=(e,t,n)=>{if(e.config.disable_external_dependency_loading)return qy.warn(t+" was requested but loading of external scripts is disabled."),n("Loading of external scripts is disabled");var s=tt==null?void 0:tt.querySelectorAll("script");if(s){for(var o=0;o<s.length;o++)if(s[o].src===t)return n()}var a=()=>{if(!tt)return n("document not found");var u=tt.createElement("script");if(u.type="text/javascript",u.crossOrigin="anonymous",u.src=t,u.onload=_=>n(void 0,_),u.onerror=_=>n(_),e.config.prepare_external_dependency_script&&(u=e.config.prepare_external_dependency_script(u)),!u)return n("prepare_external_dependency_script returned null");var h,d=tt.querySelectorAll("body > script");d.length>0?(h=d[0].parentNode)==null||h.insertBefore(u,d[0]):tt.body.appendChild(u)};tt!=null&&tt.body?a():tt==null||tt.addEventListener("DOMContentLoaded",a)};function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},X.apply(this,arguments)}function zf(e,t){if(e==null)return{};var n,s,o={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(o[n]=e[n]);return o}wt.__PosthogExtensions__=wt.__PosthogExtensions__||{},wt.__PosthogExtensions__.loadExternalDependency=(e,t,n)=>{var s="/static/"+t+".js?v="+e.version;if(t==="remote-config"&&(s="/array/"+e.config.token+"/config.js"),t==="toolbar"){var o=3e5;s=s+"&t="+Math.floor(Date.now()/o)*o}var a=e.requestRouter.endpointFor("assets",s);lh(e,a,n)},wt.__PosthogExtensions__.loadSiteApp=(e,t,n)=>{var s=e.requestRouter.endpointFor("api",t);lh(e,s,n)};var ro={};function rn(e,t,n){if(Jt(e)){if(rh&&e.forEach===rh)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(var s=0,o=e.length;s<o;s++)if(s in e&&t.call(n,e[s],s)===ro)return}}}function Zt(e,t,n){if(!Ft(e)){if(Jt(e))return rn(e,t,n);if(jy(e)){for(var s of e.entries())if(t.call(n,s[1],s[0])===ro)return}else for(var o in e)if(Nf.call(e,o)&&t.call(n,e[o],o)===ro)return}}var ue=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return rn(n,function(o){for(var a in o)o[a]!==void 0&&(e[a]=o[a])}),e},Fo=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return rn(n,function(o){rn(o,function(a){e.push(a)})}),e};function Kr(e){for(var t=Object.keys(e),n=t.length,s=new Array(n);n--;)s[n]=[t[n],e[t[n]]];return s}var uh=function(e){try{return e()}catch{return}},Uy=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return e.apply(this,n)}catch(o){it.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),it.critical(o)}}},tu=function(e){var t={};return Zt(e,function(n,s){(se(n)&&n.length>0||Pe(n))&&(t[s]=n)}),t};function Vy(e,t){return n=e,s=a=>se(a)&&!dn(t)?a.slice(0,t):a,o=new Set,function a(u,h){return u!==Object(u)?s?s(u,h):u:o.has(u)?void 0:(o.add(u),Jt(u)?(d=[],rn(u,_=>{d.push(a(_))})):(d={},Zt(u,(_,p)=>{o.has(_)||(d[p]=a(_,p))})),d);var d}(n);var n,s,o}var Gy=["herokuapp.com","vercel.app","netlify.app"];function Ky(e){var t=e==null?void 0:e.hostname;if(!se(t))return!1;var n=t.split(".").slice(-2).join(".");for(var s of Gy)if(n===s)return!1;return!0}function Bf(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}function ie(e,t,n,s){var{capture:o=!1,passive:a=!0}=s??{};e==null||e.addEventListener(t,n,{capture:o,passive:a})}var Zf="$people_distinct_id",Ns="__alias",$s="__timers",ch="$autocapture_disabled_server_side",al="$heatmaps_enabled_server_side",hh="$exception_capture_enabled_server_side",ll="$error_tracking_suppression_rules",dh="$web_vitals_enabled_server_side",Hf="$dead_clicks_enabled_server_side",fh="$web_vitals_allowed_metrics",ul="$session_recording_enabled_server_side",ph="$console_log_recording_enabled_server_side",_h="$session_recording_network_payload_capture",gh="$session_recording_masking",mh="$session_recording_canvas_recording",vh="$replay_sample_rate",yh="$replay_minimum_duration",bh="$replay_script_config",oo="$sesid",zs="$session_is_sampled",cl="$session_recording_url_trigger_activated_session",hl="$session_recording_event_trigger_activated_session",Qn="$enabled_feature_flags",Yr="$early_access_features",dl="$feature_flag_details",Bs="$stored_person_properties",En="$stored_group_properties",fl="$surveys",Dr="$surveys_activated",ao="$flag_call_reported",Ri="$user_state",pl="$client_session_props",_l="$capture_rate_limit",gl="$initial_campaign_params",ml="$initial_referrer_info",lo="$initial_person_info",uo="$epp",jf="__POSTHOG_TOOLBAR__",wh="$posthog_cookieless",Yy=[Zf,Ns,"__cmpns",$s,ul,al,oo,Qn,ll,Ri,Yr,dl,En,Bs,fl,ao,pl,_l,gl,ml,uo,lo];function xh(e){return e instanceof Element&&(e.id===jf||!(e.closest==null||!e.closest(".toolbar-global-fade-container")))}function Do(e){return!!e&&e.nodeType===1}function on(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function Wf(e){return!!e&&e.nodeType===3}function qf(e){return!!e&&e.nodeType===11}function eu(e){return e?Ro(e).split(/\s+/):[]}function Ph(e){var t=k==null?void 0:k.location.href;return!!(t&&e&&e.some(n=>t.match(n)))}function co(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return eu(t)}function Uf(e){return Ft(e)?null:Ro(e).split(/(\s+)/).filter(t=>hs(t)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function No(e){var t="";return yl(e)&&!Kf(e)&&e.childNodes&&e.childNodes.length&&Zt(e.childNodes,function(n){var s;Wf(n)&&n.textContent&&(t+=(s=Uf(n.textContent))!==null&&s!==void 0?s:"")}),Ro(t)}function Vf(e){return V(e.target)?e.srcElement||null:(t=e.target)!=null&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var vl=["a","button","form","input","select","textarea","label"];function Gf(e){var t=e.parentNode;return!(!t||!Do(t))&&t}function Xy(e,t,n,s,o){var a,u,h;if(n===void 0&&(n=void 0),!k||!e||on(e,"html")||!Do(e)||(a=n)!=null&&a.url_allowlist&&!Ph(n.url_allowlist)||(u=n)!=null&&u.url_ignorelist&&Ph(n.url_ignorelist))return!1;if((h=n)!=null&&h.dom_event_allowlist){var d=n.dom_event_allowlist;if(d&&!d.some(z=>t.type===z))return!1}for(var _=!1,p=[e],g=!0,v=e;v.parentNode&&!on(v,"body");)if(qf(v.parentNode))p.push(v.parentNode.host),v=v.parentNode.host;else{if(!(g=Gf(v)))break;if(s||vl.indexOf(g.tagName.toLowerCase())>-1)_=!0;else{var y=k.getComputedStyle(g);y&&y.getPropertyValue("cursor")==="pointer"&&(_=!0)}p.push(g),v=g}if(!function(z,A){var M=A==null?void 0:A.element_allowlist;if(V(M))return!0;var D=function(ct){if(M.some(lt=>ct.tagName.toLowerCase()===lt))return{v:!0}};for(var $ of z){var Q=D($);if(typeof Q=="object")return Q.v}return!1}(p,n)||!function(z,A){var M=A==null?void 0:A.css_selector_allowlist;if(V(M))return!0;var D=function(ct){if(M.some(lt=>ct.matches(lt)))return{v:!0}};for(var $ of z){var Q=D($);if(typeof Q=="object")return Q.v}return!1}(p,n))return!1;var S=k.getComputedStyle(e);if(S&&S.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var P=e.tagName.toLowerCase();switch(P){case"html":return!1;case"form":return(o||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(o||["change","click"]).indexOf(t.type)>=0;default:return _?(o||["click"]).indexOf(t.type)>=0:(o||["click"]).indexOf(t.type)>=0&&(vl.indexOf(P)>-1||e.getAttribute("contenteditable")==="true")}}function yl(e){for(var t=e;t.parentNode&&!on(t,"body");t=t.parentNode){var n=co(t);if(Tt(n,"ph-sensitive")||Tt(n,"ph-no-capture"))return!1}if(Tt(co(e),"ph-include"))return!0;var s=e.type||"";if(se(s))switch(s.toLowerCase()){case"hidden":case"password":return!1}var o=e.name||e.id||"";return!(se(o)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(o.replace(/[^a-zA-Z0-9]/g,"")))}function Kf(e){return!!(on(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||on(e,"select")||on(e,"textarea")||e.getAttribute("contenteditable")==="true")}var Yf="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",Jy=new RegExp("^(?:"+Yf+")$"),Qy=new RegExp(Yf),Xf="\\d{3}-?\\d{2}-?\\d{4}",t0=new RegExp("^("+Xf+")$"),e0=new RegExp("("+Xf+")");function hs(e,t){return t===void 0&&(t=!0),!(Ft(e)||se(e)&&(e=Ro(e),(t?Jy:Qy).test((e||"").replace(/[- ]/g,""))||(t?t0:e0).test(e)))}function Jf(e){var t=No(e);return hs(t=(t+" "+Qf(e)).trim())?t:""}function Qf(e){var t="";return e&&e.childNodes&&e.childNodes.length&&Zt(e.childNodes,function(n){var s;if(n&&((s=n.tagName)==null?void 0:s.toLowerCase())==="span")try{var o=No(n);t=(t+" "+o).trim(),n.childNodes&&n.childNodes.length&&(t=(t+" "+Qf(n)).trim())}catch(a){it.error("[AutoCapture]",a)}}),t}function i0(e){return function(t){var n=t.map(s=>{var o,a,u="";if(s.tag_name&&(u+=s.tag_name),s.attr_class)for(var h of(s.attr_class.sort(),s.attr_class))u+="."+h.replace(/"/g,"");var d=X({},s.text?{text:s.text}:{},{"nth-child":(o=s.nth_child)!==null&&o!==void 0?o:0,"nth-of-type":(a=s.nth_of_type)!==null&&a!==void 0?a:0},s.href?{href:s.href}:{},s.attr_id?{attr_id:s.attr_id}:{},s.attributes),_={};return Kr(d).sort((p,g)=>{var[v]=p,[y]=g;return v.localeCompare(y)}).forEach(p=>{var[g,v]=p;return _[Sh(g.toString())]=Sh(v.toString())}),u+=":",u+=Kr(_).map(p=>{var[g,v]=p;return g+'="'+v+'"'}).join("")});return n.join(";")}(function(t){return t.map(n=>{var s,o,a={text:(s=n.$el_text)==null?void 0:s.slice(0,400),tag_name:n.tag_name,href:(o=n.attr__href)==null?void 0:o.slice(0,2048),attr_class:n0(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return Kr(n).filter(u=>{var[h]=u;return h.indexOf("attr__")===0}).forEach(u=>{var[h,d]=u;return a.attributes[h]=d}),a})}(e))}function Sh(e){return e.replace(/"|\\"/g,'\\"')}function n0(e){var t=e.attr__class;return t?Jt(t)?t:eu(t):void 0}class tp{constructor(){this.clicks=[]}isRageClick(t,n,s){var o=this.clicks[this.clicks.length-1];if(o&&Math.abs(t-o.x)+Math.abs(n-o.y)<30&&s-o.timestamp<1e3){if(this.clicks.push({x:t,y:n,timestamp:s}),this.clicks.length===3)return!0}else this.clicks=[{x:t,y:n,timestamp:s}];return!1}}var s0=["localhost","127.0.0.1"],ds=e=>{var t=tt==null?void 0:tt.createElement("a");return V(t)?null:(t.href=e,t)},r0=function(e,t){var n,s;t===void 0&&(t="&");var o=[];return Zt(e,function(a,u){V(a)||V(u)||u==="undefined"||(n=encodeURIComponent((h=>h instanceof File)(a)?a.name:a.toString()),s=encodeURIComponent(u),o[o.length]=s+"="+n)}),o.join(t)},ho=function(e,t){for(var n,s=((e.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),o=0;o<s.length;o++){var a=s[o].split("=");if(a[0]===t){n=a;break}}if(!Jt(n)||n.length<2)return"";var u=n[1];try{u=decodeURIComponent(u)}catch{it.error("Skipping decoding for malformed query param: "+u)}return u.replace(/\+/g," ")},iu=function(e,t,n){if(!e||!t||!t.length)return e;for(var s=e.split("#"),o=s[0]||"",a=s[1],u=o.split("?"),h=u[1],d=u[0],_=(h||"").split("&"),p=[],g=0;g<_.length;g++){var v=_[g].split("=");Jt(v)&&(t.includes(v[0])?p.push(v[0]+"="+n):p.push(_[g]))}var y=d;return h!=null&&(y+="?"+p.join("&")),a!=null&&(y+="#"+a),y},fo=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},Eh=me("[AutoCapture]");function ka(e,t){return t.length>e?t.slice(0,e)+"...":t}function o0(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!Do(t));return t}function a0(e,t,n,s){var o=e.tagName.toLowerCase(),a={tag_name:o};vl.indexOf(o)>-1&&!n&&(o.toLowerCase()==="a"||o.toLowerCase()==="button"?a.$el_text=ka(1024,Jf(e)):a.$el_text=ka(1024,No(e)));var u=co(e);u.length>0&&(a.classes=u.filter(function(p){return p!==""})),Zt(e.attributes,function(p){var g;if((!Kf(e)||["name","id","class","aria-label"].indexOf(p.name)!==-1)&&(s==null||!s.includes(p.name))&&!t&&hs(p.value)&&(g=p.name,!se(g)||g.substring(0,10)!=="_ngcontent"&&g.substring(0,7)!=="_nghost")){var v=p.value;p.name==="class"&&(v=eu(v).join(" ")),a["attr__"+p.name]=ka(1024,v)}});for(var h=1,d=1,_=e;_=o0(_);)h++,_.tagName===e.tagName&&d++;return a.nth_child=h,a.nth_of_type=d,a}function l0(e,t){for(var n,s,{e:o,maskAllElementAttributes:a,maskAllText:u,elementAttributeIgnoreList:h,elementsChainAsString:d}=t,_=[e],p=e;p.parentNode&&!on(p,"body");)qf(p.parentNode)?(_.push(p.parentNode.host),p=p.parentNode.host):(_.push(p.parentNode),p=p.parentNode);var g,v=[],y={},S=!1,P=!1;if(Zt(_,$=>{var Q=yl($);$.tagName.toLowerCase()==="a"&&(S=$.getAttribute("href"),S=Q&&S&&hs(S)&&S),Tt(co($),"ph-no-capture")&&(P=!0),v.push(a0($,a,u,h));var ct=function(lt){if(!yl(lt))return{};var nt={};return Zt(lt.attributes,function(Vt){if(Vt.name&&Vt.name.indexOf("data-ph-capture-attribute")===0){var zt=Vt.name.replace("data-ph-capture-attribute-",""),pt=Vt.value;zt&&pt&&hs(pt)&&(nt[zt]=pt)}}),nt}($);ue(y,ct)}),P)return{props:{},explicitNoCapture:P};if(u||(e.tagName.toLowerCase()==="a"||e.tagName.toLowerCase()==="button"?v[0].$el_text=Jf(e):v[0].$el_text=No(e)),S){var z,A;v[0].attr__href=S;var M=(z=ds(S))==null?void 0:z.host,D=k==null||(A=k.location)==null?void 0:A.host;M&&D&&M!==D&&(g=S)}return{props:ue({$event_type:o.type,$ce_version:1},d?{}:{$elements:v},{$elements_chain:i0(v)},(n=v[0])!=null&&n.$el_text?{$el_text:(s=v[0])==null?void 0:s.$el_text}:{},g&&o.type==="click"?{$external_click_url:g}:{},y)}}class u0{constructor(t){this.i=!1,this.o=null,this.rageclicks=new tp,this.h=!1,this.instance=t,this.m=null}get S(){var t,n,s=ne(this.instance.config.autocapture)?this.instance.config.autocapture:{};return s.url_allowlist=(t=s.url_allowlist)==null?void 0:t.map(o=>new RegExp(o)),s.url_ignorelist=(n=s.url_ignorelist)==null?void 0:n.map(o=>new RegExp(o)),s}$(){if(this.isBrowserSupported()){if(k&&tt){var t=s=>{s=s||(k==null?void 0:k.event);try{this.k(s)}catch(o){Eh.error("Failed to capture event",o)}};if(ie(tt,"submit",t,{capture:!0}),ie(tt,"change",t,{capture:!0}),ie(tt,"click",t,{capture:!0}),this.S.capture_copied_text){var n=s=>{s=s||(k==null?void 0:k.event),this.k(s,Ta)};ie(tt,"copy",n,{capture:!0}),ie(tt,"cut",n,{capture:!0})}}}else Eh.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.i&&(this.$(),this.i=!0)}onRemoteConfig(t){t.elementsChainAsString&&(this.h=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[ch]:!!t.autocapture_opt_out}),this.o=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this.m=t}getElementSelectors(t){var n,s=[];return(n=this.m)==null||n.forEach(o=>{var a=tt==null?void 0:tt.querySelectorAll(o);a==null||a.forEach(u=>{t===u&&s.push(o)})}),s}get isEnabled(){var t,n,s=(t=this.instance.persistence)==null?void 0:t.props[ch],o=this.o;if(dn(o)&&!$i(s)&&!this.instance.config.advanced_disable_decide)return!1;var a=(n=this.o)!==null&&n!==void 0?n:!!s;return!!this.instance.config.autocapture&&!a}k(t,n){if(n===void 0&&(n="$autocapture"),this.isEnabled){var s,o=Vf(t);Wf(o)&&(o=o.parentNode||null),n==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(s=this.rageclicks)!=null&&s.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this.k(t,"$rageclick");var a=n===Ta;if(o&&Xy(o,t,this.S,a,a?["copy","cut"]:void 0)){var{props:u,explicitNoCapture:h}=l0(o,{e:t,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.S.element_attribute_ignorelist,elementsChainAsString:this.h});if(h)return!1;var d=this.getElementSelectors(o);if(d&&d.length>0&&(u.$element_selectors=d),n===Ta){var _,p=Uf(k==null||(_=k.getSelection())==null?void 0:_.toString()),g=t.type||"clipboard";if(!p)return!1;u.$selected_content=p,u.$copy_type=g}return this.instance.capture(n,u),!0}}}isBrowserSupported(){return ti(tt==null?void 0:tt.querySelectorAll)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return Pe(e)&&isFinite(e)&&Math.floor(e)===e});var Th="0123456789abcdef";class po{constructor(t){if(this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(t,n,s,o){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(s)||!Number.isInteger(o)||t<0||n<0||s<0||o<0||t>0xffffffffffff||n>4095||s>1073741823||o>4294967295)throw new RangeError("invalid field value");var a=new Uint8Array(16);return a[0]=t/Math.pow(2,40),a[1]=t/Math.pow(2,32),a[2]=t/Math.pow(2,24),a[3]=t/Math.pow(2,16),a[4]=t/Math.pow(2,8),a[5]=t,a[6]=112|n>>>8,a[7]=n,a[8]=128|s>>>24,a[9]=s>>>16,a[10]=s>>>8,a[11]=s,a[12]=o>>>24,a[13]=o>>>16,a[14]=o>>>8,a[15]=o,new po(a)}toString(){for(var t="",n=0;n<this.bytes.length;n++)t=t+Th.charAt(this.bytes[n]>>>4)+Th.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}clone(){return new po(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(var n=0;n<16;n++){var s=this.bytes[n]-t.bytes[n];if(s!==0)return Math.sign(s)}return 0}}class c0{constructor(){this.I=0,this.P=0,this.R=new h0}generate(){var t=this.generateOrAbort();if(V(t)){this.I=0;var n=this.generateOrAbort();if(V(n))throw new Error("Could not generate UUID after timestamp reset");return n}return t}generateOrAbort(){var t=Date.now();if(t>this.I)this.I=t,this.T();else{if(!(t+1e4>this.I))return;this.P++,this.P>4398046511103&&(this.I++,this.T())}return po.fromFieldsV7(this.I,Math.trunc(this.P/Math.pow(2,30)),this.P&Math.pow(2,30)-1,this.R.nextUint32())}T(){this.P=1024*this.R.nextUint32()+(1023&this.R.nextUint32())}}var kh,ep=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};k&&!V(k.crypto)&&crypto.getRandomValues&&(ep=e=>crypto.getRandomValues(e));class h0{constructor(){this.M=new Uint32Array(8),this.C=1/0}nextUint32(){return this.C>=this.M.length&&(ep(this.M),this.C=0),this.M[this.C++]}}var nn=()=>d0().toString(),d0=()=>(kh||(kh=new c0)).generate(),f0="Thu, 01 Jan 1970 00:00:00 GMT",Is="",p0=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function _0(e,t){if(t){var n=function(o,a){if(a===void 0&&(a=tt),Is)return Is;if(!a||["localhost","127.0.0.1"].includes(o))return"";for(var u=o.split("."),h=Math.min(u.length,8),d="dmn_chk_"+nn(),_=new RegExp("(^|;)\\s*"+d+"=1");!Is&&h--;){var p=u.slice(h).join("."),g=d+"=1;domain=."+p;a.cookie=g,_.test(a.cookie)&&(a.cookie=g+";expires="+f0,Is=p)}return Is}(e);if(!n){var s=(o=>{var a=o.match(p0);return a?a[0]:""})(e);s!==n&&it.info("Warning: cookie subdomain discovery mismatch",s,n),n=s}return n?"; domain=."+n:""}return""}var tn,Zi={O:()=>!!tt,F:function(e){it.error("cookieStore error: "+e)},A:function(e){if(tt){try{for(var t=e+"=",n=tt.cookie.split(";").filter(a=>a.length),s=0;s<n.length;s++){for(var o=n[s];o.charAt(0)==" ";)o=o.substring(1,o.length);if(o.indexOf(t)===0)return decodeURIComponent(o.substring(t.length,o.length))}}catch{}return null}},D:function(e){var t;try{t=JSON.parse(Zi.A(e))||{}}catch{}return t},j:function(e,t,n,s,o){if(tt)try{var a="",u="",h=_0(tt.location.hostname,s);if(n){var d=new Date;d.setTime(d.getTime()+24*n*60*60*1e3),a="; expires="+d.toUTCString()}o&&(u="; secure");var _=e+"="+encodeURIComponent(JSON.stringify(t))+a+"; SameSite=Lax; path=/"+h+u;return _.length>3686.4&&it.warn("cookieStore warning: large cookie, len="+_.length),tt.cookie=_,_}catch{return}},L:function(e,t){try{Zi.j(e,"",-1,t)}catch{return}}},La=null,de={O:function(){if(!dn(La))return La;var e=!0;if(V(k))e=!1;else try{var t="__mplssupport__";de.j(t,"xyz"),de.A(t)!=='"xyz"'&&(e=!1),de.L(t)}catch{e=!1}return e||it.error("localStorage unsupported; falling back to cookie store"),La=e,e},F:function(e){it.error("localStorage error: "+e)},A:function(e){try{return k==null?void 0:k.localStorage.getItem(e)}catch(t){de.F(t)}return null},D:function(e){try{return JSON.parse(de.A(e))||{}}catch{}return null},j:function(e,t){try{k==null||k.localStorage.setItem(e,JSON.stringify(t))}catch(n){de.F(n)}},L:function(e){try{k==null||k.localStorage.removeItem(e)}catch(t){de.F(t)}}},g0=["distinct_id",oo,zs,uo,lo],Nr=X({},de,{D:function(e){try{var t={};try{t=Zi.D(e)||{}}catch{}var n=ue(t,JSON.parse(de.A(e)||"{}"));return de.j(e,n),n}catch{}return null},j:function(e,t,n,s,o,a){try{de.j(e,t,void 0,void 0,a);var u={};g0.forEach(h=>{t[h]&&(u[h]=t[h])}),Object.keys(u).length&&Zi.j(e,u,n,s,o,a)}catch(h){de.F(h)}},L:function(e,t){try{k==null||k.localStorage.removeItem(e),Zi.L(e,t)}catch(n){de.F(n)}}}),$r={},m0={O:function(){return!0},F:function(e){it.error("memoryStorage error: "+e)},A:function(e){return $r[e]||null},D:function(e){return $r[e]||null},j:function(e,t){$r[e]=t},L:function(e){delete $r[e]}},bn=null,ge={O:function(){if(!dn(bn))return bn;if(bn=!0,V(k))bn=!1;else try{var e="__support__";ge.j(e,"xyz"),ge.A(e)!=='"xyz"'&&(bn=!1),ge.L(e)}catch{bn=!1}return bn},F:function(e){it.error("sessionStorage error: ",e)},A:function(e){try{return k==null?void 0:k.sessionStorage.getItem(e)}catch(t){ge.F(t)}return null},D:function(e){try{return JSON.parse(ge.A(e))||null}catch{}return null},j:function(e,t){try{k==null||k.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){ge.F(n)}},L:function(e){try{k==null||k.sessionStorage.removeItem(e)}catch(t){ge.F(t)}}};(function(e){e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED"})(tn||(tn={}));class v0{constructor(t){this._instance=t}get S(){return this._instance.config}get consent(){return this.N()?tn.DENIED:this.U}isOptedOut(){return this.consent===tn.DENIED||this.consent===tn.PENDING&&this.S.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(t){this.q.j(this.B,t?1:0,this.S.cookie_expiration,this.S.cross_subdomain_cookie,this.S.secure_cookie)}reset(){this.q.L(this.B,this.S.cross_subdomain_cookie)}get B(){var{token:t,opt_out_capturing_cookie_prefix:n}=this._instance.config;return(n||"__ph_opt_in_out_")+t}get U(){var t=this.q.A(this.B);return t==="1"?tn.GRANTED:t==="0"?tn.DENIED:tn.PENDING}get q(){if(!this.H){var t=this.S.opt_out_capturing_persistence_type;this.H=t==="localStorage"?de:Zi;var n=t==="localStorage"?Zi:de;n.A(this.B)&&(this.H.A(this.B)||this.optInOut(n.A(this.B)==="1"),n.L(this.B,this.S.cross_subdomain_cookie))}return this.H}N(){return!!this.S.respect_dnt&&!!Bf([Ue==null?void 0:Ue.doNotTrack,Ue==null?void 0:Ue.msDoNotTrack,wt.doNotTrack],t=>Tt([!0,1,"1","yes"],t))}}var zr=me("[Dead Clicks]"),y0=()=>!0,b0=e=>{var t,n=!((t=e.instance.persistence)==null||!t.get_property(Hf)),s=e.instance.config.capture_dead_clicks;return $i(s)?s:n};class ip{get lazyLoadedDeadClicksAutocapture(){return this.W}constructor(t,n,s){this.instance=t,this.isEnabled=n,this.onCapture=s,this.startIfEnabled()}onRemoteConfig(t){this.instance.persistence&&this.instance.persistence.register({[Hf]:t==null?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.G(()=>{this.J()})}G(t){var n,s;(n=wt.__PosthogExtensions__)!=null&&n.initDeadClicksAutocapture&&t(),(s=wt.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this.instance,"dead-clicks-autocapture",o=>{o?zr.error("failed to load script",o):t()})}J(){var t;if(tt){if(!this.W&&(t=wt.__PosthogExtensions__)!=null&&t.initDeadClicksAutocapture){var n=ne(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};n.__onCapture=this.onCapture,this.W=wt.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,n),this.W.start(tt),zr.info("starting...")}}else zr.error("`document` not found. Cannot start.")}stop(){this.W&&(this.W.stop(),this.W=void 0,zr.info("stopping..."))}}var Ca=me("[ExceptionAutocapture]");class w0{constructor(t){var n;this.V=()=>{var s;if(k&&this.isEnabled&&(s=wt.__PosthogExtensions__)!=null&&s.errorWrappingFunctions){var o=wt.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,a=wt.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,u=wt.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.K&&this.S.capture_unhandled_errors&&(this.K=o(this.captureException.bind(this))),!this.Y&&this.S.capture_unhandled_rejections&&(this.Y=a(this.captureException.bind(this))),!this.X&&this.S.capture_console_errors&&(this.X=u(this.captureException.bind(this)))}catch(h){Ca.error("failed to start",h),this.Z()}}},this._instance=t,this.tt=!((n=this._instance.persistence)==null||!n.props[hh]),this.S=this.it(),this.startIfEnabled()}it(){var t=this._instance.config.capture_exceptions,n={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return ne(t)?n=X({},n,t):(V(t)?this.tt:t)&&(n=X({},n,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),n}get isEnabled(){return this.S.capture_console_errors||this.S.capture_unhandled_errors||this.S.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(Ca.info("enabled"),this.G(this.V))}G(t){var n,s;(n=wt.__PosthogExtensions__)!=null&&n.errorWrappingFunctions&&t(),(s=wt.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this._instance,"exception-autocapture",o=>{if(o)return Ca.error("failed to load script",o);t()})}Z(){var t,n,s;(t=this.K)==null||t.call(this),this.K=void 0,(n=this.Y)==null||n.call(this),this.Y=void 0,(s=this.X)==null||s.call(this),this.X=void 0}onRemoteConfig(t){var n=t.autocaptureExceptions;this.tt=!!n||!1,this.S=this.it(),this._instance.persistence&&this._instance.persistence.register({[hh]:this.tt}),this.startIfEnabled()}captureException(t){var n=this._instance.requestRouter.endpointFor("ui");t.$exception_personURL=n+"/project/"+this._instance.config.token+"/person/"+this._instance.get_distinct_id(),this._instance.exceptions.sendExceptionEvent(t)}}function np(e){return!V(Event)&&sp(e,Event)}function sp(e,t){try{return e instanceof t}catch{return!1}}function rp(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object DOMError]":return!0;default:return sp(e,Error)}}function Xr(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function Ma(e){return Xr(e,"DOMError")}var Lh=/\(error: (.*)\)/,Ch=50,ts="?";function Ia(e,t,n,s){var o={platform:"web:javascript",filename:e,function:t==="<anonymous>"?ts:t,in_app:!0};return V(n)||(o.lineno=n),V(s)||(o.colno=s),o}var x0=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,P0=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,S0=/\((\S*)(?::(\d+))(?::(\d+))\)/,E0=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,T0=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,k0=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=t.sort((o,a)=>o[0]-a[0]).map(o=>o[1]);return function(o,a){a===void 0&&(a=0);for(var u=[],h=o.split(`
`),d=a;d<h.length;d++){var _=h[d];if(!(_.length>1024)){var p=Lh.test(_)?_.replace(Lh,"$1"):_;if(!p.match(/\S*Error: /)){for(var g of s){var v=g(p);if(v){u.push(v);break}}if(u.length>=Ch)break}}}return function(y){if(!y.length)return[];var S=Array.from(y);return S.reverse(),S.slice(0,Ch).map(P=>X({},P,{filename:P.filename||L0(S).filename,function:P.function||ts}))}(u)}}([30,e=>{var t=x0.exec(e);if(t){var[,n,s,o]=t;return Ia(n,ts,+s,+o)}var a=P0.exec(e);if(a){if(a[2]&&a[2].indexOf("eval")===0){var u=S0.exec(a[2]);u&&(a[2]=u[1],a[3]=u[2],a[4]=u[3])}var[h,d]=Ih(a[1]||ts,a[2]);return Ia(d,h,a[3]?+a[3]:void 0,a[4]?+a[4]:void 0)}}],[50,e=>{var t=E0.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var n=T0.exec(t[3]);n&&(t[1]=t[1]||"eval",t[3]=n[1],t[4]=n[2],t[5]="")}var s=t[3],o=t[1]||ts;return[o,s]=Ih(o,s),Ia(s,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]);function L0(e){return e[e.length-1]||{}}var Br,Mh,Oa,Ih=(e,t)=>{var n=e.indexOf("safari-extension")!==-1,s=e.indexOf("safari-web-extension")!==-1;return n||s?[e.indexOf("@")!==-1?e.split("@")[0]:ts,n?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]},C0=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function nu(e,t){t===void 0&&(t=0);var n=e.stacktrace||e.stack||"",s=function(u){return u&&M0.test(u.message)?1:0}(e);try{var o=k0,a=function(u,h){var d=function(_){var p=globalThis._posthogChunkIds;if(!p)return{};var g=Object.keys(p);return Oa&&g.length===Mh||(Mh=g.length,Oa=g.reduce((v,y)=>{Br||(Br={});var S=Br[y];if(S)v[S[0]]=S[1];else for(var P=_(y),z=P.length-1;z>=0;z--){var A=P[z],M=A==null?void 0:A.filename,D=p[y];if(M&&D){v[M]=D,Br[y]=[M,D];break}}return v},{})),Oa}(h);return u.forEach(_=>{_.filename&&(_.chunk_id=d[_.filename])}),u}(o(n,s),o);return a.slice(0,a.length-t)}catch{}return[]}var M0=/Minified React error #\d+;/i;function I0(e,t){var n,s,o=nu(e),a=(n=t==null?void 0:t.handled)===null||n===void 0||n,u=(s=t==null?void 0:t.synthetic)!==null&&s!==void 0&&s;return{type:t!=null&&t.overrideExceptionType?t.overrideExceptionType:e.name,value:function(h){var d=h.message;return d.error&&typeof d.error.message=="string"?String(d.error.message):String(d)}(e),stacktrace:{frames:o,type:"raw"},mechanism:{handled:a,synthetic:u}}}function op(e,t){var n=I0(e,t);return e.cause&&rp(e.cause)&&e.cause!==e?[n,...op(e.cause,{handled:t==null?void 0:t.handled,synthetic:t==null?void 0:t.synthetic})]:[n]}function Ra(e,t){return{$exception_list:op(e,t),$exception_level:"error"}}function Aa(e,t){var n,s,o,a=(n=t==null?void 0:t.handled)===null||n===void 0||n,u=(s=t==null?void 0:t.synthetic)===null||s===void 0||s,h={type:t!=null&&t.overrideExceptionType?t.overrideExceptionType:(o=t==null?void 0:t.defaultExceptionType)!==null&&o!==void 0?o:"Error",value:e||(t==null?void 0:t.defaultExceptionMessage),mechanism:{handled:a,synthetic:u}};if(t!=null&&t.syntheticException){var d=nu(t.syntheticException,1);d.length&&(h.stacktrace={frames:d,type:"raw"})}return{$exception_list:[h],$exception_level:"error"}}function O0(e){return se(e)&&!ol(e)&&Zy.indexOf(e)>=0}function R0(e,t){var n,s,o=(n=t==null?void 0:t.handled)===null||n===void 0||n,a=(s=t==null?void 0:t.synthetic)===null||s===void 0||s,u=t!=null&&t.overrideExceptionType?t.overrideExceptionType:np(e)?e.constructor.name:"Error",h="Non-Error 'exception' captured with keys: "+function(p,g){g===void 0&&(g=40);var v=Object.keys(p);if(v.sort(),!v.length)return"[object has no keys]";for(var y=v.length;y>0;y--){var S=v.slice(0,y).join(", ");if(!(S.length>g))return y===v.length||S.length<=g?S:S.slice(0,g)+"..."}return""}(e),d={type:u,value:h,mechanism:{handled:o,synthetic:a}};if(t!=null&&t.syntheticException){var _=nu(t==null?void 0:t.syntheticException,1);_.length&&(d.stacktrace={frames:_,type:"raw"})}return{$exception_list:[d],$exception_level:O0(e.level)?e.level:"error"}}function A0(e,t){var{error:n,event:s}=e,o={$exception_list:[]},a=n||s;if(Ma(a)||function(v){return Xr(v,"DOMException")}(a)){var u=a;if(function(v){return"stack"in v}(a))o=Ra(a,t);else{var h=u.name||(Ma(u)?"DOMError":"DOMException"),d=u.message?h+": "+u.message:h;o=Aa(d,X({},t,{overrideExceptionType:Ma(u)?"DOMError":"DOMException",defaultExceptionMessage:d}))}return"code"in u&&(o.$exception_DOMException_code=""+u.code),o}if(function(v){return Xr(v,"ErrorEvent")}(a)&&a.error)return Ra(a.error,t);if(rp(a))return Ra(a,t);if(function(v){return Xr(v,"Object")}(a)||np(a))return R0(a,t);if(V(n)&&se(s)){var _="Error",p=s,g=s.match(C0);return g&&(_=g[1],p=g[2]),Aa(p,X({},t,{overrideExceptionType:_,defaultExceptionMessage:p}))}return Aa(a,t)}function Oh(e,t,n){try{if(!(t in e))return()=>{};var s=e[t],o=n(s);return ti(o)&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[t]=o,()=>{e[t]=s}}catch{return()=>{}}}class F0{constructor(t){var n;this._instance=t,this.et=(k==null||(n=k.location)==null?void 0:n.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(it.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.rt&&this.rt(),this.rt=void 0,it.info("History API monitoring stopped")}monitorHistoryChanges(){var t,n;if(k&&k.history){var s=this;(t=k.history.pushState)!=null&&t.__posthog_wrapped__||Oh(k.history,"pushState",o=>function(a,u,h){o.call(this,a,u,h),s.st("pushState")}),(n=k.history.replaceState)!=null&&n.__posthog_wrapped__||Oh(k.history,"replaceState",o=>function(a,u,h){o.call(this,a,u,h),s.st("replaceState")}),this.nt()}}st(t){try{var n,s=k==null||(n=k.location)==null?void 0:n.pathname;if(!s)return;s!==this.et&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:t}),this.et=s}catch(o){it.error("Error capturing "+t+" pageview",o)}}nt(){if(!this.rt){var t=()=>{this.st("popstate")};ie(k,"popstate",t),this.rt=()=>{k&&k.removeEventListener("popstate",t)}}}}function _o(e){var t,n;return((t=JSON.stringify(e,(n=[],function(s,o){if(ne(o)){for(;n.length>0&&n[n.length-1]!==this;)n.pop();return n.includes(o)?"[Circular]":(n.push(o),o)}return o})))==null?void 0:t.length)||0}function bl(e,t){if(t===void 0&&(t=66060288e-1),e.size>=t&&e.data.length>1){var n=Math.floor(e.data.length/2),s=e.data.slice(0,n),o=e.data.slice(n);return[bl({size:_o(s),data:s,sessionId:e.sessionId,windowId:e.windowId}),bl({size:_o(o),data:o,sessionId:e.sessionId,windowId:e.windowId})].flatMap(a=>a)}return[e]}var Ai=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Ai||{}),oi=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(oi||{}),wl="[SessionRecording]",xl="redacted",Zr={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:e=>e,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io",".clarity.ms","analytics.google.com","bam.nr-data.net"]},D0=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],N0=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],$0=["/s/","/e/","/i/"];function Rh(e,t,n,s){if(Ft(e))return e;var o=(t==null?void 0:t["content-length"])||function(a){return new Blob([a]).size}(e);return se(o)&&(o=parseInt(o)),o>n?wl+" "+s+" body too large to record ("+o+" bytes)":e}function Ah(e,t){if(Ft(e))return e;var n=e;return hs(n,!1)||(n=wl+" "+t+" body "+xl),Zt(N0,s=>{var o,a;(o=n)!=null&&o.length&&((a=n)==null?void 0:a.indexOf(s))!==-1&&(n=wl+" "+t+" body "+xl+" as might contain: "+s)}),n}var z0=(e,t)=>{var n,s,o,a={payloadSizeLimitBytes:Zr.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...Zr.performanceEntryTypeToObserve],payloadHostDenyList:[...t.payloadHostDenyList||[],...Zr.payloadHostDenyList]},u=e.session_recording.recordHeaders!==!1&&t.recordHeaders,h=e.session_recording.recordBody!==!1&&t.recordBody,d=e.capture_performance!==!1&&t.recordPerformance,_=(n=a,o=Math.min(1e6,(s=n.payloadSizeLimitBytes)!==null&&s!==void 0?s:1e6),v=>(v!=null&&v.requestBody&&(v.requestBody=Rh(v.requestBody,v.requestHeaders,o,"Request")),v!=null&&v.responseBody&&(v.responseBody=Rh(v.responseBody,v.responseHeaders,o,"Response")),v)),p=v=>{return _(((P,z)=>{var A,M=ds(P.name),D=z.indexOf("http")===0?(A=ds(z))==null?void 0:A.pathname:z;D==="/"&&(D="");var $=M==null?void 0:M.pathname.replace(D||"","");if(!(M&&$&&$0.some(Q=>$.indexOf(Q)===0)))return P})((S=(y=v).requestHeaders,Ft(S)||Zt(Object.keys(S??{}),P=>{D0.includes(P.toLowerCase())&&(S[P]=xl)}),y),e.api_host));var y,S},g=ti(e.session_recording.maskNetworkRequestFn);return g&&ti(e.session_recording.maskCapturedNetworkRequestFn)&&it.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),g&&(e.session_recording.maskCapturedNetworkRequestFn=v=>{var y=e.session_recording.maskNetworkRequestFn({url:v.name});return X({},v,{name:y==null?void 0:y.url})}),a.maskRequestFn=ti(e.session_recording.maskCapturedNetworkRequestFn)?v=>{var y,S=p(v);return S&&(y=e.session_recording.maskCapturedNetworkRequestFn==null?void 0:e.session_recording.maskCapturedNetworkRequestFn(S))!==null&&y!==void 0?y:void 0}:v=>function(y){if(!V(y))return y.requestBody=Ah(y.requestBody,"Request"),y.responseBody=Ah(y.responseBody,"Response"),y}(p(v)),X({},Zr,a,{recordHeaders:u,recordBody:h,recordPerformance:d,recordInitialRequests:d})};function Je(e,t,n,s,o){return t>n&&(it.warn("min cannot be greater than max."),t=n),Pe(e)?e>n?(s&&it.warn(s+" cannot be  greater than max: "+n+". Using max value instead."),n):e<t?(s&&it.warn(s+" cannot be less than min: "+t+". Using min value instead."),t):e:(s&&it.warn(s+" must be a number. using max or fallback. max: "+n+", fallback: "+o),Je(o||n,t,n,s))}class B0{constructor(t,n){var s,o;n===void 0&&(n={}),this.ot=100,this.lt=10,this.ut={},this.ht={},this.dt=()=>{Object.keys(this.ut).forEach(a=>{this.ut[a]=this.ut[a]+this.lt,this.ut[a]>=this.ot&&delete this.ut[a]})},this.vt=a=>{var u=this._rrweb.mirror.getNode(a);if((u==null?void 0:u.nodeName)!=="svg"&&u instanceof Element){var h=u.closest("svg");if(h)return[this._rrweb.mirror.getId(h),h]}return[a,u]},this.ct=a=>{var u,h,d,_,p,g,v,y;return((u=(h=a.removes)==null?void 0:h.length)!==null&&u!==void 0?u:0)+((d=(_=a.attributes)==null?void 0:_.length)!==null&&d!==void 0?d:0)+((p=(g=a.texts)==null?void 0:g.length)!==null&&p!==void 0?p:0)+((v=(y=a.adds)==null?void 0:y.length)!==null&&v!==void 0?v:0)},this.throttleMutations=a=>{if(a.type!==3||a.data.source!==0)return a;var u=a.data,h=this.ct(u);u.attributes&&(u.attributes=u.attributes.filter(_=>{var p,g,v,[y,S]=this.vt(_.id);return this.ut[y]===0?!1:(this.ut[y]=(p=this.ut[y])!==null&&p!==void 0?p:this.ot,this.ut[y]=Math.max(this.ut[y]-1,0),this.ut[y]===0&&(this.ht[y]||(this.ht[y]=!0,(g=(v=this.ft).onBlockedNode)==null||g.call(v,y,S))),_)}));var d=this.ct(u);return d!==0||h===d?a:void 0},this._rrweb=t,this.ft=n,this.lt=Je((s=this.ft.refillRate)!==null&&s!==void 0?s:this.lt,0,100,"mutation throttling refill rate"),this.ot=Je((o=this.ft.bucketSize)!==null&&o!==void 0?o:this.ot,0,100,"mutation throttling bucket size"),setInterval(()=>{this.dt()},1e3)}}var ei=Uint8Array,ze=Uint16Array,fs=Uint32Array,su=new ei([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ru=new ei([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Fh=new ei([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ap=function(e,t){for(var n=new ze(31),s=0;s<31;++s)n[s]=t+=1<<e[s-1];var o=new fs(n[30]);for(s=1;s<30;++s)for(var a=n[s];a<n[s+1];++a)o[a]=a-n[s]<<5|s;return[n,o]},lp=ap(su,2),Z0=lp[0],Pl=lp[1];Z0[28]=258,Pl[258]=28;for(var Dh=ap(ru,0)[1],up=new ze(32768),Yt=0;Yt<32768;++Yt){var wn=(43690&Yt)>>>1|(21845&Yt)<<1;wn=(61680&(wn=(52428&wn)>>>2|(13107&wn)<<2))>>>4|(3855&wn)<<4,up[Yt]=((65280&wn)>>>8|(255&wn)<<8)>>>1}var Js=function(e,t,n){for(var s=e.length,o=0,a=new ze(t);o<s;++o)++a[e[o]-1];var u,h=new ze(t);for(o=0;o<t;++o)h[o]=h[o-1]+a[o-1]<<1;for(u=new ze(s),o=0;o<s;++o)u[o]=up[h[e[o]-1]++]>>>15-e[o];return u},On=new ei(288);for(Yt=0;Yt<144;++Yt)On[Yt]=8;for(Yt=144;Yt<256;++Yt)On[Yt]=9;for(Yt=256;Yt<280;++Yt)On[Yt]=7;for(Yt=280;Yt<288;++Yt)On[Yt]=8;var go=new ei(32);for(Yt=0;Yt<32;++Yt)go[Yt]=5;var H0=Js(On,9),j0=Js(go,5),cp=function(e){return(e/8>>0)+(7&e&&1)},hp=function(e,t,n){(n==null||n>e.length)&&(n=e.length);var s=new(e instanceof ze?ze:e instanceof fs?fs:ei)(n-t);return s.set(e.subarray(t,n)),s},Ii=function(e,t,n){n<<=7&t;var s=t/8>>0;e[s]|=n,e[s+1]|=n>>>8},Os=function(e,t,n){n<<=7&t;var s=t/8>>0;e[s]|=n,e[s+1]|=n>>>8,e[s+2]|=n>>>16},Fa=function(e,t){for(var n=[],s=0;s<e.length;++s)e[s]&&n.push({s,f:e[s]});var o=n.length,a=n.slice();if(!o)return[new ei(0),0];if(o==1){var u=new ei(n[0].s+1);return u[n[0].s]=1,[u,1]}n.sort(function(Q,ct){return Q.f-ct.f}),n.push({s:-1,f:25001});var h=n[0],d=n[1],_=0,p=1,g=2;for(n[0]={s:-1,f:h.f+d.f,l:h,r:d};p!=o-1;)h=n[n[_].f<n[g].f?_++:g++],d=n[_!=p&&n[_].f<n[g].f?_++:g++],n[p++]={s:-1,f:h.f+d.f,l:h,r:d};var v=a[0].s;for(s=1;s<o;++s)a[s].s>v&&(v=a[s].s);var y=new ze(v+1),S=Sl(n[p-1],y,0);if(S>t){s=0;var P=0,z=S-t,A=1<<z;for(a.sort(function(Q,ct){return y[ct.s]-y[Q.s]||Q.f-ct.f});s<o;++s){var M=a[s].s;if(!(y[M]>t))break;P+=A-(1<<S-y[M]),y[M]=t}for(P>>>=z;P>0;){var D=a[s].s;y[D]<t?P-=1<<t-y[D]++-1:++s}for(;s>=0&&P;--s){var $=a[s].s;y[$]==t&&(--y[$],++P)}S=t}return[new ei(y),S]},Sl=function(e,t,n){return e.s==-1?Math.max(Sl(e.l,t,n+1),Sl(e.r,t,n+1)):t[e.s]=n},Nh=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new ze(++t),s=0,o=e[0],a=1,u=function(d){n[s++]=d},h=1;h<=t;++h)if(e[h]==o&&h!=t)++a;else{if(!o&&a>2){for(;a>138;a-=138)u(32754);a>2&&(u(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(u(o),--a;a>6;a-=6)u(8304);a>2&&(u(a-3<<5|8208),a=0)}for(;a--;)u(o);a=1,o=e[h]}return[n.subarray(0,s),t]},Rs=function(e,t){for(var n=0,s=0;s<t.length;++s)n+=e[s]*t[s];return n},El=function(e,t,n){var s=n.length,o=cp(t+2);e[o]=255&s,e[o+1]=s>>>8,e[o+2]=255^e[o],e[o+3]=255^e[o+1];for(var a=0;a<s;++a)e[o+a+4]=n[a];return 8*(o+4+s)},$h=function(e,t,n,s,o,a,u,h,d,_,p){Ii(t,p++,n),++o[256];for(var g=Fa(o,15),v=g[0],y=g[1],S=Fa(a,15),P=S[0],z=S[1],A=Nh(v),M=A[0],D=A[1],$=Nh(P),Q=$[0],ct=$[1],lt=new ze(19),nt=0;nt<M.length;++nt)lt[31&M[nt]]++;for(nt=0;nt<Q.length;++nt)lt[31&Q[nt]]++;for(var Vt=Fa(lt,7),zt=Vt[0],pt=Vt[1],kt=19;kt>4&&!zt[Fh[kt-1]];--kt);var Mt,At,Gt,vt,_t=_+5<<3,H=Rs(o,On)+Rs(a,go)+u,te=Rs(o,v)+Rs(a,P)+u+14+3*kt+Rs(lt,zt)+(2*lt[16]+3*lt[17]+7*lt[18]);if(_t<=H&&_t<=te)return El(t,p,e.subarray(d,d+_));if(Ii(t,p,1+(te<H)),p+=2,te<H){Mt=Js(v,y),At=v,Gt=Js(P,z),vt=P;var et=Js(zt,pt);for(Ii(t,p,D-257),Ii(t,p+5,ct-1),Ii(t,p+10,kt-4),p+=14,nt=0;nt<kt;++nt)Ii(t,p+3*nt,zt[Fh[nt]]);p+=3*kt;for(var yt=[M,Q],dt=0;dt<2;++dt){var Lt=yt[dt];for(nt=0;nt<Lt.length;++nt){var bt=31&Lt[nt];Ii(t,p,et[bt]),p+=zt[bt],bt>15&&(Ii(t,p,Lt[nt]>>>5&127),p+=Lt[nt]>>>12)}}}else Mt=H0,At=On,Gt=j0,vt=go;for(nt=0;nt<h;++nt)if(s[nt]>255){bt=s[nt]>>>18&31,Os(t,p,Mt[bt+257]),p+=At[bt+257],bt>7&&(Ii(t,p,s[nt]>>>23&31),p+=su[bt]);var xt=31&s[nt];Os(t,p,Gt[xt]),p+=vt[xt],xt>3&&(Os(t,p,s[nt]>>>5&8191),p+=ru[xt])}else Os(t,p,Mt[s[nt]]),p+=At[s[nt]];return Os(t,p,Mt[256]),p+At[256]},W0=new fs([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),q0=function(){for(var e=new fs(256),t=0;t<256;++t){for(var n=t,s=9;--s;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),U0=function(){var e=4294967295;return{p:function(t){for(var n=e,s=0;s<t.length;++s)n=q0[255&n^t[s]]^n>>>8;e=n},d:function(){return 4294967295^e}}},V0=function(e,t,n,s,o){return function(a,u,h,d,_,p){var g=a.length,v=new ei(d+g+5*(1+Math.floor(g/7e3))+_),y=v.subarray(d,v.length-_),S=0;if(!u||g<8)for(var P=0;P<=g;P+=65535){var z=P+65535;z<g?S=El(y,S,a.subarray(P,z)):(y[P]=p,S=El(y,S,a.subarray(P,g)))}else{for(var A=W0[u-1],M=A>>>13,D=8191&A,$=(1<<h)-1,Q=new ze(32768),ct=new ze($+1),lt=Math.ceil(h/3),nt=2*lt,Vt=function(R){return(a[R]^a[R+1]<<lt^a[R+2]<<nt)&$},zt=new fs(25e3),pt=new ze(288),kt=new ze(32),Mt=0,At=0,Gt=(P=0,0),vt=0,_t=0;P<g;++P){var H=Vt(P),te=32767&P,et=ct[H];if(Q[te]=et,ct[H]=te,vt<=P){var yt=g-P;if((Mt>7e3||Gt>24576)&&yt>423){S=$h(a,y,0,zt,pt,kt,At,Gt,_t,P-_t,S),Gt=Mt=At=0,_t=P;for(var dt=0;dt<286;++dt)pt[dt]=0;for(dt=0;dt<30;++dt)kt[dt]=0}var Lt=2,bt=0,xt=D,st=te-et&32767;if(yt>2&&H==Vt(P-st))for(var I=Math.min(M,yt)-1,q=Math.min(32767,P),U=Math.min(258,yt);st<=q&&--xt&&te!=et;){if(a[P+Lt]==a[P+Lt-st]){for(var K=0;K<U&&a[P+K]==a[P+K-st];++K);if(K>Lt){if(Lt=K,bt=st,K>I)break;var It=Math.min(st,K-2),b=0;for(dt=0;dt<It;++dt){var w=P-st+dt+32768&32767,E=w-Q[w]+32768&32767;E>b&&(b=E,et=w)}}}st+=(te=et)-(et=Q[te])+32768&32767}if(bt){zt[Gt++]=268435456|Pl[Lt]<<18|Dh[bt];var O=31&Pl[Lt],F=31&Dh[bt];At+=su[O]+ru[F],++pt[257+O],++kt[F],vt=P+Lt,++Mt}else zt[Gt++]=a[P],++pt[a[P]]}}S=$h(a,y,p,zt,pt,kt,At,Gt,_t,P-_t,S)}return hp(v,0,d+cp(S)+_)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,s,!0)},Tl=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},G0=function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:t.level==9?2:0,e[9]=3,t.mtime!=0&&Tl(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var s=0;s<=n.length;++s)e[s+10]=n.charCodeAt(s)}},K0=function(e){return 10+(e.filename&&e.filename.length+1||0)};function dp(e,t){t===void 0&&(t={});var n=U0(),s=e.length;n.p(e);var o=V0(e,t,K0(t),8),a=o.length;return G0(o,t),Tl(o,a-8,n.d()),Tl(o,a-4,s),o}function fp(e,t){var n=e.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(e);for(var s=new ei(e.length+(e.length>>>1)),o=0,a=function(_){s[o++]=_},u=0;u<n;++u){if(o+5>s.length){var h=new ei(o+8+(n-u<<1));h.set(s),s=h}var d=e.charCodeAt(u);d<128||t?a(d):d<2048?(a(192|d>>>6),a(128|63&d)):d>55295&&d<57344?(a(240|(d=65536+(1047552&d)|1023&e.charCodeAt(++u))>>>18),a(128|d>>>12&63),a(128|d>>>6&63),a(128|63&d)):(a(224|d>>>12),a(128|d>>>6&63),a(128|63&d))}return hp(s,0,o)}function Y0(e,t){return function(n){for(var s=0,o=0;o<n.length;o++)s=(s<<5)-s+n.charCodeAt(o),s|=0;return Math.abs(s)}(e)%100<Je(100*t,0,100)}var an="disabled",ou="sampled",mo="active",Rn="buffering",au="paused",lu="trigger",xi=lu+"_activated",Te=lu+"_pending",Si=lu+"_"+an;function zh(e,t){return t.some(n=>n.matching==="regex"&&new RegExp(n.url).test(e))}class pp{constructor(t){this.gt=t}triggerStatus(t){var n=this.gt.map(s=>s.triggerStatus(t));return n.includes(xi)?xi:n.includes(Te)?Te:Si}stop(){this.gt.forEach(t=>t.stop())}}class _p{constructor(t){this.gt=t}triggerStatus(t){var n=new Set;for(var s of this.gt)n.add(s.triggerStatus(t));switch(n.delete(Si),n.size){case 0:return Si;case 1:return Array.from(n)[0];default:return Te}}stop(){this.gt.forEach(t=>t.stop())}}class X0{triggerStatus(){return Te}stop(){}}class J0{constructor(t){this._t=[],this.bt=[],this.urlBlocked=!1,this._instance=t}onRemoteConfig(t){var n,s;this._t=((n=t.sessionRecording)==null?void 0:n.urlTriggers)||[],this.bt=((s=t.sessionRecording)==null?void 0:s.urlBlocklist)||[]}wt(t){var n;return this._t.length===0?Si:((n=this._instance)==null?void 0:n.get_property(cl))===t?xi:Te}triggerStatus(t){var n=this.wt(t),s=n===xi?xi:n===Te?Te:Si;return this._instance.register_for_session({$sdk_debug_replay_url_trigger_status:s}),s}checkUrlTriggerConditions(t,n,s){if(k!==void 0&&k.location.href){var o=k.location.href,a=this.urlBlocked,u=zh(o,this.bt);a&&u||(u&&!a?t():!u&&a&&n(),zh(o,this._t)&&s("url"))}}stop(){}}class Q0{constructor(t){this.linkedFlag=null,this.linkedFlagSeen=!1,this.yt=()=>{},this._instance=t}triggerStatus(){var t=Te;return Ft(this.linkedFlag)&&(t=Si),this.linkedFlagSeen&&(t=xi),this._instance.register_for_session({$sdk_debug_replay_linked_flag_trigger_status:t}),t}onRemoteConfig(t,n){var s;if(this.linkedFlag=((s=t.sessionRecording)==null?void 0:s.linkedFlag)||null,!Ft(this.linkedFlag)&&!this.linkedFlagSeen){var o=se(this.linkedFlag)?this.linkedFlag:this.linkedFlag.flag,a=se(this.linkedFlag)?null:this.linkedFlag.variant;this.yt=this._instance.onFeatureFlags((u,h)=>{var d=ne(h)&&o in h&&(a?h[o]===a:h[o]===!0);d&&n(o,a),this.linkedFlagSeen=d})}}stop(){this.yt()}}class tb{constructor(t){this.St=[],this._instance=t}onRemoteConfig(t){var n;this.St=((n=t.sessionRecording)==null?void 0:n.eventTriggers)||[]}$t(t){var n;return this.St.length===0?Si:((n=this._instance)==null?void 0:n.get_property(hl))===t?xi:Te}triggerStatus(t){var n=this.$t(t),s=n===xi?xi:n===Te?Te:Si;return this._instance.register_for_session({$sdk_debug_replay_event_trigger_status:s}),s}stop(){}}function eb(e){return e.isRecordingEnabled?Rn:an}function ib(e){if(!e.receivedDecide)return Rn;if(!e.isRecordingEnabled)return an;if(e.urlTriggerMatching.urlBlocked)return au;var t=e.isSampled===!0,n=new pp([e.eventTriggerMatching,e.urlTriggerMatching,e.linkedFlagMatching]).triggerStatus(e.sessionId);return t?ou:n===xi?mo:n===Te?Rn:e.isSampled===!1?an:mo}function nb(e){if(!e.receivedDecide)return Rn;if(!e.isRecordingEnabled)return an;if(e.urlTriggerMatching.urlBlocked)return au;var t=new _p([e.eventTriggerMatching,e.urlTriggerMatching,e.linkedFlagMatching]).triggerStatus(e.sessionId),n=t!==Si,s=$i(e.isSampled);return n&&t===Te?Rn:n&&t===Si||s&&!e.isSampled?an:e.isSampled===!0?ou:mo}var Zs="[SessionRecording]",ye=me(Zs);function Hr(){var e,t;return wt==null||(e=wt.__PosthogExtensions__)==null||(t=e.rrweb)==null?void 0:t.record}var sb=3e5,rb=[oi.MouseMove,oi.MouseInteraction,oi.Scroll,oi.ViewportResize,oi.Input,oi.TouchMove,oi.MediaInteraction,oi.Drag],Bh=e=>({rrwebMethod:e,enqueuedAt:Date.now(),attempt:1});function xn(e){return function(t,n){for(var s="",o=0;o<t.length;){var a=t[o++];s+=String.fromCharCode(a)}return s}(dp(fp(JSON.stringify(e))))}function Zh(e){return e.type===Ai.Custom&&e.data.tag==="sessionIdle"}class ob{get sessionId(){return this.kt}get xt(){return this._instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this.Et}get It(){if(!this._instance.sessionManager)throw new Error(Zs+" must be started with a valid sessionManager.");return this._instance.sessionManager}get Pt(){var t,n;return this.Rt.triggerStatus(this.sessionId)===Te?6e4:(t=(n=this._instance.config.session_recording)==null?void 0:n.full_snapshot_interval_millis)!==null&&t!==void 0?t:sb}get Tt(){var t=this._instance.get_property(zs);return $i(t)?t:null}get Mt(){var t,n,s=(t=this.M)==null?void 0:t.data[((n=this.M)==null?void 0:n.data.length)-1],{sessionStartTimestamp:o}=this.It.checkAndGetSessionAndWindowId(!0);return s?s.timestamp-o:null}get Ct(){var t=!!this._instance.get_property(ul),n=!this._instance.config.disable_session_recording;return k&&t&&n}get Ot(){var t=!!this._instance.get_property(ph),n=this._instance.config.enable_recording_console_log;return n??t}get Ft(){var t,n,s,o,a,u,h=this._instance.config.session_recording.captureCanvas,d=this._instance.get_property(mh),_=(t=(n=h==null?void 0:h.recordCanvas)!==null&&n!==void 0?n:d==null?void 0:d.enabled)!==null&&t!==void 0&&t,p=(s=(o=h==null?void 0:h.canvasFps)!==null&&o!==void 0?o:d==null?void 0:d.fps)!==null&&s!==void 0?s:4,g=(a=(u=h==null?void 0:h.canvasQuality)!==null&&u!==void 0?u:d==null?void 0:d.quality)!==null&&a!==void 0?a:.4;if(typeof g=="string"){var v=parseFloat(g);g=isNaN(v)?.4:v}return{enabled:_,fps:Je(p,0,12,"canvas recording fps",4),quality:Je(g,0,1,"canvas recording quality",.4)}}get At(){var t,n,s=this._instance.get_property(_h),o={recordHeaders:(t=this._instance.config.session_recording)==null?void 0:t.recordHeaders,recordBody:(n=this._instance.config.session_recording)==null?void 0:n.recordBody},a=(o==null?void 0:o.recordHeaders)||(s==null?void 0:s.recordHeaders),u=(o==null?void 0:o.recordBody)||(s==null?void 0:s.recordBody),h=ne(this._instance.config.capture_performance)?this._instance.config.capture_performance.network_timing:this._instance.config.capture_performance,d=!!($i(h)?h:s!=null&&s.capturePerformance);return a||u||d?{recordHeaders:a,recordBody:u,recordPerformance:d}:void 0}get Dt(){var t,n,s,o,a,u,h=this._instance.get_property(gh),d={maskAllInputs:(t=this._instance.config.session_recording)==null?void 0:t.maskAllInputs,maskTextSelector:(n=this._instance.config.session_recording)==null?void 0:n.maskTextSelector,blockSelector:(s=this._instance.config.session_recording)==null?void 0:s.blockSelector},_=(o=d==null?void 0:d.maskAllInputs)!==null&&o!==void 0?o:h==null?void 0:h.maskAllInputs,p=(a=d==null?void 0:d.maskTextSelector)!==null&&a!==void 0?a:h==null?void 0:h.maskTextSelector,g=(u=d==null?void 0:d.blockSelector)!==null&&u!==void 0?u:h==null?void 0:h.blockSelector;return V(_)&&V(p)&&V(g)?void 0:{maskAllInputs:_==null||_,maskTextSelector:p,blockSelector:g}}get jt(){var t=this._instance.get_property(vh);return Pe(t)?t:null}get Lt(){var t=this._instance.get_property(yh);return Pe(t)?t:null}get status(){return this.Nt?this.zt({receivedDecide:this.Nt,isRecordingEnabled:this.Ct,isSampled:this.Tt,urlTriggerMatching:this.Ut,eventTriggerMatching:this.qt,linkedFlagMatching:this.Bt,sessionId:this.sessionId}):Rn}constructor(t){if(this.zt=eb,this.Nt=!1,this.Ht=[],this.Wt="unknown",this.Gt=Date.now(),this.Rt=new X0,this.Jt=void 0,this.Vt=void 0,this.Kt=void 0,this.Yt=void 0,this.Xt=void 0,this._forceAllowLocalhostNetworkCapture=!1,this.Qt=()=>{this.Zt()},this.ti=()=>{this.ii("browser offline",{})},this.ei=()=>{this.ii("browser online",{})},this.ri=()=>{if(tt!=null&&tt.visibilityState){var o="window "+tt.visibilityState;this.ii(o,{})}},this._instance=t,this.Et=!1,this.si="/s/",this.ni=void 0,this.Nt=!1,!this._instance.sessionManager)throw ye.error("started without valid sessionManager"),new Error(Zs+" started without valid sessionManager. This is a bug.");if(this._instance.config.__preview_experimental_cookieless_mode)throw new Error(Zs+" cannot be used with __preview_experimental_cookieless_mode.");this.Bt=new Q0(this._instance),this.Ut=new J0(this._instance),this.qt=new tb(this._instance);var{sessionId:n,windowId:s}=this.It.checkAndGetSessionAndWindowId();this.kt=n,this.oi=s,this.M=this.ai(),this.xt>=this.It.sessionTimeoutMs&&ye.warn("session_idle_threshold_ms ("+this.xt+") is greater than the session timeout ("+this.It.sessionTimeoutMs+"). Session will never be detected as idle")}startIfEnabledOrStop(t){this.Ct?(this.li(t),ie(k,"beforeunload",this.Qt),ie(k,"offline",this.ti),ie(k,"online",this.ei),ie(k,"visibilitychange",this.ri),this.ui(),this.hi(),Ft(this.Jt)&&(this.Jt=this._instance.on("eventCaptured",n=>{try{if(n.event==="$pageview"){var s=n!=null&&n.properties.$current_url?this.di(n==null?void 0:n.properties.$current_url):"";if(!s)return;this.ii("$pageview",{href:s})}}catch(o){ye.error("Could not add $pageview to rrweb session",o)}})),this.Vt||(this.Vt=this.It.onSessionId((n,s,o)=>{var a,u,h,d;o&&(this.ii("$session_id_change",{sessionId:n,windowId:s,changeReason:o}),(a=this._instance)==null||(u=a.persistence)==null||u.unregister(hl),(h=this._instance)==null||(d=h.persistence)==null||d.unregister(cl))}))):this.stopRecording()}stopRecording(){var t,n,s,o;this.Et&&this.ni&&(this.ni(),this.ni=void 0,this.Et=!1,k==null||k.removeEventListener("beforeunload",this.Qt),k==null||k.removeEventListener("offline",this.ti),k==null||k.removeEventListener("online",this.ei),k==null||k.removeEventListener("visibilitychange",this.ri),this.ai(),clearInterval(this.vi),(t=this.Jt)==null||t.call(this),this.Jt=void 0,(n=this.Xt)==null||n.call(this),this.Xt=void 0,(s=this.Vt)==null||s.call(this),this.Vt=void 0,(o=this.Yt)==null||o.call(this),this.Yt=void 0,this.qt.stop(),this.Ut.stop(),this.Bt.stop(),ye.info("stopped"))}ci(){var t;(t=this._instance.persistence)==null||t.unregister(zs)}fi(t){var n,s=this.kt!==t,o=this.jt;if(Pe(o)){var a=this.Tt,u=s||!$i(a),h=u?Y0(t,o):a;u&&(h?this.pi(ou):ye.warn("Sample rate ("+o+") has determined that this sessionId ("+t+") will not be sent to the server."),this.ii("samplingDecisionMade",{sampleRate:o,isSampled:h})),(n=this._instance.persistence)==null||n.register({[zs]:h})}else this.ci()}onRemoteConfig(t){var n,s,o,a;this.ii("$remote_config_received",t),this.gi(t),(n=t.sessionRecording)!=null&&n.endpoint&&(this.si=(a=t.sessionRecording)==null?void 0:a.endpoint),this.ui(),((s=t.sessionRecording)==null?void 0:s.triggerMatchType)==="any"?(this.zt=ib,this.Rt=new pp([this.qt,this.Ut])):(this.zt=nb,this.Rt=new _p([this.qt,this.Ut])),this._instance.register_for_session({$sdk_debug_replay_remote_trigger_matching_config:(o=t.sessionRecording)==null?void 0:o.triggerMatchType}),this.Ut.onRemoteConfig(t),this.qt.onRemoteConfig(t),this.Bt.onRemoteConfig(t,(u,h)=>{this.pi("linked_flag_matched",{flag:u,variant:h})}),this.Nt=!0,this.startIfEnabledOrStop()}ui(){Pe(this.jt)&&Ft(this.Yt)&&(this.Yt=this.It.onSessionId(t=>{this.fi(t)}))}gi(t){if(this._instance.persistence){var n,s=this._instance.persistence,o=()=>{var a,u,h,d,_,p,g,v,y,S=(a=t.sessionRecording)==null?void 0:a.sampleRate,P=Ft(S)?null:parseFloat(S);Ft(P)&&this.ci();var z=(u=t.sessionRecording)==null?void 0:u.minimumDurationMilliseconds;s.register({[ul]:!!t.sessionRecording,[ph]:(h=t.sessionRecording)==null?void 0:h.consoleLogRecordingEnabled,[_h]:X({capturePerformance:t.capturePerformance},(d=t.sessionRecording)==null?void 0:d.networkPayloadCapture),[gh]:(_=t.sessionRecording)==null?void 0:_.masking,[mh]:{enabled:(p=t.sessionRecording)==null?void 0:p.recordCanvas,fps:(g=t.sessionRecording)==null?void 0:g.canvasFps,quality:(v=t.sessionRecording)==null?void 0:v.canvasQuality},[vh]:P,[yh]:V(z)?null:z,[bh]:(y=t.sessionRecording)==null?void 0:y.scriptConfig})};o(),(n=this.Kt)==null||n.call(this),this.Kt=this.It.onSessionId(o)}}log(t,n){var s;n===void 0&&(n="log"),(s=this._instance.sessionRecording)==null||s.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:n,trace:[],payload:[JSON.stringify(t)]}},timestamp:Date.now()})}li(t){if(!V(Object.assign)&&!V(Array.from)&&!(this.Et||this._instance.config.disable_session_recording||this._instance.consent.isOptedOut())){var n;this.Et=!0,this.It.checkAndGetSessionAndWindowId(),Hr()?this.mi():(n=wt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,this.bi,s=>{if(s)return ye.error("could not load recorder",s);this.mi()}),ye.info("starting"),this.status===mo&&this.pi(t||"recording_initialized")}}get bi(){var t,n,s;return((t=this._instance)==null||(n=t.persistence)==null||(s=n.get_property(bh))==null?void 0:s.script)||"recorder"}wi(t){var n;return t.type===3&&rb.indexOf((n=t.data)==null?void 0:n.source)!==-1}yi(t){var n=this.wi(t);n||this.Wt||t.timestamp-this.Gt>this.xt&&(this.Wt=!0,clearInterval(this.vi),this.ii("sessionIdle",{eventTimestamp:t.timestamp,lastActivityTimestamp:this.Gt,threshold:this.xt,bufferLength:this.M.data.length,bufferSize:this.M.size}),this.Zt());var s=!1;if(n&&(this.Gt=t.timestamp,this.Wt)){var o=this.Wt==="unknown";this.Wt=!1,o||(this.ii("sessionNoLongerIdle",{reason:"user activity",type:t.type}),s=!0)}if(!this.Wt){var{windowId:a,sessionId:u}=this.It.checkAndGetSessionAndWindowId(!n,t.timestamp),h=this.kt!==u,d=this.oi!==a;this.oi=a,this.kt=u,h||d?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):s&&this.Si()}}$i(t){try{return t.rrwebMethod(),!0}catch(n){return this.Ht.length<10?this.Ht.push({enqueuedAt:t.enqueuedAt||Date.now(),attempt:t.attempt++,rrwebMethod:t.rrwebMethod}):ye.warn("could not emit queued rrweb event.",n,t),!1}}ii(t,n){return this.$i(Bh(()=>Hr().addCustomEvent(t,n)))}ki(){return this.$i(Bh(()=>Hr().takeFullSnapshot()))}mi(){var t,n,s,o,a={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},u=this._instance.config.session_recording;for(var[h,d]of Object.entries(u||{}))h in a&&(h==="maskInputOptions"?a.maskInputOptions=X({password:!0},d):a[h]=d);this.Ft&&this.Ft.enabled&&(a.recordCanvas=!0,a.sampling={canvas:this.Ft.fps},a.dataURLOptions={type:"image/webp",quality:this.Ft.quality}),this.Dt&&(a.maskAllInputs=(n=this.Dt.maskAllInputs)===null||n===void 0||n,a.maskTextSelector=(s=this.Dt.maskTextSelector)!==null&&s!==void 0?s:void 0,a.blockSelector=(o=this.Dt.blockSelector)!==null&&o!==void 0?o:void 0);var _=Hr();if(_){this.xi=(t=this.xi)!==null&&t!==void 0?t:new B0(_,{refillRate:this._instance.config.session_recording.__mutationRateLimiterRefillRate,bucketSize:this._instance.config.session_recording.__mutationRateLimiterBucketSize,onBlockedNode:(g,v)=>{var y="Too many mutations on node '"+g+"'. Rate limiting. This could be due to SVG animations or something similar";ye.info(y,{node:v}),this.log(Zs+" "+y,"warn")}});var p=this.Ei();this.ni=_(X({emit:g=>{this.onRRwebEmit(g)},plugins:p},a)),this.Gt=Date.now(),this.Wt=$i(this.Wt)?this.Wt:"unknown",this.ii("$session_options",{sessionRecordingOptions:a,activePlugins:p.map(g=>g==null?void 0:g.name)}),this.ii("$posthog_config",{config:this._instance.config})}else ye.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}Si(){if(this.vi&&clearInterval(this.vi),this.Wt!==!0){var t=this.Pt;t&&(this.vi=setInterval(()=>{this.ki()},t))}}Ei(){var t,n,s,o,a=[],u=(t=wt.__PosthogExtensions__)==null||(n=t.rrwebPlugins)==null?void 0:n.getRecordConsolePlugin;u&&this.Ot&&a.push(u());var h=(s=wt.__PosthogExtensions__)==null||(o=s.rrwebPlugins)==null?void 0:o.getRecordNetworkPlugin;return this.At&&ti(h)&&(!s0.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?a.push(h(z0(this._instance.config,this.At))):ye.info("NetworkCapture not started because we are on localhost.")),a}onRRwebEmit(t){var n;if(this.Ii(),t&&ne(t)){if(t.type===Ai.Meta){var s=this.di(t.data.href);if(this.Pi=s,!s)return;t.data.href=s}else this.Ri();if(this.Ut.checkUrlTriggerConditions(()=>this.Ti(),()=>this.Mi(),v=>this.Ci(v)),!this.Ut.urlBlocked||(o=t).type===Ai.Custom&&o.data.tag==="recording paused"){var o;t.type===Ai.FullSnapshot&&this.Si(),t.type===Ai.FullSnapshot&&this.Nt&&this.Rt.triggerStatus(this.sessionId)===Te&&this.ai();var a=this.xi?this.xi.throttleMutations(t):t;if(a){var u=function(v){var y=v;if(y&&ne(y)&&y.type===6&&ne(y.data)&&y.data.plugin==="rrweb/console@1"){y.data.payload.payload.length>10&&(y.data.payload.payload=y.data.payload.payload.slice(0,10),y.data.payload.payload.push("...[truncated]"));for(var S=[],P=0;P<y.data.payload.payload.length;P++)y.data.payload.payload[P]&&y.data.payload.payload[P].length>2e3?S.push(y.data.payload.payload[P].slice(0,2e3)+"...[truncated]"):S.push(y.data.payload.payload[P]);return y.data.payload.payload=S,v}return v}(a);if(this.yi(u),this.Wt!==!0||Zh(u)){if(Zh(u)){var h=u.data.payload;if(h){var d=h.lastActivityTimestamp,_=h.threshold;u.timestamp=d+_}}var p=(n=this._instance.config.session_recording.compress_events)===null||n===void 0||n?function(v){if(_o(v)<1024)return v;try{if(v.type===Ai.FullSnapshot)return X({},v,{data:xn(v.data),cv:"2024-10"});if(v.type===Ai.IncrementalSnapshot&&v.data.source===oi.Mutation)return X({},v,{cv:"2024-10",data:X({},v.data,{texts:xn(v.data.texts),attributes:xn(v.data.attributes),removes:xn(v.data.removes),adds:xn(v.data.adds)})});if(v.type===Ai.IncrementalSnapshot&&v.data.source===oi.StyleSheetRule)return X({},v,{cv:"2024-10",data:X({},v.data,{adds:v.data.adds?xn(v.data.adds):void 0,removes:v.data.removes?xn(v.data.removes):void 0})})}catch(y){ye.error("could not compress event - will use uncompressed event",y)}return v}(u):u,g={$snapshot_bytes:_o(p),$snapshot_data:p,$session_id:this.kt,$window_id:this.oi};this.status!==an?this.Oi(g):this.ai()}}}}}Ri(){if(!this._instance.config.capture_pageview&&k){var t=this.di(k.location.href);this.Pi!==t&&(this.ii("$url_changed",{href:t}),this.Pi=t)}}Ii(){if(this.Ht.length){var t=[...this.Ht];this.Ht=[],t.forEach(n=>{Date.now()-n.enqueuedAt<=2e3&&this.$i(n)})}}di(t){var n=this._instance.config.session_recording;if(n.maskNetworkRequestFn){var s,o={url:t};return(s=o=n.maskNetworkRequestFn(o))==null?void 0:s.url}return t}ai(){return this.M={size:0,data:[],sessionId:this.kt,windowId:this.oi},this.M}Zt(){this.Fi&&(clearTimeout(this.Fi),this.Fi=void 0);var t=this.Lt,n=this.Mt,s=Pe(n)&&n>=0,o=Pe(t)&&s&&n<t;return this.status===Rn||this.status===au||this.status===an||o?(this.Fi=setTimeout(()=>{this.Zt()},2e3),this.M):(this.M.data.length>0&&bl(this.M).forEach(a=>{this.Ai({$snapshot_bytes:a.size,$snapshot_data:a.data,$session_id:a.sessionId,$window_id:a.windowId,$lib:"web",$lib_version:Di.LIB_VERSION})}),this.ai())}Oi(t){var n,s=2+(((n=this.M)==null?void 0:n.data.length)||0);!this.Wt&&(this.M.size+t.$snapshot_bytes+s>943718.4||this.M.sessionId!==this.kt)&&(this.M=this.Zt()),this.M.size+=t.$snapshot_bytes,this.M.data.push(t.$snapshot_data),this.Fi||this.Wt||(this.Fi=setTimeout(()=>{this.Zt()},2e3))}Ai(t){this._instance.capture("$snapshot",t,{_url:this._instance.requestRouter.endpointFor("api",this.si),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}Ci(t){var n,s;this.Rt.triggerStatus(this.sessionId)===Te&&((n=this._instance)==null||(s=n.persistence)==null||s.register({[t==="url"?cl:hl]:this.kt}),this.Zt(),this.pi(t+"_trigger_matched"))}Ti(){this.Ut.urlBlocked||(this.Ut.urlBlocked=!0,clearInterval(this.vi),ye.info("recording paused due to URL blocker"),this.ii("recording paused",{reason:"url blocker"}))}Mi(){this.Ut.urlBlocked&&(this.Ut.urlBlocked=!1,this.ki(),this.Si(),this.ii("recording resumed",{reason:"left blocked url"}),ye.info("recording resumed"))}hi(){this.qt.St.length!==0&&Ft(this.Xt)&&(this.Xt=this._instance.on("eventCaptured",t=>{try{this.qt.St.includes(t.event)&&this.Ci("event")}catch(n){ye.error("Could not activate event trigger",n)}}))}overrideLinkedFlag(){this.Bt.linkedFlagSeen=!0,this.ki(),this.pi("linked_flag_overridden")}overrideSampling(){var t;(t=this._instance.persistence)==null||t.register({[zs]:!0}),this.ki(),this.pi("sampling_overridden")}overrideTrigger(t){this.Ci(t)}pi(t,n){this._instance.register_for_session({$session_recording_start_reason:t}),ye.info(t.replace("_"," "),n),Tt(["recording_initialized","session_id_changed"],t)||this.ii(t,n)}get sdkDebugProperties(){var{sessionStartTimestamp:t}=this.It.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.M.data.length,$sdk_debug_replay_internal_buffer_size:this.M.size,$sdk_debug_current_session_duration:this.Mt,$sdk_debug_session_start:t}}}var Da=me("[SegmentIntegration]");function ab(e,t){var n=e.config.segment;if(!n)return t();(function(s,o){var a=s.config.segment;if(!a)return o();var u=d=>{var _=()=>d.anonymousId()||nn();s.config.get_device_id=_,d.id()&&(s.register({distinct_id:d.id(),$device_id:_()}),s.persistence.set_property(Ri,"identified")),o()},h=a.user();"then"in h&&ti(h.then)?h.then(d=>u(d)):u(h)})(e,()=>{n.register((s=>{Promise&&Promise.resolve||Da.warn("This browser does not have Promise support, and can not use the segment integration");var o=(a,u)=>{if(!u)return a;a.event.userId||a.event.anonymousId===s.get_distinct_id()||(Da.info("No userId set, resetting PostHog"),s.reset()),a.event.userId&&a.event.userId!==s.get_distinct_id()&&(Da.info("UserId set, identifying with PostHog"),s.identify(a.event.userId));var h=s.calculateEventProperties(u,a.event.properties);return a.event.properties=Object.assign({},h,a.event.properties),a};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:a=>o(a,a.event.event),page:a=>o(a,"$pageview"),identify:a=>o(a,"$identify"),screen:a=>o(a,"$screen")}})(e)).then(()=>{t()})})}var gp="posthog-js";function mp(e,t){var{organization:n,projectId:s,prefix:o,severityAllowList:a=["error"]}=t===void 0?{}:t;return u=>{var h,d,_,p,g;if(!(a==="*"||a.includes(u.level))||!e.__loaded)return u;u.tags||(u.tags={});var v=e.requestRouter.endpointFor("ui","/project/"+e.config.token+"/person/"+e.get_distinct_id());u.tags["PostHog Person URL"]=v,e.sessionRecordingStarted()&&(u.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var y=((h=u.exception)==null?void 0:h.values)||[],S=y.map(z=>X({},z,{stacktrace:z.stacktrace?X({},z.stacktrace,{type:"raw",frames:(z.stacktrace.frames||[]).map(A=>X({},A,{platform:"web:javascript"}))}):void 0})),P={$exception_message:((d=y[0])==null?void 0:d.value)||u.message,$exception_type:(_=y[0])==null?void 0:_.type,$exception_personURL:v,$exception_level:u.level,$exception_list:S,$sentry_event_id:u.event_id,$sentry_exception:u.exception,$sentry_exception_message:((p=y[0])==null?void 0:p.value)||u.message,$sentry_exception_type:(g=y[0])==null?void 0:g.type,$sentry_tags:u.tags};return n&&s&&(P.$sentry_url=(o||"https://sentry.io/organizations/")+n+"/issues/?project="+s+"&query="+u.event_id),e.exceptions.sendExceptionEvent(P),u}}class lb{constructor(t,n,s,o,a){this.name=gp,this.setupOnce=function(u){u(mp(t,{organization:n,projectId:s,prefix:o,severityAllowList:a}))}}}var Fi,ub=k!=null&&k.location?fo(k.location.hash,"__posthog")||fo(location.hash,"state"):null,Hh="_postHogToolbarParams",jh=me("[Toolbar]");(function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED"})(Fi||(Fi={}));class cb{constructor(t){this.instance=t}Di(t){wt.ph_toolbar_state=t}ji(){var t;return(t=wt.ph_toolbar_state)!==null&&t!==void 0?t:Fi.UNINITIALIZED}maybeLoadToolbar(t,n,s){var o,a;if(t===void 0&&(t=void 0),n===void 0&&(n=void 0),s===void 0&&(s=void 0),!k||!tt)return!1;t=(o=t)!==null&&o!==void 0?o:k.location,s=(a=s)!==null&&a!==void 0?a:k.history;try{if(!n){try{k.localStorage.setItem("test","test"),k.localStorage.removeItem("test")}catch{return!1}n=k==null?void 0:k.localStorage}var u,h=ub||fo(t.hash,"__posthog")||fo(t.hash,"state"),d=h?uh(()=>JSON.parse(atob(decodeURIComponent(h))))||uh(()=>JSON.parse(decodeURIComponent(h))):null;return d&&d.action==="ph_authorize"?((u=d).source="url",u&&Object.keys(u).length>0&&(d.desiredHash?t.hash=d.desiredHash:s?s.replaceState(s.state,"",t.pathname+t.search):t.hash="")):((u=JSON.parse(n.getItem(Hh)||"{}")).source="localstorage",delete u.userIntent),!(!u.token||this.instance.config.token!==u.token)&&(this.loadToolbar(u),!0)}catch{return!1}}Li(t){var n=wt.ph_load_toolbar||wt.ph_load_editor;!Ft(n)&&ti(n)?n(t,this.instance):jh.warn("No toolbar load function found")}loadToolbar(t){var n=!(tt==null||!tt.getElementById(jf));if(!k||n)return!1;var s=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,o=X({token:this.instance.config.token},t,{apiURL:this.instance.requestRouter.endpointFor("ui")},s?{instrument:!1}:{});if(k.localStorage.setItem(Hh,JSON.stringify(X({},o,{source:void 0}))),this.ji()===Fi.LOADED)this.Li(o);else if(this.ji()===Fi.UNINITIALIZED){var a;this.Di(Fi.LOADING),(a=wt.__PosthogExtensions__)==null||a.loadExternalDependency==null||a.loadExternalDependency(this.instance,"toolbar",u=>{if(u)return jh.error("[Toolbar] Failed to load",u),void this.Di(Fi.UNINITIALIZED);this.Di(Fi.LOADED),this.Li(o)}),ie(k,"turbolinks:load",()=>{this.Di(Fi.UNINITIALIZED),this.loadToolbar(o)})}return!0}Ni(t){return this.loadToolbar(t)}maybeLoadEditor(t,n,s){return t===void 0&&(t=void 0),n===void 0&&(n=void 0),s===void 0&&(s=void 0),this.maybeLoadToolbar(t,n,s)}}var hb=me("[TracingHeaders]");class db{constructor(t){this.zi=void 0,this.Ui=void 0,this.V=()=>{var n,s,o,a;V(this.zi)&&((n=wt.__PosthogExtensions__)==null||(s=n.tracingHeadersPatchFns)==null||s._patchXHR(this._instance.sessionManager)),V(this.Ui)&&((o=wt.__PosthogExtensions__)==null||(a=o.tracingHeadersPatchFns)==null||a._patchFetch(this._instance.sessionManager))},this._instance=t}G(t){var n,s;(n=wt.__PosthogExtensions__)!=null&&n.tracingHeadersPatchFns&&t(),(s=wt.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this._instance,"tracing-headers",o=>{if(o)return hb.error("failed to load script",o);t()})}startIfEnabledOrStop(){var t,n;this._instance.config.__add_tracing_headers?this.G(this.V):((t=this.zi)==null||t.call(this),(n=this.Ui)==null||n.call(this),this.zi=void 0,this.Ui=void 0)}}var Ki=me("[Web Vitals]"),Wh=9e5;class fb{constructor(t){var n;this.qi=!1,this.i=!1,this.M={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Bi=()=>{clearTimeout(this.Hi),this.M.metrics.length!==0&&(this._instance.capture("$web_vitals",this.M.metrics.reduce((s,o)=>X({},s,{["$web_vitals_"+o.name+"_event"]:X({},o),["$web_vitals_"+o.name+"_value"]:o.value}),{})),this.M={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Wi=s=>{var o,a=(o=this._instance.sessionManager)==null?void 0:o.checkAndGetSessionAndWindowId(!0);if(V(a))Ki.error("Could not read session ID. Dropping metrics!");else{this.M=this.M||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var u=this.Gi();V(u)||(Ft(s==null?void 0:s.name)||Ft(s==null?void 0:s.value)?Ki.error("Invalid metric received",s):this.Ji&&s.value>=this.Ji?Ki.error("Ignoring metric with value >= "+this.Ji,s):(this.M.url!==u&&(this.Bi(),this.Hi=setTimeout(this.Bi,this.flushToCaptureTimeoutMs)),V(this.M.url)&&(this.M.url=u),this.M.firstMetricTimestamp=V(this.M.firstMetricTimestamp)?Date.now():this.M.firstMetricTimestamp,s.attribution&&s.attribution.interactionTargetElement&&(s.attribution.interactionTargetElement=void 0),this.M.metrics.push(X({},s,{$current_url:u,$session_id:a.sessionId,$window_id:a.windowId,timestamp:Date.now()})),this.M.metrics.length===this.allowedMetrics.length&&this.Bi()))}},this.V=()=>{var s,o,a,u,h=wt.__PosthogExtensions__;V(h)||V(h.postHogWebVitalsCallbacks)||({onLCP:s,onCLS:o,onFCP:a,onINP:u}=h.postHogWebVitalsCallbacks),s&&o&&a&&u?(this.allowedMetrics.indexOf("LCP")>-1&&s(this.Wi.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&o(this.Wi.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&a(this.Wi.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&u(this.Wi.bind(this)),this.i=!0):Ki.error("web vitals callbacks not loaded - not starting")},this._instance=t,this.qi=!((n=this._instance.persistence)==null||!n.props[dh]),this.startIfEnabled()}get allowedMetrics(){var t,n,s=ne(this._instance.config.capture_performance)?(t=this._instance.config.capture_performance)==null?void 0:t.web_vitals_allowed_metrics:void 0;return V(s)?((n=this._instance.persistence)==null?void 0:n.props[fh])||["CLS","FCP","INP","LCP"]:s}get flushToCaptureTimeoutMs(){return(ne(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get Ji(){var t=ne(this._instance.config.capture_performance)&&Pe(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:Wh;return 0<t&&t<=6e4?Wh:t}get isEnabled(){var t=Ne==null?void 0:Ne.protocol;if(t!=="http:"&&t!=="https:")return Ki.info("Web Vitals are disabled on non-http/https protocols"),!1;var n=ne(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:$i(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return $i(n)?n:this.qi}startIfEnabled(){this.isEnabled&&!this.i&&(Ki.info("enabled, starting..."),this.G(this.V))}onRemoteConfig(t){var n=ne(t.capturePerformance)&&!!t.capturePerformance.web_vitals,s=ne(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[dh]:n}),this._instance.persistence.register({[fh]:s})),this.qi=n,this.startIfEnabled()}G(t){var n,s;(n=wt.__PosthogExtensions__)!=null&&n.postHogWebVitalsCallbacks&&t(),(s=wt.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this._instance,"web-vitals",o=>{o?Ki.error("failed to load script",o):t()})}Gi(){var t=k?k.location.href:void 0;return t||Ki.error("Could not determine current URL"),t}}var pb=me("[Heatmaps]");function qh(e){return ne(e)&&"clientX"in e&&"clientY"in e&&Pe(e.clientX)&&Pe(e.clientY)}class _b{constructor(t){var n;this.rageclicks=new tp,this.qi=!1,this.i=!1,this.Vi=null,this.instance=t,this.qi=!((n=this.instance.persistence)==null||!n.props[al])}get flushIntervalMilliseconds(){var t=5e3;return ne(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return V(this.instance.config.capture_heatmaps)?V(this.instance.config.enable_heatmaps)?this.qi:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.i)return;pb.info("starting..."),this.Ki(),this.Vi=setInterval(this.Yi.bind(this),this.flushIntervalMilliseconds)}else{var t,n;clearInterval((t=this.Vi)!==null&&t!==void 0?t:void 0),(n=this.Xi)==null||n.stop(),this.getAndClearBuffer()}}onRemoteConfig(t){var n=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[al]:n}),this.qi=n,this.startIfEnabled()}getAndClearBuffer(){var t=this.M;return this.M=void 0,t}Qi(t){this.Zi(t.originalEvent,"deadclick")}Ki(){k&&tt&&(ie(k,"beforeunload",this.Yi.bind(this)),ie(tt,"click",t=>this.Zi(t||(k==null?void 0:k.event)),{capture:!0}),ie(tt,"mousemove",t=>this.te(t||(k==null?void 0:k.event)),{capture:!0}),this.Xi=new ip(this.instance,y0,this.Qi.bind(this)),this.Xi.startIfEnabled(),this.i=!0)}ie(t,n){var s=this.instance.scrollManager.scrollY(),o=this.instance.scrollManager.scrollX(),a=this.instance.scrollManager.scrollElement(),u=function(h,d,_){for(var p=h;p&&Do(p)&&!on(p,"body");){if(p===_)return!1;if(Tt(d,k==null?void 0:k.getComputedStyle(p).position))return!0;p=Gf(p)}return!1}(Vf(t),["fixed","sticky"],a);return{x:t.clientX+(u?0:o),y:t.clientY+(u?0:s),target_fixed:u,type:n}}Zi(t,n){var s;if(n===void 0&&(n="click"),!xh(t.target)&&qh(t)){var o=this.ie(t,n);(s=this.rageclicks)!=null&&s.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this.ee(X({},o,{type:"rageclick"})),this.ee(o)}}te(t){!xh(t.target)&&qh(t)&&(clearTimeout(this.re),this.re=setTimeout(()=>{this.ee(this.ie(t,"mousemove"))},500))}ee(t){if(k){var n=k.location.href;this.M=this.M||{},this.M[n]||(this.M[n]=[]),this.M[n].push(t)}}Yi(){this.M&&!Jn(this.M)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class gb{constructor(t){this._instance=t}doPageView(t,n){var s,o=this.se(t,n);return this.ne={pathname:(s=k==null?void 0:k.location.pathname)!==null&&s!==void 0?s:"",pageViewId:n,timestamp:t},this._instance.scrollManager.resetContext(),o}doPageLeave(t){var n;return this.se(t,(n=this.ne)==null?void 0:n.pageViewId)}doEvent(){var t;return{$pageview_id:(t=this.ne)==null?void 0:t.pageViewId}}se(t,n){var s=this.ne;if(!s)return{$pageview_id:n};var o={$pageview_id:n,$prev_pageview_id:s.pageViewId},a=this._instance.scrollManager.getContext();if(a&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:u,lastScrollY:h,maxScrollY:d,maxContentHeight:_,lastContentY:p,maxContentY:g}=a;if(!(V(u)||V(h)||V(d)||V(_)||V(p)||V(g))){u=Math.ceil(u),h=Math.ceil(h),d=Math.ceil(d),_=Math.ceil(_),p=Math.ceil(p),g=Math.ceil(g);var v=u<=1?1:Je(h/u,0,1),y=u<=1?1:Je(d/u,0,1),S=_<=1?1:Je(p/_,0,1),P=_<=1?1:Je(g/_,0,1);o=ue(o,{$prev_pageview_last_scroll:h,$prev_pageview_last_scroll_percentage:v,$prev_pageview_max_scroll:d,$prev_pageview_max_scroll_percentage:y,$prev_pageview_last_content:p,$prev_pageview_last_content_percentage:S,$prev_pageview_max_content:g,$prev_pageview_max_content_percentage:P})}}return s.pathname&&(o.$prev_pageview_pathname=s.pathname),s.timestamp&&(o.$prev_pageview_duration=(t.getTime()-s.timestamp.getTime())/1e3),o}}var mb=function(e){var t,n,s,o,a="";for(t=n=0,s=(e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,o=0;o<s;o++){var u=e.charCodeAt(o),h=null;u<128?n++:h=u>127&&u<2048?String.fromCharCode(u>>6|192,63&u|128):String.fromCharCode(u>>12|224,u>>6&63|128,63&u|128),dn(h)||(n>t&&(a+=e.substring(t,n)),a+=h,t=n=o+1)}return n>t&&(a+=e.substring(t,e.length)),a},vb=!!sl||!!nl,Uh="text/plain",vo=(e,t)=>{var[n,s]=e.split("?"),o=X({},t);s==null||s.split("&").forEach(u=>{var[h]=u.split("=");delete o[h]});var a=r0(o);return n+"?"+(a=a?(s?s+"&":"")+a:s)},Hs=(e,t)=>JSON.stringify(e,(n,s)=>typeof s=="bigint"?s.toString():s,t),Na=e=>{var{data:t,compression:n}=e;if(t){if(n===ai.GZipJS){var s=dp(fp(Hs(t)),{mtime:0}),o=new Blob([s],{type:Uh});return{contentType:Uh,body:o,estimatedSize:o.size}}if(n===ai.Base64){var a=function(d){var _,p,g,v,y,S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",P=0,z=0,A="",M=[];if(!d)return d;d=mb(d);do _=(y=d.charCodeAt(P++)<<16|d.charCodeAt(P++)<<8|d.charCodeAt(P++))>>18&63,p=y>>12&63,g=y>>6&63,v=63&y,M[z++]=S.charAt(_)+S.charAt(p)+S.charAt(g)+S.charAt(v);while(P<d.length);switch(A=M.join(""),d.length%3){case 1:A=A.slice(0,-2)+"==";break;case 2:A=A.slice(0,-1)+"="}return A}(Hs(t)),u=(d=>"data="+encodeURIComponent(typeof d=="string"?d:Hs(d)))(a);return{contentType:"application/x-www-form-urlencoded",body:u,estimatedSize:new Blob([u]).size}}var h=Hs(t);return{contentType:"application/json",body:h,estimatedSize:new Blob([h]).size}}},Qs=[];nl&&Qs.push({transport:"fetch",method:e=>{var t,n,{contentType:s,body:o,estimatedSize:a}=(t=Na(e))!==null&&t!==void 0?t:{},u=new Headers;Zt(e.headers,function(p,g){u.append(g,p)}),s&&u.append("Content-Type",s);var h=e.url,d=null;if(ah){var _=new ah;d={signal:_.signal,timeout:setTimeout(()=>_.abort(),e.timeout)}}nl(h,X({method:(e==null?void 0:e.method)||"GET",headers:u,keepalive:e.method==="POST"&&(a||0)<52428.8,body:o,signal:(n=d)==null?void 0:n.signal},e.fetchOptions)).then(p=>p.text().then(g=>{var v={statusCode:p.status,text:g};if(p.status===200)try{v.json=JSON.parse(g)}catch(y){it.error(y)}e.callback==null||e.callback(v)})).catch(p=>{it.error(p),e.callback==null||e.callback({statusCode:0,text:p})}).finally(()=>d?clearTimeout(d.timeout):null)}}),sl&&Qs.push({transport:"XHR",method:e=>{var t,n=new sl;n.open(e.method||"GET",e.url,!0);var{contentType:s,body:o}=(t=Na(e))!==null&&t!==void 0?t:{};Zt(e.headers,function(a,u){n.setRequestHeader(u,a)}),s&&n.setRequestHeader("Content-Type",s),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=()=>{if(n.readyState===4){var a={statusCode:n.status,text:n.responseText};if(n.status===200)try{a.json=JSON.parse(n.responseText)}catch{}e.callback==null||e.callback(a)}},n.send(o)}}),Ue!=null&&Ue.sendBeacon&&Qs.push({transport:"sendBeacon",method:e=>{var t=vo(e.url,{beacon:"1"});try{var n,{contentType:s,body:o}=(n=Na(e))!==null&&n!==void 0?n:{},a=typeof o=="string"?new Blob([o],{type:s}):o;Ue.sendBeacon(t,a)}catch{}}});var ps=function(e,t){if(!function(n){try{new RegExp(n)}catch{return!1}return!0}(t))return!1;try{return new RegExp(t).test(e)}catch{return!1}};function Vh(e,t,n){return Hs({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:n})}var yb={exact:(e,t)=>t.some(n=>e.some(s=>n===s)),is_not:(e,t)=>t.every(n=>e.every(s=>n!==s)),regex:(e,t)=>t.some(n=>e.some(s=>ps(n,s))),not_regex:(e,t)=>t.every(n=>e.every(s=>!ps(n,s))),icontains:(e,t)=>t.map(jr).some(n=>e.map(jr).some(s=>n.includes(s))),not_icontains:(e,t)=>t.map(jr).every(n=>e.map(jr).every(s=>!n.includes(s)))},jr=e=>e.toLowerCase(),bb=me("[Error tracking]");class wb{constructor(t){var n,s;this.oe=[],this._instance=t,this.oe=(n=(s=this._instance.persistence)==null?void 0:s.get_property(ll))!==null&&n!==void 0?n:[]}onRemoteConfig(t){var n,s,o=(n=(s=t.errorTracking)==null?void 0:s.suppressionRules)!==null&&n!==void 0?n:[];this.oe=o,this._instance.persistence&&this._instance.persistence.register({[ll]:this.oe})}sendExceptionEvent(t){this.ae(t)?bb.info("Skipping exception capture because a suppression rule matched"):this._instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent"})}ae(t){var n=t.$exception_list;if(!n||!Jt(n)||n.length===0)return!1;var s=n.reduce((o,a)=>{var{type:u,value:h}=a;return se(u)&&u.length>0&&o.$exception_types.push(u),se(h)&&h.length>0&&o.$exception_messages.push(h),o},{$exception_types:[],$exception_messages:[]});return this.oe.some(o=>{var a=o.values.map(u=>{var h=yb[u.operator],d=Jt(u.value)?u.value:[u.value],_=s[u.key];return d.length>0&&h(d,_)});return o.type==="OR"?a.some(Boolean):a.every(Boolean)})}}var ii="Mobile",yo="iOS",bi="Android",lr="Tablet",vp=bi+" "+lr,yp="iPad",bp="Apple",wp=bp+" Watch",ur="Safari",_s="BlackBerry",xp="Samsung",Pp=xp+"Browser",Sp=xp+" Internet",An="Chrome",xb=An+" OS",Ep=An+" "+yo,uu="Internet Explorer",Tp=uu+" "+ii,cu="Opera",Pb=cu+" Mini",hu="Edge",kp="Microsoft "+hu,os="Firefox",Lp=os+" "+yo,cr="Nintendo",hr="PlayStation",as="Xbox",Cp=bi+" "+ii,Mp=ii+" "+ur,js="Windows",kl=js+" Phone",Gh="Nokia",Ll="Ouya",Ip="Generic",Sb=Ip+" "+ii.toLowerCase(),Op=Ip+" "+lr.toLowerCase(),Cl="Konqueror",Ie="(\\d+(\\.\\d+)?)",$a=new RegExp("Version/"+Ie),Eb=new RegExp(as,"i"),Tb=new RegExp(hr+" \\w+","i"),kb=new RegExp(cr+" \\w+","i"),du=new RegExp(_s+"|PlayBook|BB10","i"),Lb={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},Cb=(e,t)=>t&&Tt(t,bp)||function(n){return Tt(n,ur)&&!Tt(n,An)&&!Tt(n,bi)}(e),Rp=function(e,t){return t=t||"",Tt(e," OPR/")&&Tt(e,"Mini")?Pb:Tt(e," OPR/")?cu:du.test(e)?_s:Tt(e,"IE"+ii)||Tt(e,"WPDesktop")?Tp:Tt(e,Pp)?Sp:Tt(e,hu)||Tt(e,"Edg/")?kp:Tt(e,"FBIOS")?"Facebook "+ii:Tt(e,"UCWEB")||Tt(e,"UCBrowser")?"UC Browser":Tt(e,"CriOS")?Ep:Tt(e,"CrMo")||Tt(e,An)?An:Tt(e,bi)&&Tt(e,ur)?Cp:Tt(e,"FxiOS")?Lp:Tt(e.toLowerCase(),Cl.toLowerCase())?Cl:Cb(e,t)?Tt(e,ii)?Mp:ur:Tt(e,os)?os:Tt(e,"MSIE")||Tt(e,"Trident/")?uu:Tt(e,"Gecko")?os:""},Mb={[Tp]:[new RegExp("rv:"+Ie)],[kp]:[new RegExp(hu+"?\\/"+Ie)],[An]:[new RegExp("("+An+"|CrMo)\\/"+Ie)],[Ep]:[new RegExp("CriOS\\/"+Ie)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Ie)],[ur]:[$a],[Mp]:[$a],[cu]:[new RegExp("(Opera|OPR)\\/"+Ie)],[os]:[new RegExp(os+"\\/"+Ie)],[Lp]:[new RegExp("FxiOS\\/"+Ie)],[Cl]:[new RegExp("Konqueror[:/]?"+Ie,"i")],[_s]:[new RegExp(_s+" "+Ie),$a],[Cp]:[new RegExp("android\\s"+Ie,"i")],[Sp]:[new RegExp(Pp+"\\/"+Ie)],[uu]:[new RegExp("(rv:|MSIE )"+Ie)],Mozilla:[new RegExp("rv:"+Ie)]},Ib=function(e,t){var n=Rp(e,t),s=Mb[n];if(V(s))return null;for(var o=0;o<s.length;o++){var a=s[o],u=e.match(a);if(u)return parseFloat(u[u.length-2])}return null},Kh=[[new RegExp(as+"; "+as+" (.*?)[);]","i"),e=>[as,e&&e[1]||""]],[new RegExp(cr,"i"),[cr,""]],[new RegExp(hr,"i"),[hr,""]],[du,[_s,""]],[new RegExp(js,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[kl,""];if(new RegExp(ii).test(t)&&!/IEMobile\b/.test(t))return[js+" "+ii,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var s=n[1],o=Lb[s]||"";return/arm/i.test(t)&&(o="RT"),[js,o]}return[js,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[yo,t.join(".")]}return[yo,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=V(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+bi+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+bi+")","i"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[bi,t.join(".")]}return[bi,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[xb,""]],[/Linux|debian/i,["Linux",""]]],Yh=function(e){return kb.test(e)?cr:Tb.test(e)?hr:Eb.test(e)?as:new RegExp(Ll,"i").test(e)?Ll:new RegExp("("+kl+"|WPDesktop)","i").test(e)?kl:/iPad/.test(e)?yp:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?wp:du.test(e)?_s:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(Gh,"i").test(e)?Gh:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(ii).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?bi:vp:bi:new RegExp("(pda|"+ii+")","i").test(e)?Sb:new RegExp(lr,"i").test(e)&&!new RegExp(lr+" pc","i").test(e)?Op:""},Wr="https?://(.*)",$o=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],Ob=Fo(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],$o),fu="<masked>";function Ap(e,t,n){if(!tt)return{};var s=t?Fo([],$o,n||[]):[];return Fp(iu(tt.URL,s,fu),e)}function Fp(e,t){var n=Ob.concat(t||[]),s={};return Zt(n,function(o){var a=ho(e,o);s[o]=a||null}),s}function Dp(e){var t=function(a){return a?a.search(Wr+"google.([^/?]*)")===0?"google":a.search(Wr+"bing.com")===0?"bing":a.search(Wr+"yahoo.com")===0?"yahoo":a.search(Wr+"duckduckgo.com")===0?"duckduckgo":null:null}(e),n=t!="yahoo"?"q":"p",s={};if(!dn(t)){s.$search_engine=t;var o=tt?ho(tt.referrer,n):"";o.length&&(s.ph_keyword=o)}return s}function Xh(){return navigator.language||navigator.userLanguage}function Np(){return(tt==null?void 0:tt.referrer)||"$direct"}function $p(e,t){var n=e?Fo([],$o,t||[]):[],s=Ne==null?void 0:Ne.href.substring(0,1e3);return{r:Np().substring(0,1e3),u:s?iu(s,n,fu):void 0}}function zp(e){var t,{r:n,u:s}=e,o={$referrer:n,$referring_domain:n==null?void 0:n=="$direct"?"$direct":(t=ds(n))==null?void 0:t.host};if(s){o.$current_url=s;var a=ds(s);o.$host=a==null?void 0:a.host,o.$pathname=a==null?void 0:a.pathname;var u=Fp(s);ue(o,u)}if(n){var h=Dp(n);ue(o,h)}return o}function Bp(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function Rb(){try{return new Date().getTimezoneOffset()}catch{return}}function Ab(e,t){if(!De)return{};var n,s,o,a=e?Fo([],$o,t||[]):[],[u,h]=function(d){for(var _=0;_<Kh.length;_++){var[p,g]=Kh[_],v=p.exec(d),y=v&&(ti(g)?g(v,d):g);if(y)return y}return["",""]}(De);return ue(tu({$os:u,$os_version:h,$browser:Rp(De,navigator.vendor),$device:Yh(De),$device_type:(s=De,o=Yh(s),o===yp||o===vp||o==="Kobo"||o==="Kindle Fire"||o===Op?lr:o===cr||o===as||o===hr||o===Ll?"Console":o===wp?"Wearable":o?ii:"Desktop"),$timezone:Bp(),$timezone_offset:Rb()}),{$current_url:iu(Ne==null?void 0:Ne.href,a,fu),$host:Ne==null?void 0:Ne.host,$pathname:Ne==null?void 0:Ne.pathname,$raw_user_agent:De.length>1e3?De.substring(0,997)+"...":De,$browser_version:Ib(De,navigator.vendor),$browser_language:Xh(),$browser_language_prefix:(n=Xh(),typeof n=="string"?n.split("-")[0]:void 0),$screen_height:k==null?void 0:k.screen.height,$screen_width:k==null?void 0:k.screen.width,$viewport_height:k==null?void 0:k.innerHeight,$viewport_width:k==null?void 0:k.innerWidth,$lib:"web",$lib_version:Di.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var Ml,mi=me("[FeatureFlags]"),za="$active_feature_flags",Vn="$override_feature_flags",Jh="$feature_flag_payloads",As="$override_feature_flag_payloads",Qh="$feature_flag_request_id",td=e=>{var t={};for(var[n,s]of Kr(e||{}))s&&(t[n]=s);return t},Fb=e=>{var t=e.flags;return t?(e.featureFlags=Object.fromEntries(Object.keys(t).map(n=>{var s;return[n,(s=t[n].variant)!==null&&s!==void 0?s:t[n].enabled]})),e.featureFlagPayloads=Object.fromEntries(Object.keys(t).filter(n=>t[n].enabled).filter(n=>{var s;return(s=t[n].metadata)==null?void 0:s.payload}).map(n=>{var s;return[n,(s=t[n].metadata)==null?void 0:s.payload]}))):mi.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),e};(function(e){e.FeatureFlags="feature_flags",e.Recordings="recordings"})(Ml||(Ml={}));class Db{constructor(t){this.le=!1,this.ue=!1,this.he=!1,this.de=!1,this.ve=!1,this.ce=!1,this.fe=!1,this._instance=t,this.featureFlagEventHandlers=[]}decide(){if(this._instance.config.__preview_remote_config)this.ce=!0;else{var t=!this.pe&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.ge({disableFlags:t})}}get hasLoadedFlags(){return this.ue}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var t=this._instance.get_property(dl),n=this._instance.get_property(Vn),s=this._instance.get_property(As);if(!s&&!n)return t||{};var o=ue({},t||{}),a=[...new Set([...Object.keys(s||{}),...Object.keys(n||{})])];for(var u of a){var h,d,_=o[u],p=n==null?void 0:n[u],g=V(p)?(h=_==null?void 0:_.enabled)!==null&&h!==void 0&&h:!!p,v=V(p)?_.variant:typeof p=="string"?p:void 0,y=s==null?void 0:s[u],S=X({},_,{enabled:g,variant:g?v??(_==null?void 0:_.variant):void 0});g!==(_==null?void 0:_.enabled)&&(S.original_enabled=_==null?void 0:_.enabled),v!==(_==null?void 0:_.variant)&&(S.original_variant=_==null?void 0:_.variant),y&&(S.metadata=X({},_==null?void 0:_.metadata,{payload:y,original_payload:_==null||(d=_.metadata)==null?void 0:d.payload})),o[u]=S}return this.le||(mi.warn(" Overriding feature flag details!",{flagDetails:t,overriddenPayloads:s,finalDetails:o}),this.le=!0),o}getFlagVariants(){var t=this._instance.get_property(Qn),n=this._instance.get_property(Vn);if(!n)return t||{};for(var s=ue({},t),o=Object.keys(n),a=0;a<o.length;a++)s[o[a]]=n[o[a]];return this.le||(mi.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:n,finalFlags:s}),this.le=!0),s}getFlagPayloads(){var t=this._instance.get_property(Jh),n=this._instance.get_property(As);if(!n)return t||{};for(var s=ue({},t||{}),o=Object.keys(n),a=0;a<o.length;a++)s[o[a]]=n[o[a]];return this.le||(mi.warn(" Overriding feature flag payloads!",{flagPayloads:t,overriddenPayloads:n,finalPayloads:s}),this.le=!0),s}reloadFeatureFlags(){this.de||this._instance.config.advanced_disable_feature_flags||this.pe||(this.pe=setTimeout(()=>{this.ge()},5))}_e(){clearTimeout(this.pe),this.pe=void 0}ensureFlagsLoaded(){this.ue||this.he||this.pe||this.reloadFeatureFlags()}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.de=t}ge(t){var n;if(this._e(),!this._instance.config.advanced_disable_decide)if(this.he)this.ve=!0;else{var s={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:X({},((n=this._instance.persistence)==null?void 0:n.get_initial_props())||{},this._instance.get_property(Bs)||{}),group_properties:this._instance.get_property(En)};(t!=null&&t.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(s.disable_flags=!0);var o=this._instance.config.__preview_flags_v2&&this._instance.config.__preview_remote_config;o&&(s.timezone=Bp()),this.he=!0,this._instance.me({method:"POST",url:this._instance.requestRouter.endpointFor("api",o?"/flags/?v=2":"/decide/?v=4"),data:s,compression:this._instance.config.disable_compression?void 0:ai.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:a=>{var u,h,d,_=!0;a.statusCode===200&&(this.ve||(this.$anon_distinct_id=void 0),_=!1),this.he=!1,this.ce||(this.ce=!0,this._instance.be((d=a.json)!==null&&d!==void 0?d:{})),s.disable_flags&&!this.ve||(this.fe=!_,a.json&&(u=a.json.quotaLimited)!=null&&u.includes(Ml.FeatureFlags)?mi.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more."):(this.receivedFeatureFlags((h=a.json)!==null&&h!==void 0?h:{},_),this.ve&&(this.ve=!1,this.ge())))}})}}getFeatureFlag(t,n){if(n===void 0&&(n={}),this.ue||this.getFlags()&&this.getFlags().length>0){var s=this.getFlagVariants()[t],o=""+s,a=this._instance.get_property(Qh)||void 0,u=this._instance.get_property(ao)||{};if((n.send_event||!("send_event"in n))&&(!(t in u)||!u[t].includes(o))){var h,d,_,p,g,v,y,S,P,z,A;Jt(u[t])?u[t].push(o):u[t]=[o],(h=this._instance.persistence)==null||h.register({[ao]:u});var M=this.getFeatureFlagDetails(t),D={$feature_flag:t,$feature_flag_response:s,$feature_flag_payload:this.getFeatureFlagPayload(t)||null,$feature_flag_request_id:a,$feature_flag_bootstrapped_response:((d=this._instance.config.bootstrap)==null||(_=d.featureFlags)==null?void 0:_[t])||null,$feature_flag_bootstrapped_payload:((p=this._instance.config.bootstrap)==null||(g=p.featureFlagPayloads)==null?void 0:g[t])||null,$used_bootstrap_value:!this.fe};V(M==null||(v=M.metadata)==null?void 0:v.version)||(D.$feature_flag_version=M.metadata.version);var $,Q=(y=M==null||(S=M.reason)==null?void 0:S.description)!==null&&y!==void 0?y:M==null||(P=M.reason)==null?void 0:P.code;Q&&(D.$feature_flag_reason=Q),M!=null&&(z=M.metadata)!=null&&z.id&&(D.$feature_flag_id=M.metadata.id),V(M==null?void 0:M.original_variant)&&V(M==null?void 0:M.original_enabled)||(D.$feature_flag_original_response=V(M.original_variant)?M.original_enabled:M.original_variant),M!=null&&(A=M.metadata)!=null&&A.original_payload&&(D.$feature_flag_original_payload=M==null||($=M.metadata)==null?void 0:$.original_payload),this._instance.capture("$feature_flag_called",D)}return s}mi.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(t){return this.getFlagsWithDetails()[t]}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}getRemoteConfigPayload(t,n){var s=this._instance.config.token;this._instance.me({method:"POST",url:this._instance.requestRouter.endpointFor("api","/decide/?v=4"),data:{distinct_id:this._instance.get_distinct_id(),token:s},compression:this._instance.config.disable_compression?void 0:ai.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:o=>{var a,u=(a=o.json)==null?void 0:a.featureFlagPayloads;n((u==null?void 0:u[t])||void 0)}})}isFeatureEnabled(t,n){if(n===void 0&&(n={}),this.ue||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(t,n);mi.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(n=>n!==t)}receivedFeatureFlags(t,n){if(this._instance.persistence){this.ue=!0;var s=this.getFlagVariants(),o=this.getFlagPayloads(),a=this.getFlagsWithDetails();(function(u,h,d,_,p){d===void 0&&(d={}),_===void 0&&(_={}),p===void 0&&(p={});var g=Fb(u),v=g.flags,y=g.featureFlags,S=g.featureFlagPayloads;if(y){var P=u.requestId;if(Jt(y)){mi.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var z={};if(y)for(var A=0;A<y.length;A++)z[y[A]]=!0;h&&h.register({[za]:y,[Qn]:z})}else{var M=y,D=S,$=v;u.errorsWhileComputingFlags&&(M=X({},d,M),D=X({},_,D),$=X({},p,$)),h&&h.register(X({[za]:Object.keys(td(M)),[Qn]:M||{},[Jh]:D||{},[dl]:$||{}},P?{[Qh]:P}:{}))}}})(t,this._instance.persistence,s,o,a),this.we(n)}}override(t,n){n===void 0&&(n=!1),mi.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:t,suppressWarning:n})}overrideFeatureFlags(t){if(!this._instance.__loaded||!this._instance.persistence)return mi.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(t===!1)return this._instance.persistence.unregister(Vn),this._instance.persistence.unregister(As),void this.we();if(t&&typeof t=="object"&&("flags"in t||"payloads"in t)){var n,s=t;if(this.le=!!((n=s.suppressWarning)!==null&&n!==void 0&&n),"flags"in s){if(s.flags===!1)this._instance.persistence.unregister(Vn);else if(s.flags)if(Jt(s.flags)){for(var o={},a=0;a<s.flags.length;a++)o[s.flags[a]]=!0;this._instance.persistence.register({[Vn]:o})}else this._instance.persistence.register({[Vn]:s.flags})}return"payloads"in s&&(s.payloads===!1?this._instance.persistence.unregister(As):s.payloads&&this._instance.persistence.register({[As]:s.payloads})),void this.we()}this.we()}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.ue){var{flags:n,flagVariants:s}=this.ye();t(n,s)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,n){var s,o=(this._instance.get_property(Yr)||[]).find(d=>d.flagKey===t),a={["$feature_enrollment/"+t]:n},u={$feature_flag:t,$feature_enrollment:n,$set:a};o&&(u.$early_access_feature_name=o.name),this._instance.capture("$feature_enrollment_update",u),this.setPersonPropertiesForFlags(a,!1);var h=X({},this.getFlagVariants(),{[t]:n});(s=this._instance.persistence)==null||s.register({[za]:Object.keys(td(h)),[Qn]:h}),this.we()}getEarlyAccessFeatures(t,n,s){n===void 0&&(n=!1);var o=this._instance.get_property(Yr),a=s?"&"+s.map(u=>"stage="+u).join("&"):"";if(o&&!n)return t(o);this._instance.me({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+a),method:"GET",callback:u=>{var h;if(u.json){var d=u.json.earlyAccessFeatures;return(h=this._instance.persistence)==null||h.register({[Yr]:d}),t(d)}}})}ye(){var t=this.getFlags(),n=this.getFlagVariants();return{flags:t.filter(s=>n[s]),flagVariants:Object.keys(n).filter(s=>n[s]).reduce((s,o)=>(s[o]=n[o],s),{})}}we(t){var{flags:n,flagVariants:s}=this.ye();this.featureFlagEventHandlers.forEach(o=>o(n,s,{errorsLoading:t}))}setPersonPropertiesForFlags(t,n){n===void 0&&(n=!0);var s=this._instance.get_property(Bs)||{};this._instance.register({[Bs]:X({},s,t)}),n&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(Bs)}setGroupPropertiesForFlags(t,n){n===void 0&&(n=!0);var s=this._instance.get_property(En)||{};Object.keys(s).length!==0&&Object.keys(s).forEach(o=>{s[o]=X({},s[o],t[o]),delete t[o]}),this._instance.register({[En]:X({},s,t)}),n&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var n=this._instance.get_property(En)||{};this._instance.register({[En]:X({},n,{[t]:{}})})}else this._instance.unregister(En)}}var Nb=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class Ba{constructor(t){this.S=t,this.props={},this.Se=!1,this.$e=(n=>{var s="";return n.token&&(s=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+s+"_posthog"})(t),this.q=this.ke(t),this.load(),t.debug&&it.info("Persistence loaded",t.persistence,X({},this.props)),this.update_config(t,t),this.save()}ke(t){Nb.indexOf(t.persistence.toLowerCase())===-1&&(it.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var n=t.persistence.toLowerCase();return n==="localstorage"&&de.O()?de:n==="localstorage+cookie"&&Nr.O()?Nr:n==="sessionstorage"&&ge.O()?ge:n==="memory"?m0:n==="cookie"?Zi:Nr.O()?Nr:Zi}properties(){var t={};return Zt(this.props,function(n,s){if(s===Qn&&ne(n))for(var o=Object.keys(n),a=0;a<o.length;a++)t["$feature/"+o[a]]=n[o[a]];else h=s,d=!1,(dn(u=Yy)?d:oh&&u.indexOf===oh?u.indexOf(h)!=-1:(Zt(u,function(_){if(d||(d=_===h))return ro}),d))||(t[s]=n);var u,h,d}),t}load(){if(!this.xe){var t=this.q.D(this.$e);t&&(this.props=ue({},t))}}save(){this.xe||this.q.j(this.$e,this.props,this.Ee,this.Ie,this.Pe,this.S.debug)}remove(){this.q.L(this.$e,!1),this.q.L(this.$e,!0)}clear(){this.remove(),this.props={}}register_once(t,n,s){if(ne(t)){V(n)&&(n="None"),this.Ee=V(s)?this.Re:s;var o=!1;if(Zt(t,(a,u)=>{this.props.hasOwnProperty(u)&&this.props[u]!==n||(this.props[u]=a,o=!0)}),o)return this.save(),!0}return!1}register(t,n){if(ne(t)){this.Ee=V(n)?this.Re:n;var s=!1;if(Zt(t,(o,a)=>{t.hasOwnProperty(a)&&this.props[a]!==o&&(this.props[a]=o,s=!0)}),s)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.Se){var t=Ap(this.S.custom_campaign_params,this.S.mask_personal_data_properties,this.S.custom_personal_data_properties);Jn(tu(t))||this.register(t),this.Se=!0}}update_search_keyword(){var t;this.register((t=tt==null?void 0:tt.referrer)?Dp(t):{})}update_referrer_info(){var t;this.register_once({$referrer:Np(),$referring_domain:tt!=null&&tt.referrer&&((t=ds(tt.referrer))==null?void 0:t.host)||"$direct"},void 0)}set_initial_person_info(){this.props[gl]||this.props[ml]||this.register_once({[lo]:$p(this.S.mask_personal_data_properties,this.S.custom_personal_data_properties)},void 0)}get_initial_props(){var t={};Zt([ml,gl],u=>{var h=this.props[u];h&&Zt(h,function(d,_){t["$initial_"+rl(_)]=d})});var n,s,o=this.props[lo];if(o){var a=(n=zp(o),s={},Zt(n,function(u,h){s["$initial_"+rl(h)]=u}),s);ue(t,a)}return t}safe_merge(t){return Zt(this.props,function(n,s){s in t||(t[s]=n)}),t}update_config(t,n){if(this.Re=this.Ee=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==n.persistence){var s=this.ke(t),o=this.props;this.clear(),this.q=s,this.props=o,this.save()}}set_disabled(t){this.xe=t,this.xe?this.remove():this.save()}set_cross_subdomain(t){t!==this.Ie&&(this.Ie=t,this.remove(),this.save())}set_secure(t){t!==this.Pe&&(this.Pe=t,this.remove(),this.save())}set_event_timer(t,n){var s=this.props[$s]||{};s[t]=n,this.props[$s]=s,this.save()}remove_event_timer(t){var n=(this.props[$s]||{})[t];return V(n)||(delete this.props[$s][t],this.save()),n}get_property(t){return this.props[t]}set_property(t,n){this.props[t]=n,this.save()}}class Zp{constructor(){this.Te={},this.Te={}}on(t,n){return this.Te[t]||(this.Te[t]=[]),this.Te[t].push(n),()=>{this.Te[t]=this.Te[t].filter(s=>s!==n)}}emit(t,n){for(var s of this.Te[t]||[])s(n);for(var o of this.Te["*"]||[])o(t,n)}}class Tn{constructor(t){this.Me=new Zp,this.Ce=(n,s)=>this.Oe(n,s)&&this.Fe(n,s)&&this.Ae(n,s),this.Oe=(n,s)=>s==null||!s.event||(n==null?void 0:n.event)===(s==null?void 0:s.event),this._instance=t,this.De=new Set,this.je=new Set}init(){var t;if(!V((t=this._instance)==null?void 0:t.Le)){var n;(n=this._instance)==null||n.Le((s,o)=>{this.on(s,o)})}}register(t){var n,s;if(!V((n=this._instance)==null?void 0:n.Le)&&(t.forEach(u=>{var h,d;(h=this.je)==null||h.add(u),(d=u.steps)==null||d.forEach(_=>{var p;(p=this.De)==null||p.add((_==null?void 0:_.event)||"")})}),(s=this._instance)!=null&&s.autocapture)){var o,a=new Set;t.forEach(u=>{var h;(h=u.steps)==null||h.forEach(d=>{d!=null&&d.selector&&a.add(d==null?void 0:d.selector)})}),(o=this._instance)==null||o.autocapture.setElementSelectors(a)}}on(t,n){var s;n!=null&&t.length!=0&&(this.De.has(t)||this.De.has(n==null?void 0:n.event))&&this.je&&((s=this.je)==null?void 0:s.size)>0&&this.je.forEach(o=>{this.Ne(n,o)&&this.Me.emit("actionCaptured",o.name)})}ze(t){this.onAction("actionCaptured",n=>t(n))}Ne(t,n){if((n==null?void 0:n.steps)==null)return!1;for(var s of n.steps)if(this.Ce(t,s))return!0;return!1}onAction(t,n){return this.Me.on(t,n)}Fe(t,n){if(n!=null&&n.url){var s,o=t==null||(s=t.properties)==null?void 0:s.$current_url;if(!o||typeof o!="string"||!Tn.Ue(o,n==null?void 0:n.url,(n==null?void 0:n.url_matching)||"contains"))return!1}return!0}static Ue(t,n,s){switch(s){case"regex":return!!k&&ps(t,n);case"exact":return n===t;case"contains":var o=Tn.qe(n).replace(/_/g,".").replace(/%/g,".*");return ps(t,o);default:return!1}}static qe(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Ae(t,n){if((n!=null&&n.href||n!=null&&n.tag_name||n!=null&&n.text)&&!this.Be(t).some(a=>!(n!=null&&n.href&&!Tn.Ue(a.href||"",n==null?void 0:n.href,(n==null?void 0:n.href_matching)||"exact"))&&(n==null||!n.tag_name||a.tag_name===(n==null?void 0:n.tag_name))&&!(n!=null&&n.text&&!Tn.Ue(a.text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact")&&!Tn.Ue(a.$el_text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact"))))return!1;if(n!=null&&n.selector){var s,o=t==null||(s=t.properties)==null?void 0:s.$element_selectors;if(!o||!o.includes(n==null?void 0:n.selector))return!1}return!0}Be(t){return(t==null?void 0:t.properties.$elements)==null?[]:t==null?void 0:t.properties.$elements}}var he=me("[Surveys]");class $b{constructor(t){this._instance=t,this.He=new Map,this.We=new Map}register(t){var n;V((n=this._instance)==null?void 0:n.Le)||(this.Ge(t),this.Je(t))}Je(t){var n=t.filter(s=>{var o,a,u,h;return((o=s.conditions)==null?void 0:o.actions)&&((a=s.conditions)==null||(u=a.actions)==null||(h=u.values)==null?void 0:h.length)>0});n.length!==0&&(this.Ve==null&&(this.Ve=new Tn(this._instance),this.Ve.init(),this.Ve.ze(s=>{this.onAction(s)})),n.forEach(s=>{var o,a,u,h,d,_,p,g,v,y;s.conditions&&(o=s.conditions)!=null&&o.actions&&(a=s.conditions)!=null&&(u=a.actions)!=null&&u.values&&((h=s.conditions)==null||(d=h.actions)==null||(_=d.values)==null?void 0:_.length)>0&&((p=this.Ve)==null||p.register(s.conditions.actions.values),(g=s.conditions)==null||(v=g.actions)==null||(y=v.values)==null||y.forEach(S=>{if(S&&S.name){var P=this.We.get(S.name);P&&P.push(s.id),this.We.set(S.name,P||[s.id])}}))}))}Ge(t){var n;t.filter(s=>{var o,a,u,h;return((o=s.conditions)==null?void 0:o.events)&&((a=s.conditions)==null||(u=a.events)==null||(h=u.values)==null?void 0:h.length)>0}).length!==0&&((n=this._instance)==null||n.Le((s,o)=>{this.onEvent(s,o)}),t.forEach(s=>{var o,a,u;(o=s.conditions)==null||(a=o.events)==null||(u=a.values)==null||u.forEach(h=>{if(h&&h.name){var d=this.He.get(h.name);d&&d.push(s.id),this.He.set(h.name,d||[s.id])}})}))}onEvent(t,n){var s,o,a=((s=this._instance)==null||(o=s.persistence)==null?void 0:o.props[Dr])||[];if(t==="survey shown"&&n&&a.length>0){var u;he.info("survey event matched, removing survey from activated surveys",{event:t,eventPayload:n,existingActivatedSurveys:a});var h=n==null||(u=n.properties)==null?void 0:u.$survey_id;if(h){var d=a.indexOf(h);d>=0&&(a.splice(d,1),this.Ke(a))}}else this.He.has(t)&&(he.info("survey event matched, updating activated surveys",{event:t,surveys:this.He.get(t)}),this.Ke(a.concat(this.He.get(t)||[])))}onAction(t){var n,s,o=((n=this._instance)==null||(s=n.persistence)==null?void 0:s.props[Dr])||[];this.We.has(t)&&this.Ke(o.concat(this.We.get(t)||[]))}Ke(t){var n,s;(n=this._instance)==null||(s=n.persistence)==null||s.register({[Dr]:[...new Set(t)]})}getSurveys(){var t,n,s=(t=this._instance)==null||(n=t.persistence)==null?void 0:n.props[Dr];return s||[]}getEventToSurveys(){return this.He}Ye(){return this.Ve}}class zb{constructor(t){this.Xe=null,this.Qe=!1,this.Ze=!1,this.tr=[],this._instance=t,this._surveyEventReceiver=null}onRemoteConfig(t){var n=t.surveys;if(Ft(n))return he.warn("Decide not loaded yet. Not loading surveys.");var s=Jt(n);this.ir=s?n.length>0:n,he.info("decide response received, hasSurveys: "+this.ir),this.ir&&this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var t=[],n=0;n<localStorage.length;n++){var s=localStorage.key(n);(s!=null&&s.startsWith("seenSurvey_")||s!=null&&s.startsWith("inProgressSurvey_"))&&t.push(s)}t.forEach(o=>localStorage.removeItem(o))}loadIfEnabled(){if(!this.Xe)if(this.Ze)he.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)he.info("Disabled. Not loading surveys.");else if(this.ir){var t=wt==null?void 0:wt.__PosthogExtensions__;if(t){this.Ze=!0;try{var n=t.generateSurveys;if(n)return void this.er(n);var s=t.loadExternalDependency;if(!s)return void this.rr("PostHog loadExternalDependency extension not found.");s(this._instance,"surveys",o=>{o||!t.generateSurveys?this.rr("Could not load surveys script",o):this.er(t.generateSurveys)})}catch(o){throw this.rr("Error initializing surveys",o),o}finally{this.Ze=!1}}else he.error("PostHog Extensions not found.")}else he.info("No surveys to load.")}er(t){this.Xe=t(this._instance),this._surveyEventReceiver=new $b(this._instance),he.info("Surveys loaded successfully"),this.sr({isLoaded:!0})}rr(t,n){he.error(t,n),this.sr({isLoaded:!1,error:t})}onSurveysLoaded(t){return this.tr.push(t),this.Xe&&this.sr({isLoaded:!0}),()=>{this.tr=this.tr.filter(n=>n!==t)}}getSurveys(t,n){if(n===void 0&&(n=!1),this._instance.config.disable_surveys)return he.info("Disabled. Not loading surveys."),t([]);var s=this._instance.get_property(fl);if(s&&!n)return t(s,{isLoaded:!0});if(this.Qe)return t([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.Qe=!0,this._instance.me({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:o=>{var a;this.Qe=!1;var u=o.statusCode;if(u!==200||!o.json){var h="Surveys API could not be loaded, status: "+u;return he.error(h),t([],{isLoaded:!1,error:h})}var d,_=o.json.surveys||[],p=_.filter(g=>function(v){return!(!v.start_date||v.end_date)}(g)&&(function(v){var y,S,P;return!((y=v.conditions)==null||(S=y.events)==null||(P=S.values)==null||!P.length)}(g)||function(v){var y,S,P;return!((y=v.conditions)==null||(S=y.actions)==null||(P=S.values)==null||!P.length)}(g)));return p.length>0&&((d=this._surveyEventReceiver)==null||d.register(p)),(a=this._instance.persistence)==null||a.register({[fl]:_}),t(_,{isLoaded:!0})}})}catch(o){throw this.Qe=!1,o}}sr(t){for(var n of this.tr)try{t.isLoaded?this.getSurveys(n):n([],t)}catch(s){he.error("Error in survey callback",s)}}getActiveMatchingSurveys(t,n){if(n===void 0&&(n=!1),!Ft(this.Xe))return this.Xe.getActiveMatchingSurveys(t,n);he.warn("init was not called")}nr(t){var n=null;return this.getSurveys(s=>{var o;n=(o=s.find(a=>a.id===t))!==null&&o!==void 0?o:null}),n}ar(t){if(Ft(this.Xe))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var n=typeof t=="string"?this.nr(t):t;return n?this.Xe.checkSurveyEligibility(n):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(t){if(Ft(this.Xe))return he.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var n=this.ar(t);return{visible:n.eligible,disabledReason:n.reason}}canRenderSurveyAsync(t,n){return Ft(this.Xe)?(he.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(s=>{this.getSurveys(o=>{var a,u=(a=o.find(d=>d.id===t))!==null&&a!==void 0?a:null;if(u){var h=this.ar(u);s({visible:h.eligible,disabledReason:h.reason})}else s({visible:!1,disabledReason:"Survey not found"})},n)})}renderSurvey(t,n){if(Ft(this.Xe))he.warn("init was not called");else{var s=this.nr(t),o=tt==null?void 0:tt.querySelector(n);s?o?this.Xe.renderSurvey(s,o):he.warn("Survey element not found"):he.warn("Survey not found")}}}var ed=me("[RateLimiter]");class Bb{constructor(t){var n,s;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=o=>{var a=o.text;if(a&&a.length)try{(JSON.parse(a).quota_limited||[]).forEach(u=>{ed.info((u||"events")+" is quota limited."),this.serverLimits[u]=new Date().getTime()+6e4})}catch(u){return void ed.warn('could not rate limit - continuing. Error: "'+(u==null?void 0:u.message)+'"',{text:a})}},this.instance=t,this.captureEventsPerSecond=((n=t.config.rate_limiting)==null?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((s=t.config.rate_limiting)==null?void 0:s.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(t){var n,s,o;t===void 0&&(t=!1);var a=new Date().getTime(),u=(n=(s=this.instance.persistence)==null?void 0:s.get_property(_l))!==null&&n!==void 0?n:{tokens:this.captureEventsBurstLimit,last:a};u.tokens+=(a-u.last)/1e3*this.captureEventsPerSecond,u.last=a,u.tokens>this.captureEventsBurstLimit&&(u.tokens=this.captureEventsBurstLimit);var h=u.tokens<1;return h||t||(u.tokens=Math.max(0,u.tokens-1)),!h||this.lastEventRateLimited||t||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=h,(o=this.instance.persistence)==null||o.set_property(_l,u),{isRateLimited:h,remainingTokens:u.tokens}}isServerRateLimited(t){var n=this.serverLimits[t||"events"]||!1;return n!==!1&&new Date().getTime()<n}}var Pn=me("[RemoteConfig]");class Zb{constructor(t){this._instance=t}get remoteConfig(){var t,n;return(t=wt._POSTHOG_REMOTE_CONFIG)==null||(n=t[this._instance.config.token])==null?void 0:n.config}lr(t){var n,s;(n=wt.__PosthogExtensions__)!=null&&n.loadExternalDependency?(s=wt.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this._instance,"remote-config",()=>t(this.remoteConfig)):(Pn.error("PostHog Extensions not found. Cannot load remote config."),t())}ur(t){this._instance.me({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:n=>{t(n.json)}})}load(){try{if(this.remoteConfig)return Pn.info("Using preloaded remote config",this.remoteConfig),void this.be(this.remoteConfig);if(this._instance.config.advanced_disable_decide)return void Pn.warn("Remote config is disabled. Falling back to local config.");this.lr(t=>{if(!t)return Pn.info("No config found after loading remote JS config. Falling back to JSON."),void this.ur(n=>{this.be(n)});this.be(t)})}catch(t){Pn.error("Error loading remote config",t)}}be(t){t?this._instance.config.__preview_remote_config?(this._instance.be(t),t.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):Pn.info("__preview_remote_config is disabled. Logging config instead",t):Pn.error("Failed to fetch remote config from PostHog.")}}var Il=3e3;class Hb{constructor(t,n){this.hr=!0,this.dr=[],this.vr=Je((n==null?void 0:n.flush_interval_ms)||Il,250,5e3,"flush interval",Il),this.cr=t}enqueue(t){this.dr.push(t),this.pr||this.gr()}unload(){this._r();var t=this.dr.length>0?this.mr():{},n=Object.values(t);[...n.filter(s=>s.url.indexOf("/e")===0),...n.filter(s=>s.url.indexOf("/e")!==0)].map(s=>{this.cr(X({},s,{transport:"sendBeacon"}))})}enable(){this.hr=!1,this.gr()}gr(){var t=this;this.hr||(this.pr=setTimeout(()=>{if(this._r(),this.dr.length>0){var n=this.mr(),s=function(a){var u=n[a],h=new Date().getTime();u.data&&Jt(u.data)&&Zt(u.data,d=>{d.offset=Math.abs(d.timestamp-h),delete d.timestamp}),t.cr(u)};for(var o in n)s(o)}},this.vr))}_r(){clearTimeout(this.pr),this.pr=void 0}mr(){var t={};return Zt(this.dr,n=>{var s,o=n,a=(o?o.batchKey:null)||o.url;V(t[a])&&(t[a]=X({},o,{data:[]})),(s=t[a].data)==null||s.push(o.data)}),this.dr=[],t}}var jb=["retriesPerformedSoFar"];class Wb{constructor(t){this.br=!1,this.wr=3e3,this.dr=[],this._instance=t,this.dr=[],this.yr=!0,!V(k)&&"onLine"in k.navigator&&(this.yr=k.navigator.onLine,ie(k,"online",()=>{this.yr=!0,this.Yi()}),ie(k,"offline",()=>{this.yr=!1}))}get length(){return this.dr.length}retriableRequest(t){var{retriesPerformedSoFar:n}=t,s=zf(t,jb);Pe(n)&&n>0&&(s.url=vo(s.url,{retry_count:n})),this._instance.me(X({},s,{callback:o=>{o.statusCode!==200&&(o.statusCode<400||o.statusCode>=500)&&(n??0)<10?this.Sr(X({retriesPerformedSoFar:n},s)):s.callback==null||s.callback(o)}}))}Sr(t){var n=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=n+1;var s=function(u){var h=3e3*Math.pow(2,u),d=h/2,_=Math.min(18e5,h),p=(Math.random()-.5)*(_-d);return Math.ceil(_+p)}(n),o=Date.now()+s;this.dr.push({retryAt:o,requestOptions:t});var a="Enqueued failed request for retry in "+s;navigator.onLine||(a+=" (Browser is offline)"),it.warn(a),this.br||(this.br=!0,this.$r())}$r(){this.kr&&clearTimeout(this.kr),this.kr=setTimeout(()=>{this.yr&&this.dr.length>0&&this.Yi(),this.$r()},this.wr)}Yi(){var t=Date.now(),n=[],s=this.dr.filter(a=>a.retryAt<t||(n.push(a),!1));if(this.dr=n,s.length>0)for(var{requestOptions:o}of s)this.retriableRequest(o)}unload(){for(var{requestOptions:t}of(this.kr&&(clearTimeout(this.kr),this.kr=void 0),this.dr))try{this._instance.me(X({},t,{transport:"sendBeacon"}))}catch(n){it.error(n)}this.dr=[]}}class qb{constructor(t){this.Er=()=>{var n,s,o,a;this.Ir||(this.Ir={});var u=this.scrollElement(),h=this.scrollY(),d=u?Math.max(0,u.scrollHeight-u.clientHeight):0,_=h+((u==null?void 0:u.clientHeight)||0),p=(u==null?void 0:u.scrollHeight)||0;this.Ir.lastScrollY=Math.ceil(h),this.Ir.maxScrollY=Math.max(h,(n=this.Ir.maxScrollY)!==null&&n!==void 0?n:0),this.Ir.maxScrollHeight=Math.max(d,(s=this.Ir.maxScrollHeight)!==null&&s!==void 0?s:0),this.Ir.lastContentY=_,this.Ir.maxContentY=Math.max(_,(o=this.Ir.maxContentY)!==null&&o!==void 0?o:0),this.Ir.maxContentHeight=Math.max(p,(a=this.Ir.maxContentHeight)!==null&&a!==void 0?a:0)},this._instance=t}getContext(){return this.Ir}resetContext(){var t=this.Ir;return setTimeout(this.Er,0),t}startMeasuringScrollPosition(){ie(k,"scroll",this.Er,{capture:!0}),ie(k,"scrollend",this.Er,{capture:!0}),ie(k,"resize",this.Er)}scrollElement(){if(!this._instance.config.scroll_root_selector)return k==null?void 0:k.document.documentElement;var t=Jt(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var n of t){var s=k==null?void 0:k.document.querySelector(n);if(s)return s}}scrollY(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return k&&(k.scrollY||k.pageYOffset||k.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return k&&(k.scrollX||k.pageXOffset||k.document.documentElement.scrollLeft)||0}}var Ub=e=>$p(e==null?void 0:e.config.mask_personal_data_properties,e==null?void 0:e.config.custom_personal_data_properties);class Vb{constructor(t,n,s,o){this.Pr=a=>{var u=this.Rr();if(!u||u.sessionId!==a){var h={sessionId:a,props:this.Tr(this._instance)};this.Mr.register({[pl]:h})}},this._instance=t,this.Cr=n,this.Mr=s,this.Tr=o||Ub,this.Cr.onSessionId(this.Pr)}Rr(){return this.Mr.props[pl]}getSetOnceProps(){var t,n=(t=this.Rr())==null?void 0:t.props;return n?"r"in n?zp(n):{$referring_domain:n.referringDomain,$pathname:n.initialPathName,utm_source:n.utm_source,utm_campaign:n.utm_campaign,utm_medium:n.utm_medium,utm_content:n.utm_content,utm_term:n.utm_term}:{}}getSessionProps(){var t={};return Zt(tu(this.getSetOnceProps()),(n,s)=>{s==="$current_url"&&(s="url"),t["$session_entry_"+rl(s)]=n}),t}}var id=me("[SessionId]");class Gb{constructor(t,n,s){var o;if(this.Or=[],!t.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(t.config.__preview_experimental_cookieless_mode)throw new Error("SessionIdManager cannot be used with __preview_experimental_cookieless_mode");this.S=t.config,this.Mr=t.persistence,this.oi=void 0,this.kt=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Fr=n||nn,this.Ar=s||nn;var a=this.S.persistence_name||this.S.token,u=this.S.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Je(u,60,36e3,"session_idle_timeout_seconds",1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Dr(),this.jr="ph_"+a+"_window_id",this.Lr="ph_"+a+"_primary_window_exists",this.Nr()){var h=ge.D(this.jr),d=ge.D(this.Lr);h&&!d?this.oi=h:ge.L(this.jr),ge.j(this.Lr,!0)}if((o=this.S.bootstrap)!=null&&o.sessionID)try{var _=(p=>{var g=p.replace(/-/g,"");if(g.length!==32)throw new Error("Not a valid UUID");if(g[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(g.substring(0,12),16)})(this.S.bootstrap.sessionID);this.zr(this.S.bootstrap.sessionID,new Date().getTime(),_)}catch(p){id.error("Invalid sessionID in bootstrap",p)}this.Ur()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return V(this.Or)&&(this.Or=[]),this.Or.push(t),this.kt&&t(this.kt,this.oi),()=>{this.Or=this.Or.filter(n=>n!==t)}}Nr(){return this.S.persistence!=="memory"&&!this.Mr.xe&&ge.O()}qr(t){t!==this.oi&&(this.oi=t,this.Nr()&&ge.j(this.jr,t))}Br(){return this.oi?this.oi:this.Nr()?ge.D(this.jr):null}zr(t,n,s){t===this.kt&&n===this._sessionActivityTimestamp&&s===this._sessionStartTimestamp||(this._sessionStartTimestamp=s,this._sessionActivityTimestamp=n,this.kt=t,this.Mr.register({[oo]:[n,t,s]}))}Hr(){if(this.kt&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.kt,this._sessionStartTimestamp];var t=this.Mr.props[oo];return Jt(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this.zr(null,null,null)}Ur(){ie(k,"beforeunload",()=>{this.Nr()&&ge.L(this.Lr)},{capture:!1})}checkAndGetSessionAndWindowId(t,n){if(t===void 0&&(t=!1),n===void 0&&(n=null),this.S.__preview_experimental_cookieless_mode)throw new Error("checkAndGetSessionAndWindowId should not be called in __preview_experimental_cookieless_mode");var s=n||new Date().getTime(),[o,a,u]=this.Hr(),h=this.Br(),d=Pe(u)&&u>0&&Math.abs(s-u)>864e5,_=!1,p=!a,g=!t&&Math.abs(s-o)>this.sessionTimeoutMs;p||g||d?(a=this.Fr(),h=this.Ar(),id.info("new session ID generated",{sessionId:a,windowId:h,changeReason:{noSessionId:p,activityTimeout:g,sessionPastMaximumLength:d}}),u=s,_=!0):h||(h=this.Ar(),_=!0);var v=o===0||!t||d?s:o,y=u===0?new Date().getTime():u;return this.qr(h),this.zr(a,v,y),t||this.Dr(),_&&this.Or.forEach(S=>S(a,h,_?{noSessionId:p,activityTimeout:g,sessionPastMaximumLength:d}:void 0)),{sessionId:a,windowId:h,sessionStartTimestamp:y,changeReason:_?{noSessionId:p,activityTimeout:g,sessionPastMaximumLength:d}:void 0,lastActivityTimestamp:o}}Dr(){clearTimeout(this.Wr),this.Wr=setTimeout(()=>{this.resetSessionId()},1.1*this.sessionTimeoutMs)}}var Kb=["$set_once","$set"],Yi=me("[SiteApps]");class Yb{constructor(t){this._instance=t,this.Gr=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}Jr(t,n){if(n){var s=this.globalsForEvent(n);this.Gr.push(s),this.Gr.length>1e3&&(this.Gr=this.Gr.slice(10))}}get siteAppLoaders(){var t,n;return(t=wt._POSTHOG_REMOTE_CONFIG)==null||(n=t[this._instance.config.token])==null?void 0:n.siteApps}init(){if(this.isEnabled){var t=this._instance.Le(this.Jr.bind(this));this.Vr=()=>{t(),this.Gr=[],this.Vr=void 0}}}globalsForEvent(t){var n,s,o,a,u,h,d;if(!t)throw new Error("Event payload is required");var _={},p=this._instance.get_property("$groups")||[],g=this._instance.get_property("$stored_group_properties")||{};for(var[v,y]of Object.entries(g))_[v]={id:p[v],type:v,properties:y};var{$set_once:S,$set:P}=t;return{event:X({},zf(t,Kb),{properties:X({},t.properties,P?{$set:X({},(n=(s=t.properties)==null?void 0:s.$set)!==null&&n!==void 0?n:{},P)}:{},S?{$set_once:X({},(o=(a=t.properties)==null?void 0:a.$set_once)!==null&&o!==void 0?o:{},S)}:{}),elements_chain:(u=(h=t.properties)==null?void 0:h.$elements_chain)!==null&&u!==void 0?u:"",distinct_id:(d=t.properties)==null?void 0:d.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:_}}setupSiteApp(t){var n=this.apps[t.id],s=()=>{var h;!n.errored&&this.Gr.length&&(Yi.info("Processing "+this.Gr.length+" events for site app with id "+t.id),this.Gr.forEach(d=>n.processEvent==null?void 0:n.processEvent(d)),n.processedBuffer=!0),Object.values(this.apps).every(d=>d.processedBuffer||d.errored)&&((h=this.Vr)==null||h.call(this))},o=!1,a=h=>{n.errored=!h,n.loaded=!0,Yi.info("Site app with id "+t.id+" "+(h?"loaded":"errored")),o&&s()};try{var{processEvent:u}=t.init({posthog:this._instance,callback:h=>{a(h)}});u&&(n.processEvent=u),o=!0}catch(h){Yi.error("Error while initializing PostHog app with config id "+t.id,h),a(!1)}if(o&&n.loaded)try{s()}catch(h){Yi.error("Error while processing buffered events PostHog app with config id "+t.id,h),n.errored=!0}}Kr(){var t=this.siteAppLoaders||[];for(var n of t)this.apps[n.id]={id:n.id,loaded:!1,errored:!1,processedBuffer:!1};for(var s of t)this.setupSiteApp(s)}Yr(t){if(Object.keys(this.apps).length!==0){var n=this.globalsForEvent(t);for(var s of Object.values(this.apps))try{s.processEvent==null||s.processEvent(n)}catch(o){Yi.error("Error while processing event "+t.event+" for site app "+s.id,o)}}}onRemoteConfig(t){var n,s,o,a=this;if((n=this.siteAppLoaders)!=null&&n.length)return this.isEnabled?(this.Kr(),void this._instance.on("eventCaptured",_=>this.Yr(_))):void Yi.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((s=this.Vr)==null||s.call(this),(o=t.siteApps)!=null&&o.length)if(this.isEnabled){var u=function(_,p){var g;wt["__$$ph_site_app_"+_]=a._instance,(g=wt.__PosthogExtensions__)==null||g.loadSiteApp==null||g.loadSiteApp(a._instance,p,v=>{if(v)return Yi.error("Error while initializing PostHog app with config id "+_,v)})};for(var{id:h,url:d}of t.siteApps)u(h,d)}else Yi.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var kn,Xb=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","bytespider"],nd=function(e,t){if(!e)return!1;var n=e.toLowerCase();return Xb.concat(t||[]).some(s=>{var o=s.toLowerCase();return n.indexOf(o)!==-1})},Hp=function(e,t){if(!e)return!1;var n=e.userAgent;if(n&&nd(n,t))return!0;try{var s=e==null?void 0:e.userAgentData;if(s!=null&&s.brands&&s.brands.some(o=>nd(o==null?void 0:o.brand,t)))return!0}catch{}return!!e.webdriver};(function(e){e.US="us",e.EU="eu",e.CUSTOM="custom"})(kn||(kn={}));var sd="i.posthog.com";class Jb{constructor(t){this.Xr={},this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\/$/,"");return t==="https://app.posthog.com"?"https://us.i.posthog.com":t}get uiHost(){var t,n=(t=this.instance.config.ui_host)==null?void 0:t.replace(/\/$/,"");return n||(n=this.apiHost.replace("."+sd,".posthog.com")),n==="https://app.posthog.com"?"https://us.posthog.com":n}get region(){return this.Xr[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Xr[this.apiHost]=kn.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Xr[this.apiHost]=kn.EU:this.Xr[this.apiHost]=kn.CUSTOM),this.Xr[this.apiHost]}endpointFor(t,n){if(n===void 0&&(n=""),n&&(n=n[0]==="/"?n:"/"+n),t==="ui")return this.uiHost+n;if(this.region===kn.CUSTOM)return this.apiHost+n;var s=sd+n;switch(t){case"assets":return"https://"+this.region+"-assets."+s;case"api":return"https://"+this.region+"."+s}}}var Qb={icontains:(e,t)=>!!k&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!k&&t.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:(e,t)=>!!k&&ps(t.href,e),not_regex:(e,t)=>!!k&&!ps(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class be{constructor(t){var n=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(s){s===void 0&&(s=!1),n.getWebExperiments(o=>{be.Qr("retrieved web experiments from the server"),n.Zr=new Map,o.forEach(a=>{if(a.feature_flag_key){var u;n.Zr&&(be.Qr("setting flag key ",a.feature_flag_key," to web experiment ",a),(u=n.Zr)==null||u.set(a.feature_flag_key,a));var h=n._instance.getFeatureFlag(a.feature_flag_key);se(h)&&a.variants[h]&&n.ts(a.name,h,a.variants[h].transforms)}else if(a.variants)for(var d in a.variants){var _=a.variants[d];be.es(_)&&n.ts(a.name,d,_.transforms)}})},s)},this._instance=t,this._instance.onFeatureFlags(s=>{this.onFeatureFlags(s)})}onFeatureFlags(t){if(this._is_bot())be.Qr("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(Ft(this.Zr))return this.Zr=new Map,this.loadIfEnabled(),void this.previewWebExperiment();be.Qr("applying feature flags",t),t.forEach(n=>{var s;if(this.Zr&&(s=this.Zr)!=null&&s.has(n)){var o,a=this._instance.getFeatureFlag(n),u=(o=this.Zr)==null?void 0:o.get(n);a&&u!=null&&u.variants[a]&&this.ts(u.name,a,u.variants[a].transforms)}})}}previewWebExperiment(){var t=be.getWindowLocation();if(t!=null&&t.search){var n=ho(t==null?void 0:t.search,"__experiment_id"),s=ho(t==null?void 0:t.search,"__experiment_variant");n&&s&&(be.Qr("previewing web experiments "+n+" && "+s),this.getWebExperiments(o=>{this.rs(parseInt(n),s,o)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,n,s){if(this._instance.config.disable_web_experiments&&!s)return t([]);var o=this._instance.get_property("$web_experiments");if(o&&!n)return t(o);this._instance.me({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:a=>{if(a.statusCode!==200||!a.json)return t([]);var u=a.json.experiments||[];return t(u)}})}rs(t,n,s){var o=s.filter(a=>a.id===t);o&&o.length>0&&(be.Qr("Previewing web experiment ["+o[0].name+"] with variant ["+n+"]"),this.ts(o[0].name,n,o[0].variants[n].transforms))}static es(t){return!Ft(t.conditions)&&be.ss(t)&&be.ns(t)}static ss(t){var n;if(Ft(t.conditions)||Ft((n=t.conditions)==null?void 0:n.url))return!0;var s,o,a,u=be.getWindowLocation();return!!u&&((s=t.conditions)==null||!s.url||Qb[(o=(a=t.conditions)==null?void 0:a.urlMatchType)!==null&&o!==void 0?o:"icontains"](t.conditions.url,u))}static getWindowLocation(){return k==null?void 0:k.location}static ns(t){var n;if(Ft(t.conditions)||Ft((n=t.conditions)==null?void 0:n.utm))return!0;var s=Ap();if(s.utm_source){var o,a,u,h,d,_,p,g,v,y,S,P,z,A,M,D,$=(o=t.conditions)==null||(a=o.utm)==null||!a.utm_campaign||((u=t.conditions)==null||(h=u.utm)==null?void 0:h.utm_campaign)==s.utm_campaign,Q=(d=t.conditions)==null||(_=d.utm)==null||!_.utm_source||((p=t.conditions)==null||(g=p.utm)==null?void 0:g.utm_source)==s.utm_source,ct=(v=t.conditions)==null||(y=v.utm)==null||!y.utm_medium||((S=t.conditions)==null||(P=S.utm)==null?void 0:P.utm_medium)==s.utm_medium,lt=(z=t.conditions)==null||(A=z.utm)==null||!A.utm_term||((M=t.conditions)==null||(D=M.utm)==null?void 0:D.utm_term)==s.utm_term;return $&&ct&&lt&&Q}return!1}static Qr(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];it.info("[WebExperiments] "+t,s)}ts(t,n,s){this._is_bot()?be.Qr("Refusing to render web experiment since the viewer is a likely bot"):n!=="control"?s.forEach(o=>{if(o.selector){var a;be.Qr("applying transform of variant "+n+" for experiment "+t+" ",o);var u=(a=document)==null?void 0:a.querySelectorAll(o.selector);u==null||u.forEach(h=>{var d=h;o.html&&(d.innerHTML=o.html),o.css&&d.setAttribute("style",o.css)})}}):be.Qr("Control variants leave the page unmodified.")}_is_bot(){return Ue&&this._instance?Hp(Ue,this._instance.config.custom_blocked_useragents):void 0}}var tr={},Ol=()=>{},Xn="posthog",jp=!vb&&(De==null?void 0:De.indexOf("MSIE"))===-1&&(De==null?void 0:De.indexOf("Mozilla"))===-1,rd=()=>{var e;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:Ky(tt==null?void 0:tt.location),persistence:"localStorage+cookie",persistence_name:"",loaded:Ol,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:"if_capture_pageview",debug:Ne&&se(Ne==null?void 0:Ne.search)&&Ne.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(k==null||(e=k.location)==null?void 0:e.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:t=>{var n="Bad HTTP status: "+t.statusCode+" "+t.text;it.error(n)},get_device_id:t=>t,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:Il},_onCapture:Ol}},od=e=>{var t={};V(e.process_person)||(t.person_profiles=e.process_person),V(e.xhr_headers)||(t.request_headers=e.xhr_headers),V(e.cookie_name)||(t.persistence_name=e.cookie_name),V(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),V(e.store_google)||(t.save_campaign_params=e.store_google),V(e.verbose)||(t.debug=e.verbose);var n=ue({},t,e);return Jt(e.property_blacklist)&&(V(e.property_denylist)?n.property_denylist=e.property_blacklist:Jt(e.property_denylist)?n.property_denylist=[...e.property_blacklist,...e.property_denylist]:it.error("Invalid value for property_denylist config: "+e.property_denylist)),n};class tw{constructor(){this.__forceAllowLocalhost=!1}get os(){return this.__forceAllowLocalhost}set os(t){it.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}class zo{get decideEndpointWasHit(){var t,n;return(t=(n=this.featureFlags)==null?void 0:n.hasLoadedFlags)!==null&&t!==void 0&&t}constructor(){this.webPerformance=new tw,this.ls=!1,this.version=Di.LIB_VERSION,this.us=new Zp,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=rd(),this.SentryIntegration=lb,this.sentryIntegration=t=>function(n,s){var o=mp(n,s);return{name:gp,processEvent:a=>o(a)}}(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.hs=!1,this.ds=null,this.vs=null,this.cs=null,this.featureFlags=new Db(this),this.toolbar=new cb(this),this.scrollManager=new qb(this),this.pageViewManager=new gb(this),this.surveys=new zb(this),this.experiments=new be(this),this.exceptions=new wb(this),this.rateLimiter=new Bb(this),this.requestRouter=new Jb(this),this.consent=new v0(this),this.people={set:(t,n,s)=>{var o=se(t)?{[t]:n}:t;this.setPersonProperties(o),s==null||s({})},set_once:(t,n,s)=>{var o=se(t)?{[t]:n}:t;this.setPersonProperties(void 0,o),s==null||s({})}},this.on("eventCaptured",t=>it.info('send "'+(t==null?void 0:t.event)+'"',t))}init(t,n,s){if(s&&s!==Xn){var o,a=(o=tr[s])!==null&&o!==void 0?o:new zo;return a._init(t,n,s),tr[s]=a,tr[Xn][s]=a,a}return this._init(t,n,s)}_init(t,n,s){var o,a;if(n===void 0&&(n={}),V(t)||ol(t))return it.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return it.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this.fs=[],n.person_profiles&&(this.vs=n.person_profiles),this.set_config(ue({},rd(),od(n),{name:s,token:t})),this.config.on_xhr_error&&it.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=n.disable_compression?void 0:ai.GZipJS,this.persistence=new Ba(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Ba(X({},this.config,{persistence:"sessionStorage"}));var u=X({},this.persistence.props),h=X({},this.sessionPersistence.props);if(this.ps=new Hb(A=>this.gs(A),this.config.request_queue_config),this._s=new Wb(this),this.__request_queue=[],this.config.__preview_experimental_cookieless_mode||(this.sessionManager=new Gb(this),this.sessionPropsManager=new Vb(this,this.sessionManager,this.persistence)),new db(this).startIfEnabledOrStop(),this.siteApps=new Yb(this),(o=this.siteApps)==null||o.init(),this.config.__preview_experimental_cookieless_mode||(this.sessionRecording=new ob(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new u0(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new _b(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new fb(this),this.exceptionObserver=new w0(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new ip(this,b0),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new F0(this),this.historyAutocapture.startIfEnabled(),Di.DEBUG=Di.DEBUG||this.config.debug,Di.DEBUG&&it.info("Starting in debug mode",{this:this,config:n,thisC:X({},this.config),p:u,s:h}),this.bs(),((a=n.bootstrap)==null?void 0:a.distinctID)!==void 0){var d,_,p=this.config.get_device_id(nn()),g=(d=n.bootstrap)!=null&&d.isIdentifiedID?p:n.bootstrap.distinctID;this.persistence.set_property(Ri,(_=n.bootstrap)!=null&&_.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:n.bootstrap.distinctID,$device_id:g})}if(this.ws()){var v,y,S=Object.keys(((v=n.bootstrap)==null?void 0:v.featureFlags)||{}).filter(A=>{var M,D;return!((M=n.bootstrap)==null||(D=M.featureFlags)==null||!D[A])}).reduce((A,M)=>{var D,$;return A[M]=((D=n.bootstrap)==null||($=D.featureFlags)==null?void 0:$[M])||!1,A},{}),P=Object.keys(((y=n.bootstrap)==null?void 0:y.featureFlagPayloads)||{}).filter(A=>S[A]).reduce((A,M)=>{var D,$,Q,ct;return(D=n.bootstrap)!=null&&($=D.featureFlagPayloads)!=null&&$[M]&&(A[M]=(Q=n.bootstrap)==null||(ct=Q.featureFlagPayloads)==null?void 0:ct[M]),A},{});this.featureFlags.receivedFeatureFlags({featureFlags:S,featureFlagPayloads:P})}if(this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:wh,$device_id:null},"");else if(!this.get_distinct_id()){var z=this.config.get_device_id(nn());this.register_once({distinct_id:z,$device_id:z},""),this.persistence.set_property(Ri,"anonymous")}return ie(k,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),n.segment?ab(this,()=>this.ys()):this.ys(),ti(this.config._onCapture)&&this.config._onCapture!==Ol&&(it.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",A=>this.config._onCapture(A.event,A))),this}be(t){var n,s,o,a,u,h,d,_;if(!tt||!tt.body)return it.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.be(t)},500);this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=Tt(t.supportedCompression,ai.GZipJS)?ai.GZipJS:Tt(t.supportedCompression,ai.Base64)?ai.Base64:void 0),(n=t.analytics)!=null&&n.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this.vs?this.vs:"identified_only"}),(s=this.siteApps)==null||s.onRemoteConfig(t),(o=this.sessionRecording)==null||o.onRemoteConfig(t),(a=this.autocapture)==null||a.onRemoteConfig(t),(u=this.heatmaps)==null||u.onRemoteConfig(t),this.surveys.onRemoteConfig(t),(h=this.webVitalsAutocapture)==null||h.onRemoteConfig(t),(d=this.exceptionObserver)==null||d.onRemoteConfig(t),this.exceptions.onRemoteConfig(t),(_=this.deadClicksAutocapture)==null||_.onRemoteConfig(t)}ys(){try{this.config.loaded(this)}catch(t){it.critical("`loaded` function failed",t)}this.Ss(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this.$s()},1),new Zb(this).load(),this.featureFlags.decide()}Ss(){var t;this.has_opted_out_capturing()||this.config.request_batching&&((t=this.ps)==null||t.enable())}_dom_loaded(){this.has_opted_out_capturing()||rn(this.__request_queue,t=>this.gs(t)),this.__request_queue=[],this.Ss()}_handle_unload(){var t,n;this.config.request_batching?(this.ks()&&this.capture("$pageleave"),(t=this.ps)==null||t.unload(),(n=this._s)==null||n.unload()):this.ks()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}me(t){this.__loaded&&(jp?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=vo(t.url,{ip:this.config.ip?1:0}),t.headers=X({},this.config.request_headers),t.compression=t.compression==="best-available"?this.compression:t.compression,t.fetchOptions=t.fetchOptions||this.config.fetch_options,(n=>{var s,o,a,u=X({},n);u.timeout=u.timeout||6e4,u.url=vo(u.url,{_:new Date().getTime().toString(),ver:Di.LIB_VERSION,compression:u.compression});var h=(s=u.transport)!==null&&s!==void 0?s:"fetch",d=(o=(a=Bf(Qs,_=>_.transport===h))==null?void 0:a.method)!==null&&o!==void 0?o:Qs[0].method;if(!d)throw new Error("No available transport method");d(u)})(X({},t,{callback:n=>{var s,o;this.rateLimiter.checkForLimiting(n),n.statusCode>=400&&((s=(o=this.config).on_request_error)==null||s.call(o,n)),t.callback==null||t.callback(n)}}))))}gs(t){this._s?this._s.retriableRequest(t):this.me(t)}_execute_array(t){var n,s=[],o=[],a=[];rn(t,h=>{h&&(n=h[0],Jt(n)?a.push(h):ti(h)?h.call(this):Jt(h)&&n==="alias"?s.push(h):Jt(h)&&n.indexOf("capture")!==-1&&ti(this[n])?a.push(h):o.push(h))});var u=function(h,d){rn(h,function(_){if(Jt(_[0])){var p=d;Zt(_,function(g){p=p[g[0]].apply(p,g.slice(1))})}else this[_[0]].apply(this,_.slice(1))},d)};u(s,this),u(o,this),u(a,this)}ws(){var t,n;return((t=this.config.bootstrap)==null?void 0:t.featureFlags)&&Object.keys((n=this.config.bootstrap)==null?void 0:n.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,n,s){var o;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.ps){if(!this.consent.isOptedOut())if(!V(t)&&se(t)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var a=s!=null&&s.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(a==null||!a.isRateLimited){n!=null&&n.$current_url&&!se(n==null?void 0:n.$current_url)&&(it.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),n==null||delete n.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var u=new Date,h=(s==null?void 0:s.timestamp)||u,d=nn(),_={uuid:d,event:t,properties:this.calculateEventProperties(t,n||{},h,d)};a&&(_.properties.$lib_rate_limit_remaining_tokens=a.remainingTokens),s!=null&&s.$set&&(_.$set=s==null?void 0:s.$set);var p=this.xs(s==null?void 0:s.$set_once);p&&(_.$set_once=p),(_=Vy(_,s!=null&&s._noTruncate?null:this.config.properties_string_max_length)).timestamp=h,V(s==null?void 0:s.timestamp)||(_.properties.$event_time_override_provided=!0,_.properties.$event_time_override_system_time=u);var g=X({},_.properties.$set,_.$set);if(Jn(g)||this.setPersonPropertiesForFlags(g),!Ft(this.config.before_send)){var v=this.Es(_);if(!v)return;_=v}this.us.emit("eventCaptured",_);var y={method:"POST",url:(o=s==null?void 0:s._url)!==null&&o!==void 0?o:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:_,compression:"best-available",batchKey:s==null?void 0:s._batchKey};return!this.config.request_batching||s&&(s==null||!s._batchKey)||s!=null&&s.send_instantly?this.gs(y):this.ps.enqueue(y),_}it.critical("This capture call is ignored due to client rate limiting.")}}else it.error("No event name provided to posthog.capture")}else it.uninitializedWarning("posthog.capture")}Le(t){return this.on("eventCaptured",n=>t(n.event,n))}calculateEventProperties(t,n,s,o,a){if(s=s||new Date,!this.persistence||!this.sessionPersistence)return n;var u=a?void 0:this.persistence.remove_event_timer(t),h=X({},n);if(h.token=this.config.token,this.config.__preview_experimental_cookieless_mode&&(h.$cookieless_mode=!0),t==="$snapshot"){var d=X({},this.persistence.properties(),this.sessionPersistence.properties());return h.distinct_id=d.distinct_id,(!se(h.distinct_id)&&!Pe(h.distinct_id)||ol(h.distinct_id))&&it.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),h}var _,p=Ab(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:g,windowId:v}=this.sessionManager.checkAndGetSessionAndWindowId(a,s.getTime());h.$session_id=g,h.$window_id=v}this.sessionPropsManager&&ue(h,this.sessionPropsManager.getSessionProps());try{var y;this.sessionRecording&&ue(h,this.sessionRecording.sdkDebugProperties),h.$sdk_debug_retry_queue_size=(y=this._s)==null?void 0:y.length}catch(A){h.$sdk_debug_error_capturing_properties=String(A)}if(this.requestRouter.region===kn.CUSTOM&&(h.$lib_custom_api_host=this.config.api_host),_=t!=="$pageview"||a?t!=="$pageleave"||a?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(s):this.pageViewManager.doPageView(s,o),h=ue(h,_),t==="$pageview"&&tt&&(h.title=tt.title),!V(u)){var S=s.getTime()-u;h.$duration=parseFloat((S/1e3).toFixed(3))}De&&this.config.opt_out_useragent_filter&&(h.$browser_type=this._is_bot()?"bot":"browser"),(h=ue({},p,this.persistence.properties(),this.sessionPersistence.properties(),h)).$is_identified=this._isIdentified(),Jt(this.config.property_denylist)?Zt(this.config.property_denylist,function(A){delete h[A]}):it.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var P=this.config.sanitize_properties;P&&(it.error("sanitize_properties is deprecated. Use before_send instead"),h=P(h,t));var z=this.Is();return h.$process_person_profile=z,z&&!a&&this.Ps("_calculate_event_properties"),h}xs(t){var n;if(!this.persistence||!this.Is()||this.ls)return t;var s=this.persistence.get_initial_props(),o=(n=this.sessionPropsManager)==null?void 0:n.getSetOnceProps(),a=ue({},s,o||{},t||{}),u=this.config.sanitize_properties;return u&&(it.error("sanitize_properties is deprecated. Use before_send instead"),a=u(a,"$set_once")),this.ls=!0,Jn(a)?void 0:a}register(t,n){var s;(s=this.persistence)==null||s.register(t,n)}register_once(t,n,s){var o;(o=this.persistence)==null||o.register_once(t,n,s)}register_for_session(t){var n;(n=this.sessionPersistence)==null||n.register(t)}unregister(t){var n;(n=this.persistence)==null||n.unregister(t)}unregister_for_session(t){var n;(n=this.sessionPersistence)==null||n.unregister(t)}Rs(t,n){this.register({[t]:n})}getFeatureFlag(t,n){return this.featureFlags.getFeatureFlag(t,n)}getFeatureFlagPayload(t){var n=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(n)}catch{return n}}isFeatureEnabled(t,n){return this.featureFlags.isFeatureEnabled(t,n)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,n)}getEarlyAccessFeatures(t,n,s){return n===void 0&&(n=!1),this.featureFlags.getEarlyAccessFeatures(t,n,s)}on(t,n){return this.us.on(t,n)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSurveysLoaded(t){return this.surveys.onSurveysLoaded(t)}onSessionId(t){var n,s;return(n=(s=this.sessionManager)==null?void 0:s.onSessionId(t))!==null&&n!==void 0?n:()=>{}}getSurveys(t,n){n===void 0&&(n=!1),this.surveys.getSurveys(t,n)}getActiveMatchingSurveys(t,n){n===void 0&&(n=!1),this.surveys.getActiveMatchingSurveys(t,n)}renderSurvey(t,n){this.surveys.renderSurvey(t,n)}canRenderSurvey(t){return this.surveys.canRenderSurvey(t)}canRenderSurveyAsync(t,n){return n===void 0&&(n=!1),this.surveys.canRenderSurveyAsync(t,n)}identify(t,n,s){if(!this.__loaded||!this.persistence)return it.uninitializedWarning("posthog.identify");if(Pe(t)&&(t=t.toString(),it.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t){if(["distinct_id","distinctid"].includes(t.toLowerCase()))it.critical('The string "'+t+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(this.Ps("posthog.identify")){var o=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var a=o;this.register_once({$had_persisted_distinct_id:!0,$device_id:a},"")}t!==o&&t!==this.get_property(Ns)&&(this.unregister(Ns),this.register({distinct_id:t}));var u=(this.persistence.get_property(Ri)||"anonymous")==="anonymous";t!==o&&u?(this.persistence.set_property(Ri,"identified"),this.setPersonPropertiesForFlags(X({},s||{},n||{}),!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:o},{$set:n||{},$set_once:s||{}}),this.cs=Vh(t,n,s),this.featureFlags.setAnonymousDistinctId(o)):(n||s)&&this.setPersonProperties(n,s),t!==o&&(this.reloadFeatureFlags(),this.unregister(ao))}}else it.error("Unique user id has not been set in posthog.identify")}setPersonProperties(t,n){if((t||n)&&this.Ps("posthog.setPersonProperties")){var s=Vh(this.get_distinct_id(),t,n);this.cs!==s?(this.setPersonPropertiesForFlags(X({},n||{},t||{})),this.capture("$set",{$set:t||{},$set_once:n||{}}),this.cs=s):it.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(t,n,s){if(t&&n){if(this.Ps("posthog.group")){var o=this.getGroups();o[t]!==n&&this.resetGroupPropertiesForFlags(t),this.register({$groups:X({},o,{[t]:n})}),s&&(this.capture("$groupidentify",{$group_type:t,$group_key:n,$group_set:s}),this.setGroupPropertiesForFlags({[t]:s})),o[t]===n||s||this.reloadFeatureFlags()}}else it.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t,n){n===void 0&&(n=!0),this.featureFlags.setPersonPropertiesForFlags(t,n)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t,n){n===void 0&&(n=!0),this.Ps("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,n)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var n,s,o,a;if(it.info("reset"),!this.__loaded)return it.uninitializedWarning("posthog.reset");var u=this.get_property("$device_id");if(this.consent.reset(),(n=this.persistence)==null||n.clear(),(s=this.sessionPersistence)==null||s.clear(),this.surveys.reset(),(o=this.persistence)==null||o.set_property(Ri,"anonymous"),(a=this.sessionManager)==null||a.resetSessionId(),this.cs=null,this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:wh,$device_id:null},"");else{var h=this.config.get_device_id(nn());this.register_once({distinct_id:h,$device_id:t?h:u},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var t,n;return(t=(n=this.sessionManager)==null?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}get_session_replay_url(t){if(!this.sessionManager)return"";var{sessionId:n,sessionStartTimestamp:s}=this.sessionManager.checkAndGetSessionAndWindowId(!0),o=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+n);if(t!=null&&t.withTimestamp&&s){var a,u=(a=t.timestampLookBack)!==null&&a!==void 0?a:10;if(!s)return o;o+="?t="+Math.max(Math.floor((new Date().getTime()-s)/1e3)-u,0)}return o}alias(t,n){return t===this.get_property(Zf)?(it.critical("Attempting to create alias for existing People user - aborting."),-2):this.Ps("posthog.alias")?(V(n)&&(n=this.get_distinct_id()),t!==n?(this.Rs(Ns,t),this.capture("$create_alias",{alias:t,distinct_id:n})):(it.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}set_config(t){var n,s,o,a,u=X({},this.config);ne(t)&&(ue(this.config,od(t)),(n=this.persistence)==null||n.update_config(this.config,u),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Ba(X({},this.config,{persistence:"sessionStorage"})),de.O()&&de.A("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(Di.DEBUG=!0,it.info("set_config",JSON.stringify({config:t,oldConfig:u,newConfig:X({},this.config)},null,2))),(s=this.sessionRecording)==null||s.startIfEnabledOrStop(),(o=this.autocapture)==null||o.startIfEnabled(),(a=this.heatmaps)==null||a.startIfEnabled(),this.surveys.loadIfEnabled(),this.bs())}startSessionRecording(t){var n=t===!0,s={sampling:n||!(t==null||!t.sampling),linked_flag:n||!(t==null||!t.linked_flag),url_trigger:n||!(t==null||!t.url_trigger),event_trigger:n||!(t==null||!t.event_trigger)};if(Object.values(s).some(Boolean)){var o,a,u,h,d;(o=this.sessionManager)==null||o.checkAndGetSessionAndWindowId(),s.sampling&&((a=this.sessionRecording)==null||a.overrideSampling()),s.linked_flag&&((u=this.sessionRecording)==null||u.overrideLinkedFlag()),s.url_trigger&&((h=this.sessionRecording)==null||h.overrideTrigger("url")),s.event_trigger&&((d=this.sessionRecording)==null||d.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!((t=this.sessionRecording)==null||!t.started)}captureException(t,n){var s=new Error("PostHog syntheticException");this.exceptions.sendExceptionEvent(X({},A0((o=>o instanceof Error)(t)?{error:t,event:t.message}:{event:t},{syntheticException:s}),n))}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var n;return(n=this.persistence)==null?void 0:n.props[t]}getSessionProperty(t){var n;return(n=this.sessionPersistence)==null?void 0:n.props[t]}toString(){var t,n=(t=this.config.name)!==null&&t!==void 0?t:Xn;return n!==Xn&&(n=Xn+"."+n),n}_isIdentified(){var t,n;return((t=this.persistence)==null?void 0:t.get_property(Ri))==="identified"||((n=this.sessionPersistence)==null?void 0:n.get_property(Ri))==="identified"}Is(){var t,n,s,o;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&Jn(this.getGroups())&&((t=this.persistence)==null||(n=t.props)==null||!n[Ns])&&((s=this.persistence)==null||(o=s.props)==null||!o[uo]))}ks(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.Is()||this.Ps("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Ps(t){return this.config.person_profiles==="never"?(it.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.Rs(uo,!0),!0)}bs(){var t,n,s,o,a=this.consent.isOptedOut(),u=this.config.opt_out_persistence_by_default,h=this.config.disable_persistence||a&&!!u;((t=this.persistence)==null?void 0:t.xe)!==h&&((s=this.persistence)==null||s.set_disabled(h)),((n=this.sessionPersistence)==null?void 0:n.xe)!==h&&((o=this.sessionPersistence)==null||o.set_disabled(h))}opt_in_capturing(t){var n;this.consent.optInOut(!0),this.bs(),(V(t==null?void 0:t.captureEventName)||t!=null&&t.captureEventName)&&this.capture((n=t==null?void 0:t.captureEventName)!==null&&n!==void 0?n:"$opt_in",t==null?void 0:t.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.$s()}opt_out_capturing(){this.consent.optInOut(!1),this.bs()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this.bs()}_is_bot(){return Ue?Hp(Ue,this.config.custom_blocked_useragents):void 0}$s(){tt&&(tt.visibilityState==="visible"?this.hs||(this.hs=!0,this.capture("$pageview",{title:tt.title},{send_instantly:!0}),this.ds&&(tt.removeEventListener("visibilitychange",this.ds),this.ds=null)):this.ds||(this.ds=this.$s.bind(this),ie(tt,"visibilitychange",this.ds)))}debug(t){t===!1?(k==null||k.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(k==null||k.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}Es(t){if(Ft(this.config.before_send))return t;var n=Jt(this.config.before_send)?this.config.before_send:[this.config.before_send],s=t;for(var o of n){if(s=o(s),Ft(s)){var a="Event '"+t.event+"' was rejected in beforeSend function";return Wy(t.event)?it.warn(a+". This can cause unexpected behavior."):it.info(a),null}s.properties&&!Jn(s.properties)||it.warn("Event '"+t.event+"' has no properties after beforeSend function, this is likely an error.")}return s}getPageViewId(){var t;return(t=this.pageViewManager.ne)==null?void 0:t.pageViewId}captureTraceFeedback(t,n){this.capture("$ai_feedback",{$ai_trace_id:String(t),$ai_feedback_text:n})}captureTraceMetric(t,n,s){this.capture("$ai_metric",{$ai_trace_id:String(t),$ai_metric_name:n,$ai_metric_value:String(s)})}}(function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=Uy(e.prototype[t[n]])})(zo,["identify"]);var ad,ld,ud,cd,hd,dd;(function(e){e.Button="button",e.Tab="tab",e.Selector="selector"})(ad||(ad={})),function(e){e.TopLeft="top_left",e.TopRight="top_right",e.TopCenter="top_center",e.MiddleLeft="middle_left",e.MiddleRight="middle_right",e.MiddleCenter="middle_center",e.Left="left",e.Center="center",e.Right="right",e.NextToTrigger="next_to_trigger"}(ld||(ld={})),function(e){e.Popover="popover",e.API="api",e.Widget="widget"}(ud||(ud={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}(cd||(cd={})),function(e){e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question"}(hd||(hd={})),function(e){e.Once="once",e.Recurring="recurring",e.Always="always"}(dd||(dd={}));var fd,Wp=(fd=tr[Xn]=new zo,function(){function e(){e.done||(e.done=!0,jp=!1,Zt(tr,function(t){t._dom_loaded()}))}tt!=null&&tt.addEventListener?tt.readyState==="complete"?e():ie(tt,"DOMContentLoaded",e,{capture:!1}):k&&it.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),fd);const ew="click_site_marker",iw="click_data_info_button",nw="click_donate_button",qp="click_outbound_link",pu="open_popup";let Rl=!1;function sw(){const e="phc_w0axXDyN3zCal0qUUsV83NnyCoKsI9AKHXR59aat3tP";Rl||(Wp.init(e,{api_host:"https://app.posthog.com",autocapture:!0}),Rl=!0)}function Hi(e,t={}){Rl&&Wp.capture(e,t)}const rw={class:"h-screen flex items-center justify-center flex-col"},ow={key:0,class:"text-center text-lg"},aw={key:1,class:"text-center text-red-500"},lw={__name:"index",setup(e){const t=Af(),n=Ae(!0),s=Ae(null);return fr(async()=>{try{console.log("Fetching latest date...");const a=await fetch("/nyc-water-app/data/latest.txt");if(!a.ok)throw new Error(`Failed to fetch latest date: ${a.status}`);const h=(await a.text()).trim();if(console.log("Latest date:",h),h)t.push(`/${h}`);else throw new Error("Empty date received")}catch(o){console.error("Redirect error:",o),s.value=o.message}finally{n.value=!1}}),(o,a)=>(jt(),Kt("div",rw,[n.value?(jt(),Kt("div",ow,a[0]||(a[0]=[J("p",null,"Redirecting to latest data...",-1)]))):s.value?(jt(),Kt("div",aw,[J("p",null,"Error: "+We(s.value),1),a[1]||(a[1]=J("p",{class:"mt-2 text-sm"},"Try accessing a specific date directly, e.g., /2025-05-16",-1))])):Bi("",!0)]))}};var uw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Al={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,s){s(t)})(uw,function(n){var s="1.9.4";function o(i){var r,l,c,f;for(l=1,c=arguments.length;l<c;l++){f=arguments[l];for(r in f)i[r]=f[r]}return i}var a=Object.create||function(){function i(){}return function(r){return i.prototype=r,new i}}();function u(i,r){var l=Array.prototype.slice;if(i.bind)return i.bind.apply(i,l.call(arguments,1));var c=l.call(arguments,2);return function(){return i.apply(r,c.length?c.concat(l.call(arguments)):arguments)}}var h=0;function d(i){return"_leaflet_id"in i||(i._leaflet_id=++h),i._leaflet_id}function _(i,r,l){var c,f,m,x;return x=function(){c=!1,f&&(m.apply(l,f),f=!1)},m=function(){c?f=arguments:(i.apply(l,arguments),setTimeout(x,r),c=!0)},m}function p(i,r,l){var c=r[1],f=r[0],m=c-f;return i===c&&l?i:((i-f)%m+m)%m+f}function g(){return!1}function v(i,r){if(r===!1)return i;var l=Math.pow(10,r===void 0?6:r);return Math.round(i*l)/l}function y(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function S(i){return y(i).split(/\s+/)}function P(i,r){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?a(i.options):{});for(var l in r)i.options[l]=r[l];return i.options}function z(i,r,l){var c=[];for(var f in i)c.push(encodeURIComponent(l?f.toUpperCase():f)+"="+encodeURIComponent(i[f]));return(!r||r.indexOf("?")===-1?"?":"&")+c.join("&")}var A=/\{ *([\w_ -]+) *\}/g;function M(i,r){return i.replace(A,function(l,c){var f=r[c];if(f===void 0)throw new Error("No value provided for variable "+l);return typeof f=="function"&&(f=f(r)),f})}var D=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function $(i,r){for(var l=0;l<i.length;l++)if(i[l]===r)return l;return-1}var Q="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ct(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var lt=0;function nt(i){var r=+new Date,l=Math.max(0,16-(r-lt));return lt=r+l,window.setTimeout(i,l)}var Vt=window.requestAnimationFrame||ct("RequestAnimationFrame")||nt,zt=window.cancelAnimationFrame||ct("CancelAnimationFrame")||ct("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function pt(i,r,l){if(l&&Vt===nt)i.call(r);else return Vt.call(window,u(i,r))}function kt(i){i&&zt.call(window,i)}var Mt={__proto__:null,extend:o,create:a,bind:u,get lastId(){return h},stamp:d,throttle:_,wrapNum:p,falseFn:g,formatNum:v,trim:y,splitWords:S,setOptions:P,getParamString:z,template:M,isArray:D,indexOf:$,emptyImageUrl:Q,requestFn:Vt,cancelFn:zt,requestAnimFrame:pt,cancelAnimFrame:kt};function At(){}At.extend=function(i){var r=function(){P(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=r.__super__=this.prototype,c=a(l);c.constructor=r,r.prototype=c;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(r[f]=this[f]);return i.statics&&o(r,i.statics),i.includes&&(Gt(i.includes),o.apply(null,[c].concat(i.includes))),o(c,i),delete c.statics,delete c.includes,c.options&&(c.options=l.options?a(l.options):{},o(c.options,i.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,x=c._initHooks.length;m<x;m++)c._initHooks[m].call(this)}},r},At.include=function(i){var r=this.prototype.options;return o(this.prototype,i),i.options&&(this.prototype.options=r,this.mergeOptions(i.options)),this},At.mergeOptions=function(i){return o(this.prototype.options,i),this},At.addInitHook=function(i){var r=Array.prototype.slice.call(arguments,1),l=typeof i=="function"?i:function(){this[i].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function Gt(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=D(i)?i:[i];for(var r=0;r<i.length;r++)i[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var vt={on:function(i,r,l){if(typeof i=="object")for(var c in i)this._on(c,i[c],r);else{i=S(i);for(var f=0,m=i.length;f<m;f++)this._on(i[f],r,l)}return this},off:function(i,r,l){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var c in i)this._off(c,i[c],r);else{i=S(i);for(var f=arguments.length===1,m=0,x=i.length;m<x;m++)f?this._off(i[m]):this._off(i[m],r,l)}return this},_on:function(i,r,l,c){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(i,r,l)===!1){l===this&&(l=void 0);var f={fn:r,ctx:l};c&&(f.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(f)}},_off:function(i,r,l){var c,f,m;if(this._events&&(c=this._events[i],!!c)){if(arguments.length===1){if(this._firingCount)for(f=0,m=c.length;f<m;f++)c[f].fn=g;delete this._events[i];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var x=this._listens(i,r,l);if(x!==!1){var T=c[x];this._firingCount&&(T.fn=g,this._events[i]=c=c.slice()),c.splice(x,1)}}},fire:function(i,r,l){if(!this.listens(i,l))return this;var c=o({},r,{type:i,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var f=this._events[i];if(f){this._firingCount=this._firingCount+1||1;for(var m=0,x=f.length;m<x;m++){var T=f[m],C=T.fn;T.once&&this.off(i,C,T.ctx),C.call(T.ctx||this,c)}this._firingCount--}}return l&&this._propagateEvent(c),this},listens:function(i,r,l,c){typeof i!="string"&&console.warn('"string" type argument expected');var f=r;typeof r!="function"&&(c=!!r,f=void 0,l=void 0);var m=this._events&&this._events[i];if(m&&m.length&&this._listens(i,f,l)!==!1)return!0;if(c){for(var x in this._eventParents)if(this._eventParents[x].listens(i,r,l,c))return!0}return!1},_listens:function(i,r,l){if(!this._events)return!1;var c=this._events[i]||[];if(!r)return!!c.length;l===this&&(l=void 0);for(var f=0,m=c.length;f<m;f++)if(c[f].fn===r&&c[f].ctx===l)return f;return!1},once:function(i,r,l){if(typeof i=="object")for(var c in i)this._on(c,i[c],r,!0);else{i=S(i);for(var f=0,m=i.length;f<m;f++)this._on(i[f],r,l,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[d(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[d(i)],this},_propagateEvent:function(i){for(var r in this._eventParents)this._eventParents[r].fire(i.type,o({layer:i.target,propagatedFrom:i.target},i),!0)}};vt.addEventListener=vt.on,vt.removeEventListener=vt.clearAllEventListeners=vt.off,vt.addOneTimeEventListener=vt.once,vt.fireEvent=vt.fire,vt.hasEventListeners=vt.listens;var _t=At.extend(vt);function H(i,r,l){this.x=l?Math.round(i):i,this.y=l?Math.round(r):r}var te=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};H.prototype={clone:function(){return new H(this.x,this.y)},add:function(i){return this.clone()._add(et(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(et(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new H(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new H(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=te(this.x),this.y=te(this.y),this},distanceTo:function(i){i=et(i);var r=i.x-this.x,l=i.y-this.y;return Math.sqrt(r*r+l*l)},equals:function(i){return i=et(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=et(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function et(i,r,l){return i instanceof H?i:D(i)?new H(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new H(i.x,i.y):new H(i,r,l)}function yt(i,r){if(i)for(var l=r?[i,r]:i,c=0,f=l.length;c<f;c++)this.extend(l[c])}yt.prototype={extend:function(i){var r,l;if(!i)return this;if(i instanceof H||typeof i[0]=="number"||"x"in i)r=l=et(i);else if(i=dt(i),r=i.min,l=i.max,!r||!l)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=l.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(i){return et((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return et(this.min.x,this.max.y)},getTopRight:function(){return et(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var r,l;return typeof i[0]=="number"||i instanceof H?i=et(i):i=dt(i),i instanceof yt?(r=i.min,l=i.max):r=l=i,r.x>=this.min.x&&l.x<=this.max.x&&r.y>=this.min.y&&l.y<=this.max.y},intersects:function(i){i=dt(i);var r=this.min,l=this.max,c=i.min,f=i.max,m=f.x>=r.x&&c.x<=l.x,x=f.y>=r.y&&c.y<=l.y;return m&&x},overlaps:function(i){i=dt(i);var r=this.min,l=this.max,c=i.min,f=i.max,m=f.x>r.x&&c.x<l.x,x=f.y>r.y&&c.y<l.y;return m&&x},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var r=this.min,l=this.max,c=Math.abs(r.x-l.x)*i,f=Math.abs(r.y-l.y)*i;return dt(et(r.x-c,r.y-f),et(l.x+c,l.y+f))},equals:function(i){return i?(i=dt(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function dt(i,r){return!i||i instanceof yt?i:new yt(i,r)}function Lt(i,r){if(i)for(var l=r?[i,r]:i,c=0,f=l.length;c<f;c++)this.extend(l[c])}Lt.prototype={extend:function(i){var r=this._southWest,l=this._northEast,c,f;if(i instanceof xt)c=i,f=i;else if(i instanceof Lt){if(c=i._southWest,f=i._northEast,!c||!f)return this}else return i?this.extend(st(i)||bt(i)):this;return!r&&!l?(this._southWest=new xt(c.lat,c.lng),this._northEast=new xt(f.lat,f.lng)):(r.lat=Math.min(c.lat,r.lat),r.lng=Math.min(c.lng,r.lng),l.lat=Math.max(f.lat,l.lat),l.lng=Math.max(f.lng,l.lng)),this},pad:function(i){var r=this._southWest,l=this._northEast,c=Math.abs(r.lat-l.lat)*i,f=Math.abs(r.lng-l.lng)*i;return new Lt(new xt(r.lat-c,r.lng-f),new xt(l.lat+c,l.lng+f))},getCenter:function(){return new xt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new xt(this.getNorth(),this.getWest())},getSouthEast:function(){return new xt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof xt||"lat"in i?i=st(i):i=bt(i);var r=this._southWest,l=this._northEast,c,f;return i instanceof Lt?(c=i.getSouthWest(),f=i.getNorthEast()):c=f=i,c.lat>=r.lat&&f.lat<=l.lat&&c.lng>=r.lng&&f.lng<=l.lng},intersects:function(i){i=bt(i);var r=this._southWest,l=this._northEast,c=i.getSouthWest(),f=i.getNorthEast(),m=f.lat>=r.lat&&c.lat<=l.lat,x=f.lng>=r.lng&&c.lng<=l.lng;return m&&x},overlaps:function(i){i=bt(i);var r=this._southWest,l=this._northEast,c=i.getSouthWest(),f=i.getNorthEast(),m=f.lat>r.lat&&c.lat<l.lat,x=f.lng>r.lng&&c.lng<l.lng;return m&&x},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,r){return i?(i=bt(i),this._southWest.equals(i.getSouthWest(),r)&&this._northEast.equals(i.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function bt(i,r){return i instanceof Lt?i:new Lt(i,r)}function xt(i,r,l){if(isNaN(i)||isNaN(r))throw new Error("Invalid LatLng object: ("+i+", "+r+")");this.lat=+i,this.lng=+r,l!==void 0&&(this.alt=+l)}xt.prototype={equals:function(i,r){if(!i)return!1;i=st(i);var l=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return l<=(r===void 0?1e-9:r)},toString:function(i){return"LatLng("+v(this.lat,i)+", "+v(this.lng,i)+")"},distanceTo:function(i){return q.distance(this,st(i))},wrap:function(){return q.wrapLatLng(this)},toBounds:function(i){var r=180*i/40075017,l=r/Math.cos(Math.PI/180*this.lat);return bt([this.lat-r,this.lng-l],[this.lat+r,this.lng+l])},clone:function(){return new xt(this.lat,this.lng,this.alt)}};function st(i,r,l){return i instanceof xt?i:D(i)&&typeof i[0]!="object"?i.length===3?new xt(i[0],i[1],i[2]):i.length===2?new xt(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new xt(i.lat,"lng"in i?i.lng:i.lon,i.alt):r===void 0?null:new xt(i,r,l)}var I={latLngToPoint:function(i,r){var l=this.projection.project(i),c=this.scale(r);return this.transformation._transform(l,c)},pointToLatLng:function(i,r){var l=this.scale(r),c=this.transformation.untransform(i,l);return this.projection.unproject(c)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var r=this.projection.bounds,l=this.scale(i),c=this.transformation.transform(r.min,l),f=this.transformation.transform(r.max,l);return new yt(c,f)},infinite:!1,wrapLatLng:function(i){var r=this.wrapLng?p(i.lng,this.wrapLng,!0):i.lng,l=this.wrapLat?p(i.lat,this.wrapLat,!0):i.lat,c=i.alt;return new xt(l,r,c)},wrapLatLngBounds:function(i){var r=i.getCenter(),l=this.wrapLatLng(r),c=r.lat-l.lat,f=r.lng-l.lng;if(c===0&&f===0)return i;var m=i.getSouthWest(),x=i.getNorthEast(),T=new xt(m.lat-c,m.lng-f),C=new xt(x.lat-c,x.lng-f);return new Lt(T,C)}},q=o({},I,{wrapLng:[-180,180],R:6371e3,distance:function(i,r){var l=Math.PI/180,c=i.lat*l,f=r.lat*l,m=Math.sin((r.lat-i.lat)*l/2),x=Math.sin((r.lng-i.lng)*l/2),T=m*m+Math.cos(c)*Math.cos(f)*x*x,C=2*Math.atan2(Math.sqrt(T),Math.sqrt(1-T));return this.R*C}}),U=6378137,K={R:U,MAX_LATITUDE:85.0511287798,project:function(i){var r=Math.PI/180,l=this.MAX_LATITUDE,c=Math.max(Math.min(l,i.lat),-l),f=Math.sin(c*r);return new H(this.R*i.lng*r,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(i){var r=180/Math.PI;return new xt((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*r,i.x*r/this.R)},bounds:function(){var i=U*Math.PI;return new yt([-i,-i],[i,i])}()};function It(i,r,l,c){if(D(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=r,this._c=l,this._d=c}It.prototype={transform:function(i,r){return this._transform(i.clone(),r)},_transform:function(i,r){return r=r||1,i.x=r*(this._a*i.x+this._b),i.y=r*(this._c*i.y+this._d),i},untransform:function(i,r){return r=r||1,new H((i.x/r-this._b)/this._a,(i.y/r-this._d)/this._c)}};function b(i,r,l,c){return new It(i,r,l,c)}var w=o({},q,{code:"EPSG:3857",projection:K,transformation:function(){var i=.5/(Math.PI*K.R);return b(i,.5,-i,.5)}()}),E=o({},w,{code:"EPSG:900913"});function O(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function F(i,r){var l="",c,f,m,x,T,C;for(c=0,m=i.length;c<m;c++){for(T=i[c],f=0,x=T.length;f<x;f++)C=T[f],l+=(f?"L":"M")+C.x+" "+C.y;l+=r?rt.svg?"z":"x":""}return l||"M0 0"}var R=document.documentElement.style,W="ActiveXObject"in window,j=W&&!document.addEventListener,Z="msLaunchUri"in navigator&&!("documentMode"in document),B=di("webkit"),at=di("android"),G=di("android 2")||di("android 3"),ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ht=at&&di("Google")&&ot<537&&!("AudioNode"in window),St=!!window.opera,Bt=!Z&&di("chrome"),Ot=di("gecko")&&!B&&!St&&!W,Le=!Bt&&di("safari"),pe=di("phantom"),Be="OTransition"in R,Ve=navigator.platform.indexOf("Win")===0,Wi=W&&"transition"in R,Dn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!G,ve="MozPerspective"in R,Ge=!window.L_DISABLE_3D&&(Wi||Dn||ve)&&!Be&&!pe,qi=typeof orientation<"u"||di("mobile"),Gp=qi&&B,Kp=qi&&Dn,gu=!window.PointerEvent&&window.MSPointerEvent,mu=!!(window.PointerEvent||gu),vu="ontouchstart"in window||!!window.TouchEvent,Yp=!window.L_NO_TOUCH&&(vu||mu),Xp=qi&&St,Jp=qi&&Ot,Qp=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,t_=function(){var i=!1;try{var r=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",g,r),window.removeEventListener("testPassiveEventSupport",g,r)}catch{}return i}(),e_=function(){return!!document.createElement("canvas").getContext}(),Bo=!!(document.createElementNS&&O("svg").createSVGRect),i_=!!Bo&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),n_=!Bo&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var r=i.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}}(),s_=navigator.platform.indexOf("Mac")===0,r_=navigator.platform.indexOf("Linux")===0;function di(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var rt={ie:W,ielt9:j,edge:Z,webkit:B,android:at,android23:G,androidStock:ht,opera:St,chrome:Bt,gecko:Ot,safari:Le,phantom:pe,opera12:Be,win:Ve,ie3d:Wi,webkit3d:Dn,gecko3d:ve,any3d:Ge,mobile:qi,mobileWebkit:Gp,mobileWebkit3d:Kp,msPointer:gu,pointer:mu,touch:Yp,touchNative:vu,mobileOpera:Xp,mobileGecko:Jp,retina:Qp,passiveEvents:t_,canvas:e_,svg:Bo,vml:n_,inlineSvg:i_,mac:s_,linux:r_},yu=rt.msPointer?"MSPointerDown":"pointerdown",bu=rt.msPointer?"MSPointerMove":"pointermove",wu=rt.msPointer?"MSPointerUp":"pointerup",xu=rt.msPointer?"MSPointerCancel":"pointercancel",Zo={touchstart:yu,touchmove:bu,touchend:wu,touchcancel:xu},Pu={touchstart:h_,touchmove:_r,touchend:_r,touchcancel:_r},Nn={},Su=!1;function o_(i,r,l){return r==="touchstart"&&c_(),Pu[r]?(l=Pu[r].bind(this,l),i.addEventListener(Zo[r],l,!1),l):(console.warn("wrong event specified:",r),g)}function a_(i,r,l){if(!Zo[r]){console.warn("wrong event specified:",r);return}i.removeEventListener(Zo[r],l,!1)}function l_(i){Nn[i.pointerId]=i}function u_(i){Nn[i.pointerId]&&(Nn[i.pointerId]=i)}function Eu(i){delete Nn[i.pointerId]}function c_(){Su||(document.addEventListener(yu,l_,!0),document.addEventListener(bu,u_,!0),document.addEventListener(wu,Eu,!0),document.addEventListener(xu,Eu,!0),Su=!0)}function _r(i,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var l in Nn)r.touches.push(Nn[l]);r.changedTouches=[r],i(r)}}function h_(i,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&_e(r),_r(i,r)}function d_(i){var r={},l,c;for(c in i)l=i[c],r[c]=l&&l.bind?l.bind(i):l;return i=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var f_=200;function p_(i,r){i.addEventListener("dblclick",r);var l=0,c;function f(m){if(m.detail!==1){c=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var x=Mu(m);if(!(x.some(function(C){return C instanceof HTMLLabelElement&&C.attributes.for})&&!x.some(function(C){return C instanceof HTMLInputElement||C instanceof HTMLSelectElement}))){var T=Date.now();T-l<=f_?(c++,c===2&&r(d_(m))):c=1,l=T}}}return i.addEventListener("click",f),{dblclick:r,simDblclick:f}}function __(i,r){i.removeEventListener("dblclick",r.dblclick),i.removeEventListener("click",r.simDblclick)}var Ho=vr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),gs=vr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Tu=gs==="webkitTransition"||gs==="OTransition"?gs+"End":"transitionend";function ku(i){return typeof i=="string"?document.getElementById(i):i}function ms(i,r){var l=i.style[r]||i.currentStyle&&i.currentStyle[r];if((!l||l==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(i,null);l=c?c[r]:null}return l==="auto"?null:l}function Rt(i,r,l){var c=document.createElement(i);return c.className=r||"",l&&l.appendChild(c),c}function ee(i){var r=i.parentNode;r&&r.removeChild(i)}function gr(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function $n(i){var r=i.parentNode;r&&r.lastChild!==i&&r.appendChild(i)}function zn(i){var r=i.parentNode;r&&r.firstChild!==i&&r.insertBefore(i,r.firstChild)}function jo(i,r){if(i.classList!==void 0)return i.classList.contains(r);var l=mr(i);return l.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(l)}function Pt(i,r){if(i.classList!==void 0)for(var l=S(r),c=0,f=l.length;c<f;c++)i.classList.add(l[c]);else if(!jo(i,r)){var m=mr(i);Wo(i,(m?m+" ":"")+r)}}function re(i,r){i.classList!==void 0?i.classList.remove(r):Wo(i,y((" "+mr(i)+" ").replace(" "+r+" "," ")))}function Wo(i,r){i.className.baseVal===void 0?i.className=r:i.className.baseVal=r}function mr(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Ke(i,r){"opacity"in i.style?i.style.opacity=r:"filter"in i.style&&g_(i,r)}function g_(i,r){var l=!1,c="DXImageTransform.Microsoft.Alpha";try{l=i.filters.item(c)}catch{if(r===1)return}r=Math.round(r*100),l?(l.Enabled=r!==100,l.Opacity=r):i.style.filter+=" progid:"+c+"(opacity="+r+")"}function vr(i){for(var r=document.documentElement.style,l=0;l<i.length;l++)if(i[l]in r)return i[l];return!1}function fn(i,r,l){var c=r||new H(0,0);i.style[Ho]=(rt.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(l?" scale("+l+")":"")}function ae(i,r){i._leaflet_pos=r,rt.any3d?fn(i,r):(i.style.left=r.x+"px",i.style.top=r.y+"px")}function pn(i){return i._leaflet_pos||new H(0,0)}var vs,ys,qo;if("onselectstart"in document)vs=function(){gt(window,"selectstart",_e)},ys=function(){Wt(window,"selectstart",_e)};else{var bs=vr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);vs=function(){if(bs){var i=document.documentElement.style;qo=i[bs],i[bs]="none"}},ys=function(){bs&&(document.documentElement.style[bs]=qo,qo=void 0)}}function Uo(){gt(window,"dragstart",_e)}function Vo(){Wt(window,"dragstart",_e)}var yr,Go;function Ko(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(br(),yr=i,Go=i.style.outlineStyle,i.style.outlineStyle="none",gt(window,"keydown",br))}function br(){yr&&(yr.style.outlineStyle=Go,yr=void 0,Go=void 0,Wt(window,"keydown",br))}function Lu(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Yo(i){var r=i.getBoundingClientRect();return{x:r.width/i.offsetWidth||1,y:r.height/i.offsetHeight||1,boundingClientRect:r}}var m_={__proto__:null,TRANSFORM:Ho,TRANSITION:gs,TRANSITION_END:Tu,get:ku,getStyle:ms,create:Rt,remove:ee,empty:gr,toFront:$n,toBack:zn,hasClass:jo,addClass:Pt,removeClass:re,setClass:Wo,getClass:mr,setOpacity:Ke,testProp:vr,setTransform:fn,setPosition:ae,getPosition:pn,get disableTextSelection(){return vs},get enableTextSelection(){return ys},disableImageDrag:Uo,enableImageDrag:Vo,preventOutline:Ko,restoreOutline:br,getSizedParentNode:Lu,getScale:Yo};function gt(i,r,l,c){if(r&&typeof r=="object")for(var f in r)Jo(i,f,r[f],l);else{r=S(r);for(var m=0,x=r.length;m<x;m++)Jo(i,r[m],l,c)}return this}var fi="_leaflet_events";function Wt(i,r,l,c){if(arguments.length===1)Cu(i),delete i[fi];else if(r&&typeof r=="object")for(var f in r)Qo(i,f,r[f],l);else if(r=S(r),arguments.length===2)Cu(i,function(T){return $(r,T)!==-1});else for(var m=0,x=r.length;m<x;m++)Qo(i,r[m],l,c);return this}function Cu(i,r){for(var l in i[fi]){var c=l.split(/\d/)[0];(!r||r(c))&&Qo(i,c,null,null,l)}}var Xo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Jo(i,r,l,c){var f=r+d(l)+(c?"_"+d(c):"");if(i[fi]&&i[fi][f])return this;var m=function(T){return l.call(c||i,T||window.event)},x=m;!rt.touchNative&&rt.pointer&&r.indexOf("touch")===0?m=o_(i,r,m):rt.touch&&r==="dblclick"?m=p_(i,m):"addEventListener"in i?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?i.addEventListener(Xo[r]||r,m,rt.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(m=function(T){T=T||window.event,ea(i,T)&&x(T)},i.addEventListener(Xo[r],m,!1)):i.addEventListener(r,x,!1):i.attachEvent("on"+r,m),i[fi]=i[fi]||{},i[fi][f]=m}function Qo(i,r,l,c,f){f=f||r+d(l)+(c?"_"+d(c):"");var m=i[fi]&&i[fi][f];if(!m)return this;!rt.touchNative&&rt.pointer&&r.indexOf("touch")===0?a_(i,r,m):rt.touch&&r==="dblclick"?__(i,m):"removeEventListener"in i?i.removeEventListener(Xo[r]||r,m,!1):i.detachEvent("on"+r,m),i[fi][f]=null}function _n(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function ta(i){return Jo(i,"wheel",_n),this}function ws(i){return gt(i,"mousedown touchstart dblclick contextmenu",_n),i._leaflet_disable_click=!0,this}function _e(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function gn(i){return _e(i),_n(i),this}function Mu(i){if(i.composedPath)return i.composedPath();for(var r=[],l=i.target;l;)r.push(l),l=l.parentNode;return r}function Iu(i,r){if(!r)return new H(i.clientX,i.clientY);var l=Yo(r),c=l.boundingClientRect;return new H((i.clientX-c.left)/l.x-r.clientLeft,(i.clientY-c.top)/l.y-r.clientTop)}var v_=rt.linux&&rt.chrome?window.devicePixelRatio:rt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ou(i){return rt.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/v_:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function ea(i,r){var l=r.relatedTarget;if(!l)return!0;try{for(;l&&l!==i;)l=l.parentNode}catch{return!1}return l!==i}var y_={__proto__:null,on:gt,off:Wt,stopPropagation:_n,disableScrollPropagation:ta,disableClickPropagation:ws,preventDefault:_e,stop:gn,getPropagationPath:Mu,getMousePosition:Iu,getWheelDelta:Ou,isExternalTarget:ea,addListener:gt,removeListener:Wt},Ru=_t.extend({run:function(i,r,l,c){this.stop(),this._el=i,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=pn(i),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=pt(this._animate,this),this._step()},_step:function(i){var r=+new Date-this._startTime,l=this._duration*1e3;r<l?this._runFrame(this._easeOut(r/l),i):(this._runFrame(1),this._complete())},_runFrame:function(i,r){var l=this._startPos.add(this._offset.multiplyBy(i));r&&l._round(),ae(this._el,l),this.fire("step")},_complete:function(){kt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),Ct=_t.extend({options:{crs:w,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,r){r=P(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(st(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=gs&&rt.any3d&&!rt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),gt(this._proxy,Tu,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,r,l){if(r=r===void 0?this._zoom:this._limitZoom(r),i=this._limitCenter(st(i),r,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=o({animate:l.animate},l.zoom),l.pan=o({animate:l.animate,duration:l.duration},l.pan));var c=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,r,l.zoom):this._tryAnimatedPan(i,l.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(i,r,l.pan&&l.pan.noMoveStart),this},setZoom:function(i,r){return this._loaded?this.setView(this.getCenter(),i,{zoom:r}):(this._zoom=i,this)},zoomIn:function(i,r){return i=i||(rt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,r)},zoomOut:function(i,r){return i=i||(rt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,r)},setZoomAround:function(i,r,l){var c=this.getZoomScale(r),f=this.getSize().divideBy(2),m=i instanceof H?i:this.latLngToContainerPoint(i),x=m.subtract(f).multiplyBy(1-1/c),T=this.containerPointToLatLng(f.add(x));return this.setView(T,r,{zoom:l})},_getBoundsCenterZoom:function(i,r){r=r||{},i=i.getBounds?i.getBounds():bt(i);var l=et(r.paddingTopLeft||r.padding||[0,0]),c=et(r.paddingBottomRight||r.padding||[0,0]),f=this.getBoundsZoom(i,!1,l.add(c));if(f=typeof r.maxZoom=="number"?Math.min(r.maxZoom,f):f,f===1/0)return{center:i.getCenter(),zoom:f};var m=c.subtract(l).divideBy(2),x=this.project(i.getSouthWest(),f),T=this.project(i.getNorthEast(),f),C=this.unproject(x.add(T).divideBy(2).add(m),f);return{center:C,zoom:f}},fitBounds:function(i,r){if(i=bt(i),!i.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(i,r);return this.setView(l.center,l.zoom,r)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,r){return this.setView(i,this._zoom,{pan:r})},panBy:function(i,r){if(i=et(i).round(),r=r||{},!i.x&&!i.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ru,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){Pt(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,l,r.duration||.25,r.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,r,l){if(l=l||{},l.animate===!1||!rt.any3d)return this.setView(i,r,l);this._stop();var c=this.project(this.getCenter()),f=this.project(i),m=this.getSize(),x=this._zoom;i=st(i),r=r===void 0?x:r;var T=Math.max(m.x,m.y),C=T*this.getZoomScale(x,r),N=f.distanceTo(c)||1,Y=1.42,ut=Y*Y;function Et(le){var Or=le?-1:1,ag=le?C:T,lg=C*C-T*T+Or*ut*ut*N*N,ug=2*ag*ut*N,da=lg/ug,fc=Math.sqrt(da*da+1)-da,cg=fc<1e-9?-18:Math.log(fc);return cg}function Ce(le){return(Math.exp(le)-Math.exp(-le))/2}function fe(le){return(Math.exp(le)+Math.exp(-le))/2}function Xe(le){return Ce(le)/fe(le)}var Fe=Et(0);function qn(le){return T*(fe(Fe)/fe(Fe+Y*le))}function ng(le){return T*(fe(Fe)*Xe(Fe+Y*le)-Ce(Fe))/ut}function sg(le){return 1-Math.pow(1-le,1.5)}var rg=Date.now(),hc=(Et(1)-Fe)/Y,og=l.duration?1e3*l.duration:1e3*hc*.8;function dc(){var le=(Date.now()-rg)/og,Or=sg(le)*hc;le<=1?(this._flyToFrame=pt(dc,this),this._move(this.unproject(c.add(f.subtract(c).multiplyBy(ng(Or)/N)),x),this.getScaleZoom(T/qn(Or),x),{flyTo:!0})):this._move(i,r)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),dc.call(this),this},flyToBounds:function(i,r){var l=this._getBoundsCenterZoom(i,r);return this.flyTo(l.center,l.zoom,r)},setMaxBounds:function(i){return i=bt(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var r=this.options.minZoom;return this.options.minZoom=i,this._loaded&&r!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var r=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&r!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,r){this._enforcingBounds=!0;var l=this.getCenter(),c=this._limitCenter(l,this._zoom,bt(i));return l.equals(c)||this.panTo(c,r),this._enforcingBounds=!1,this},panInside:function(i,r){r=r||{};var l=et(r.paddingTopLeft||r.padding||[0,0]),c=et(r.paddingBottomRight||r.padding||[0,0]),f=this.project(this.getCenter()),m=this.project(i),x=this.getPixelBounds(),T=dt([x.min.add(l),x.max.subtract(c)]),C=T.getSize();if(!T.contains(m)){this._enforcingBounds=!0;var N=m.subtract(T.getCenter()),Y=T.extend(m).getSize().subtract(C);f.x+=N.x<0?-Y.x:Y.x,f.y+=N.y<0?-Y.y:Y.y,this.panTo(this.unproject(f),r),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=o({animate:!1,pan:!0},i===!0?{animate:!0}:i);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),c=r.divideBy(2).round(),f=l.divideBy(2).round(),m=c.subtract(f);return!m.x&&!m.y?this:(i.animate&&i.pan?this.panBy(m):(i.pan&&this._rawPanBy(m),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=o({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=u(this._handleGeolocationResponse,this),l=u(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,l,i):navigator.geolocation.getCurrentPosition(r,l,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var r=i.code,l=i.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var r=i.coords.latitude,l=i.coords.longitude,c=new xt(r,l),f=c.toBounds(i.coords.accuracy*2),m=this._locateOptions;if(m.setView){var x=this.getBoundsZoom(f);this.setView(c,m.maxZoom?Math.min(x,m.maxZoom):x)}var T={latlng:c,bounds:f,timestamp:i.timestamp};for(var C in i.coords)typeof i.coords[C]=="number"&&(T[C]=i.coords[C]);this.fire("locationfound",T)}},addHandler:function(i,r){if(!r)return this;var l=this[i]=new r(this);return this._handlers.push(l),this.options[i]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ee(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(kt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)ee(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,r){var l="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),c=Rt("div",l,r||this._mapPane);return i&&(this._panes[i]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),r=this.unproject(i.getBottomLeft()),l=this.unproject(i.getTopRight());return new Lt(r,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,r,l){i=bt(i),l=et(l||[0,0]);var c=this.getZoom()||0,f=this.getMinZoom(),m=this.getMaxZoom(),x=i.getNorthWest(),T=i.getSouthEast(),C=this.getSize().subtract(l),N=dt(this.project(T,c),this.project(x,c)).getSize(),Y=rt.any3d?this.options.zoomSnap:1,ut=C.x/N.x,Et=C.y/N.y,Ce=r?Math.max(ut,Et):Math.min(ut,Et);return c=this.getScaleZoom(Ce,c),Y&&(c=Math.round(c/(Y/100))*(Y/100),c=r?Math.ceil(c/Y)*Y:Math.floor(c/Y)*Y),Math.max(f,Math.min(m,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new H(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,r){var l=this._getTopLeftPoint(i,r);return new yt(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,r){var l=this.options.crs;return r=r===void 0?this._zoom:r,l.scale(i)/l.scale(r)},getScaleZoom:function(i,r){var l=this.options.crs;r=r===void 0?this._zoom:r;var c=l.zoom(i*l.scale(r));return isNaN(c)?1/0:c},project:function(i,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(st(i),r)},unproject:function(i,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(et(i),r)},layerPointToLatLng:function(i){var r=et(i).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(i){var r=this.project(st(i))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(st(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(bt(i))},distance:function(i,r){return this.options.crs.distance(st(i),st(r))},containerPointToLayerPoint:function(i){return et(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return et(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var r=this.containerPointToLayerPoint(et(i));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(st(i)))},mouseEventToContainerPoint:function(i){return Iu(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var r=this._container=ku(i);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");gt(r,"scroll",this._onScroll,this),this._containerId=d(r)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&rt.any3d,Pt(i,"leaflet-container"+(rt.touch?" leaflet-touch":"")+(rt.retina?" leaflet-retina":"")+(rt.ielt9?" leaflet-oldie":"")+(rt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=ms(i,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ae(this._mapPane,new H(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Pt(i.markerPane,"leaflet-zoom-hide"),Pt(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,r,l){ae(this._mapPane,new H(0,0));var c=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var f=this._zoom!==r;this._moveStart(f,l)._move(i,r)._moveEnd(f),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(i,r){return i&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(i,r,l,c){r===void 0&&(r=this._zoom);var f=this._zoom!==r;return this._zoom=r,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),c?l&&l.pinch&&this.fire("zoom",l):((f||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return kt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){ae(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[d(this._container)]=this;var r=i?Wt:gt;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),rt.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){kt(this._resizeRequest),this._resizeRequest=pt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,r){for(var l=[],c,f=r==="mouseout"||r==="mouseover",m=i.target||i.srcElement,x=!1;m;){if(c=this._targets[d(m)],c&&(r==="click"||r==="preclick")&&this._draggableMoved(c)){x=!0;break}if(c&&c.listens(r,!0)&&(f&&!ea(m,i)||(l.push(c),f))||m===this._container)break;m=m.parentNode}return!l.length&&!x&&!f&&this.listens(r,!0)&&(l=[this]),l},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var r=i.target||i.srcElement;if(!(!this._loaded||r._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(r))){var l=i.type;l==="mousedown"&&Ko(r),this._fireDOMEvent(i,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,r,l){if(i.type==="click"){var c=o({},i);c.type="preclick",this._fireDOMEvent(c,c.type,l)}var f=this._findEventTargets(i,r);if(l){for(var m=[],x=0;x<l.length;x++)l[x].listens(r,!0)&&m.push(l[x]);f=m.concat(f)}if(f.length){r==="contextmenu"&&_e(i);var T=f[0],C={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var N=T.getLatLng&&(!T._radius||T._radius<=10);C.containerPoint=N?this.latLngToContainerPoint(T.getLatLng()):this.mouseEventToContainerPoint(i),C.layerPoint=this.containerPointToLayerPoint(C.containerPoint),C.latlng=N?T.getLatLng():this.layerPointToLatLng(C.layerPoint)}for(x=0;x<f.length;x++)if(f[x].fire(r,C,!0),C.originalEvent._stopped||f[x].options.bubblingMouseEvents===!1&&$(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,r=this._handlers.length;i<r;i++)this._handlers[i].disable()},whenReady:function(i,r){return this._loaded?i.call(r||this,{target:this}):this.on("load",i,r),this},_getMapPanePos:function(){return pn(this._mapPane)||new H(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,r){var l=i&&r!==void 0?this._getNewPixelOrigin(i,r):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,r){var l=this.getSize()._divideBy(2);return this.project(i,r)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,r,l){var c=this._getNewPixelOrigin(l,r);return this.project(i,r)._subtract(c)},_latLngBoundsToNewLayerBounds:function(i,r,l){var c=this._getNewPixelOrigin(l,r);return dt([this.project(i.getSouthWest(),r)._subtract(c),this.project(i.getNorthWest(),r)._subtract(c),this.project(i.getSouthEast(),r)._subtract(c),this.project(i.getNorthEast(),r)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,r,l){if(!l)return i;var c=this.project(i,r),f=this.getSize().divideBy(2),m=new yt(c.subtract(f),c.add(f)),x=this._getBoundsOffset(m,l,r);return Math.abs(x.x)<=1&&Math.abs(x.y)<=1?i:this.unproject(c.add(x),r)},_limitOffset:function(i,r){if(!r)return i;var l=this.getPixelBounds(),c=new yt(l.min.add(i),l.max.add(i));return i.add(this._getBoundsOffset(c,r))},_getBoundsOffset:function(i,r,l){var c=dt(this.project(r.getNorthEast(),l),this.project(r.getSouthWest(),l)),f=c.min.subtract(i.min),m=c.max.subtract(i.max),x=this._rebound(f.x,-m.x),T=this._rebound(f.y,-m.y);return new H(x,T)},_rebound:function(i,r){return i+r>0?Math.round(i-r)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(r))},_limitZoom:function(i){var r=this.getMinZoom(),l=this.getMaxZoom(),c=rt.any3d?this.options.zoomSnap:1;return c&&(i=Math.round(i/c)*c),Math.max(r,Math.min(l,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){re(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,r){var l=this._getCenterOffset(i)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,r),!0)},_createAnimProxy:function(){var i=this._proxy=Rt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(r){var l=Ho,c=this._proxy.style[l];fn(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),c===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ee(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),r=this.getZoom();fn(this._proxy,this.project(i,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,r,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(r),f=this._getCenterOffset(i)._divideBy(1-1/c);return l.animate!==!0&&!this.getSize().contains(f)?!1:(pt(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(i,r,!0)},this),!0)},_animateZoom:function(i,r,l,c){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=r,Pt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:r,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&re(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function b_(i,r){return new Ct(i,r)}var si=At.extend({options:{position:"topright"},initialize:function(i){P(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var r=this._map;return r&&r.removeControl(this),this.options.position=i,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var r=this._container=this.onAdd(i),l=this.getPosition(),c=i._controlCorners[l];return Pt(r,"leaflet-control"),l.indexOf("bottom")!==-1?c.insertBefore(r,c.firstChild):c.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ee(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),xs=function(i){return new si(i)};Ct.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},r="leaflet-",l=this._controlContainer=Rt("div",r+"control-container",this._container);function c(f,m){var x=r+f+" "+r+m;i[f+m]=Rt("div",x,l)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)ee(this._controlCorners[i]);ee(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Au=si.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,r,l,c){return l<c?-1:c<l?1:0}},initialize:function(i,r,l){P(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in i)this._addLayer(i[c],c);for(c in r)this._addLayer(r[c],c,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return si.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,r){return this._addLayer(i,r),this._map?this._update():this},addOverlay:function(i,r){return this._addLayer(i,r,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var r=this._getLayer(d(i));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){Pt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(Pt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):re(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return re(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",r=this._container=Rt("div",i),l=this.options.collapsed;r.setAttribute("aria-haspopup",!0),ws(r),ta(r);var c=this._section=Rt("section",i+"-list");l&&(this._map.on("click",this.collapse,this),gt(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=Rt("a",i+"-toggle",r);f.href="#",f.title="Layers",f.setAttribute("role","button"),gt(f,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){_e(m),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=Rt("div",i+"-base",c),this._separator=Rt("div",i+"-separator",c),this._overlaysList=Rt("div",i+"-overlays",c),r.appendChild(c)},_getLayer:function(i){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&d(this._layers[r].layer)===i)return this._layers[r]},_addLayer:function(i,r,l){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:r,overlay:l}),this.options.sortLayers&&this._layers.sort(u(function(c,f){return this.options.sortFunction(c.layer,f.layer,c.name,f.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;gr(this._baseLayersList),gr(this._overlaysList),this._layerControlInputs=[];var i,r,l,c,f=0;for(l=0;l<this._layers.length;l++)c=this._layers[l],this._addItem(c),r=r||c.overlay,i=i||!c.overlay,f+=c.overlay?0:1;return this.options.hideSingleBase&&(i=i&&f>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=r&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var r=this._getLayer(d(i.target)),l=r.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;l&&this._map.fire(l,r)},_createRadioElement:function(i,r){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(r?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=l,c.firstChild},_addItem:function(i){var r=document.createElement("label"),l=this._map.hasLayer(i.layer),c;i.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=l):c=this._createRadioElement("leaflet-base-layers_"+d(this),l),this._layerControlInputs.push(c),c.layerId=d(i.layer),gt(c,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+i.name;var m=document.createElement("span");r.appendChild(m),m.appendChild(c),m.appendChild(f);var x=i.overlay?this._overlaysList:this._baseLayersList;return x.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,r,l,c=[],f=[];this._handlingClick=!0;for(var m=i.length-1;m>=0;m--)r=i[m],l=this._getLayer(r.layerId).layer,r.checked?c.push(l):r.checked||f.push(l);for(m=0;m<f.length;m++)this._map.hasLayer(f[m])&&this._map.removeLayer(f[m]);for(m=0;m<c.length;m++)this._map.hasLayer(c[m])||this._map.addLayer(c[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,r,l,c=this._map.getZoom(),f=i.length-1;f>=0;f--)r=i[f],l=this._getLayer(r.layerId).layer,r.disabled=l.options.minZoom!==void 0&&c<l.options.minZoom||l.options.maxZoom!==void 0&&c>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,gt(i,"click",_e),this.expand();var r=this;setTimeout(function(){Wt(i,"click",_e),r._preventClick=!1})}}),w_=function(i,r,l){return new Au(i,r,l)},ia=si.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var r="leaflet-control-zoom",l=Rt("div",r+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,r+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,r+"-out",l,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,r,l,c,f){var m=Rt("a",l,c);return m.innerHTML=i,m.href="#",m.title=r,m.setAttribute("role","button"),m.setAttribute("aria-label",r),ws(m),gt(m,"click",gn),gt(m,"click",f,this),gt(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var i=this._map,r="leaflet-disabled";re(this._zoomInButton,r),re(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(Pt(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(Pt(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ct.mergeOptions({zoomControl:!0}),Ct.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ia,this.addControl(this.zoomControl))});var x_=function(i){return new ia(i)},Fu=si.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var r="leaflet-control-scale",l=Rt("div",r),c=this.options;return this._addScales(c,r+"-line",l),i.on(c.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),l},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,r,l){i.metric&&(this._mScale=Rt("div",r,l)),i.imperial&&(this._iScale=Rt("div",r,l))},_update:function(){var i=this._map,r=i.getSize().y/2,l=i.distance(i.containerPointToLatLng([0,r]),i.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(l)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var r=this._getRoundNum(i),l=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,l,r/i)},_updateImperial:function(i){var r=i*3.2808399,l,c,f;r>5280?(l=r/5280,c=this._getRoundNum(l),this._updateScale(this._iScale,c+" mi",c/l)):(f=this._getRoundNum(r),this._updateScale(this._iScale,f+" ft",f/r))},_updateScale:function(i,r,l){i.style.width=Math.round(this.options.maxWidth*l)+"px",i.innerHTML=r},_getRoundNum:function(i){var r=Math.pow(10,(Math.floor(i)+"").length-1),l=i/r;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,r*l}}),P_=function(i){return new Fu(i)},S_='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',na=si.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(rt.inlineSvg?S_+" ":"")+"Leaflet</a>"},initialize:function(i){P(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=Rt("div","leaflet-control-attribution"),ws(this._container);for(var r in i._layers)i._layers[r].getAttribution&&this.addAttribution(i._layers[r].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var r in this._attributions)this._attributions[r]&&i.push(r);var l=[];this.options.prefix&&l.push(this.options.prefix),i.length&&l.push(i.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});Ct.mergeOptions({attributionControl:!0}),Ct.addInitHook(function(){this.options.attributionControl&&new na().addTo(this)});var E_=function(i){return new na(i)};si.Layers=Au,si.Zoom=ia,si.Scale=Fu,si.Attribution=na,xs.layers=w_,xs.zoom=x_,xs.scale=P_,xs.attribution=E_;var pi=At.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});pi.addTo=function(i,r){return i.addHandler(r,this),this};var T_={Events:vt},Du=rt.touch?"touchstart mousedown":"mousedown",Ui=_t.extend({options:{clickTolerance:3},initialize:function(i,r,l,c){P(this,c),this._element=i,this._dragStartTarget=r||i,this._preventOutline=l},enable:function(){this._enabled||(gt(this._dragStartTarget,Du,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ui._dragging===this&&this.finishDrag(!0),Wt(this._dragStartTarget,Du,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!jo(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){Ui._dragging===this&&this.finishDrag();return}if(!(Ui._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(Ui._dragging=this,this._preventOutline&&Ko(this._element),Uo(),vs(),!this._moving)){this.fire("down");var r=i.touches?i.touches[0]:i,l=Lu(this._element);this._startPoint=new H(r.clientX,r.clientY),this._startPos=pn(this._element),this._parentScale=Yo(l);var c=i.type==="mousedown";gt(document,c?"mousemove":"touchmove",this._onMove,this),gt(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var r=i.touches&&i.touches.length===1?i.touches[0]:i,l=new H(r.clientX,r.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,_e(i),this._moved||(this.fire("dragstart"),this._moved=!0,Pt(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Pt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),ae(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){re(document.body,"leaflet-dragging"),this._lastTarget&&(re(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Wt(document,"mousemove touchmove",this._onMove,this),Wt(document,"mouseup touchend touchcancel",this._onUp,this),Vo(),ys();var r=this._moved&&this._moving;this._moving=!1,Ui._dragging=!1,r&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function Nu(i,r,l){var c,f=[1,4,2,8],m,x,T,C,N,Y,ut,Et;for(m=0,Y=i.length;m<Y;m++)i[m]._code=mn(i[m],r);for(T=0;T<4;T++){for(ut=f[T],c=[],m=0,Y=i.length,x=Y-1;m<Y;x=m++)C=i[m],N=i[x],C._code&ut?N._code&ut||(Et=wr(N,C,ut,r,l),Et._code=mn(Et,r),c.push(Et)):(N._code&ut&&(Et=wr(N,C,ut,r,l),Et._code=mn(Et,r),c.push(Et)),c.push(C));i=c}return i}function $u(i,r){var l,c,f,m,x,T,C,N,Y;if(!i||i.length===0)throw new Error("latlngs not passed");Ye(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var ut=st([0,0]),Et=bt(i),Ce=Et.getNorthWest().distanceTo(Et.getSouthWest())*Et.getNorthEast().distanceTo(Et.getNorthWest());Ce<1700&&(ut=sa(i));var fe=i.length,Xe=[];for(l=0;l<fe;l++){var Fe=st(i[l]);Xe.push(r.project(st([Fe.lat-ut.lat,Fe.lng-ut.lng])))}for(T=C=N=0,l=0,c=fe-1;l<fe;c=l++)f=Xe[l],m=Xe[c],x=f.y*m.x-m.y*f.x,C+=(f.x+m.x)*x,N+=(f.y+m.y)*x,T+=x*3;T===0?Y=Xe[0]:Y=[C/T,N/T];var qn=r.unproject(et(Y));return st([qn.lat+ut.lat,qn.lng+ut.lng])}function sa(i){for(var r=0,l=0,c=0,f=0;f<i.length;f++){var m=st(i[f]);r+=m.lat,l+=m.lng,c++}return st([r/c,l/c])}var k_={__proto__:null,clipPolygon:Nu,polygonCenter:$u,centroid:sa};function zu(i,r){if(!r||!i.length)return i.slice();var l=r*r;return i=M_(i,l),i=C_(i,l),i}function Bu(i,r,l){return Math.sqrt(Ps(i,r,l,!0))}function L_(i,r,l){return Ps(i,r,l)}function C_(i,r){var l=i.length,c=typeof Uint8Array<"u"?Uint8Array:Array,f=new c(l);f[0]=f[l-1]=1,ra(i,f,r,0,l-1);var m,x=[];for(m=0;m<l;m++)f[m]&&x.push(i[m]);return x}function ra(i,r,l,c,f){var m=0,x,T,C;for(T=c+1;T<=f-1;T++)C=Ps(i[T],i[c],i[f],!0),C>m&&(x=T,m=C);m>l&&(r[x]=1,ra(i,r,l,c,x),ra(i,r,l,x,f))}function M_(i,r){for(var l=[i[0]],c=1,f=0,m=i.length;c<m;c++)I_(i[c],i[f])>r&&(l.push(i[c]),f=c);return f<m-1&&l.push(i[m-1]),l}var Zu;function Hu(i,r,l,c,f){var m=c?Zu:mn(i,l),x=mn(r,l),T,C,N;for(Zu=x;;){if(!(m|x))return[i,r];if(m&x)return!1;T=m||x,C=wr(i,r,T,l,f),N=mn(C,l),T===m?(i=C,m=N):(r=C,x=N)}}function wr(i,r,l,c,f){var m=r.x-i.x,x=r.y-i.y,T=c.min,C=c.max,N,Y;return l&8?(N=i.x+m*(C.y-i.y)/x,Y=C.y):l&4?(N=i.x+m*(T.y-i.y)/x,Y=T.y):l&2?(N=C.x,Y=i.y+x*(C.x-i.x)/m):l&1&&(N=T.x,Y=i.y+x*(T.x-i.x)/m),new H(N,Y,f)}function mn(i,r){var l=0;return i.x<r.min.x?l|=1:i.x>r.max.x&&(l|=2),i.y<r.min.y?l|=4:i.y>r.max.y&&(l|=8),l}function I_(i,r){var l=r.x-i.x,c=r.y-i.y;return l*l+c*c}function Ps(i,r,l,c){var f=r.x,m=r.y,x=l.x-f,T=l.y-m,C=x*x+T*T,N;return C>0&&(N=((i.x-f)*x+(i.y-m)*T)/C,N>1?(f=l.x,m=l.y):N>0&&(f+=x*N,m+=T*N)),x=i.x-f,T=i.y-m,c?x*x+T*T:new H(f,m)}function Ye(i){return!D(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function ju(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ye(i)}function Wu(i,r){var l,c,f,m,x,T,C,N;if(!i||i.length===0)throw new Error("latlngs not passed");Ye(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Y=st([0,0]),ut=bt(i),Et=ut.getNorthWest().distanceTo(ut.getSouthWest())*ut.getNorthEast().distanceTo(ut.getNorthWest());Et<1700&&(Y=sa(i));var Ce=i.length,fe=[];for(l=0;l<Ce;l++){var Xe=st(i[l]);fe.push(r.project(st([Xe.lat-Y.lat,Xe.lng-Y.lng])))}for(l=0,c=0;l<Ce-1;l++)c+=fe[l].distanceTo(fe[l+1])/2;if(c===0)N=fe[0];else for(l=0,m=0;l<Ce-1;l++)if(x=fe[l],T=fe[l+1],f=x.distanceTo(T),m+=f,m>c){C=(m-c)/f,N=[T.x-C*(T.x-x.x),T.y-C*(T.y-x.y)];break}var Fe=r.unproject(et(N));return st([Fe.lat+Y.lat,Fe.lng+Y.lng])}var O_={__proto__:null,simplify:zu,pointToSegmentDistance:Bu,closestPointOnSegment:L_,clipSegment:Hu,_getEdgeIntersection:wr,_getBitCode:mn,_sqClosestPointOnSegment:Ps,isFlat:Ye,_flat:ju,polylineCenter:Wu},oa={project:function(i){return new H(i.lng,i.lat)},unproject:function(i){return new xt(i.y,i.x)},bounds:new yt([-180,-90],[180,90])},aa={R:6378137,R_MINOR:6356752314245179e-9,bounds:new yt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var r=Math.PI/180,l=this.R,c=i.lat*r,f=this.R_MINOR/l,m=Math.sqrt(1-f*f),x=m*Math.sin(c),T=Math.tan(Math.PI/4-c/2)/Math.pow((1-x)/(1+x),m/2);return c=-l*Math.log(Math.max(T,1e-10)),new H(i.lng*r*l,c)},unproject:function(i){for(var r=180/Math.PI,l=this.R,c=this.R_MINOR/l,f=Math.sqrt(1-c*c),m=Math.exp(-i.y/l),x=Math.PI/2-2*Math.atan(m),T=0,C=.1,N;T<15&&Math.abs(C)>1e-7;T++)N=f*Math.sin(x),N=Math.pow((1-N)/(1+N),f/2),C=Math.PI/2-2*Math.atan(m*N)-x,x+=C;return new xt(x*r,i.x*r/l)}},R_={__proto__:null,LonLat:oa,Mercator:aa,SphericalMercator:K},A_=o({},q,{code:"EPSG:3395",projection:aa,transformation:function(){var i=.5/(Math.PI*aa.R);return b(i,.5,-i,.5)}()}),qu=o({},q,{code:"EPSG:4326",projection:oa,transformation:b(1/180,1,-1/180,.5)}),F_=o({},I,{projection:oa,transformation:b(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,r){var l=r.lng-i.lng,c=r.lat-i.lat;return Math.sqrt(l*l+c*c)},infinite:!0});I.Earth=q,I.EPSG3395=A_,I.EPSG3857=w,I.EPSG900913=E,I.EPSG4326=qu,I.Simple=F_;var ri=_t.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[d(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[d(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var r=i.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var l=this.getEvents();r.on(l,this),this.once("remove",function(){r.off(l,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});Ct.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var r=d(i);return this._layers[r]?this:(this._layers[r]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var r=d(i);return this._layers[r]?(this._loaded&&i.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return d(i)in this._layers},eachLayer:function(i,r){for(var l in this._layers)i.call(r,this._layers[l]);return this},_addLayers:function(i){i=i?D(i)?i:[i]:[];for(var r=0,l=i.length;r<l;r++)this.addLayer(i[r])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[d(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var r=d(i);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,r=-1/0,l=this._getZoomSpan();for(var c in this._zoomBoundLayers){var f=this._zoomBoundLayers[c].options;i=f.minZoom===void 0?i:Math.min(i,f.minZoom),r=f.maxZoom===void 0?r:Math.max(r,f.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=i===1/0?void 0:i,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Bn=ri.extend({initialize:function(i,r){P(this,r),this._layers={};var l,c;if(i)for(l=0,c=i.length;l<c;l++)this.addLayer(i[l])},addLayer:function(i){var r=this.getLayerId(i);return this._layers[r]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var r=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(i){var r=typeof i=="number"?i:this.getLayerId(i);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var r=Array.prototype.slice.call(arguments,1),l,c;for(l in this._layers)c=this._layers[l],c[i]&&c[i].apply(c,r);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,r){for(var l in this._layers)i.call(r,this._layers[l]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return d(i)}}),D_=function(i,r){return new Bn(i,r)},Ei=Bn.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Bn.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Bn.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new Lt;for(var r in this._layers){var l=this._layers[r];i.extend(l.getBounds?l.getBounds():l.getLatLng())}return i}}),N_=function(i,r){return new Ei(i,r)},Zn=At.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){P(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,r){var l=this._getIconUrl(i);if(!l){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(l,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(c,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(i,r){var l=this.options,c=l[r+"Size"];typeof c=="number"&&(c=[c,c]);var f=et(c),m=et(r==="shadow"&&l.shadowAnchor||l.iconAnchor||f&&f.divideBy(2,!0));i.className="leaflet-marker-"+r+" "+(l.className||""),m&&(i.style.marginLeft=-m.x+"px",i.style.marginTop=-m.y+"px"),f&&(i.style.width=f.x+"px",i.style.height=f.y+"px")},_createImg:function(i,r){return r=r||document.createElement("img"),r.src=i,r},_getIconUrl:function(i){return rt.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function $_(i){return new Zn(i)}var Ss=Zn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Ss.imagePath!="string"&&(Ss.imagePath=this._detectIconPath()),(this.options.imagePath||Ss.imagePath)+Zn.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var r=function(l,c,f){var m=c.exec(l);return m&&m[f]};return i=r(i,/^url\((['"])?(.+)\1\)$/,2),i&&r(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=Rt("div","leaflet-default-icon-path",document.body),r=ms(i,"background-image")||ms(i,"backgroundImage");if(document.body.removeChild(i),r=this._stripUrl(r),r)return r;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),Uu=pi.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new Ui(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Pt(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&re(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var r=this._marker,l=r._map,c=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,m=pn(r._icon),x=l.getPixelBounds(),T=l.getPixelOrigin(),C=dt(x.min._subtract(T).add(f),x.max._subtract(T).subtract(f));if(!C.contains(m)){var N=et((Math.max(C.max.x,m.x)-C.max.x)/(x.max.x-C.max.x)-(Math.min(C.min.x,m.x)-C.min.x)/(x.min.x-C.min.x),(Math.max(C.max.y,m.y)-C.max.y)/(x.max.y-C.max.y)-(Math.min(C.min.y,m.y)-C.min.y)/(x.min.y-C.min.y)).multiplyBy(c);l.panBy(N,{animate:!1}),this._draggable._newPos._add(N),this._draggable._startPos._add(N),ae(r._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=pt(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(kt(this._panRequest),this._panRequest=pt(this._adjustPan.bind(this,i)))},_onDrag:function(i){var r=this._marker,l=r._shadow,c=pn(r._icon),f=r._map.layerPointToLatLng(c);l&&ae(l,c),r._latlng=f,i.latlng=f,i.oldLatLng=this._oldLatLng,r.fire("move",i).fire("drag",i)},_onDragEnd:function(i){kt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),xr=ri.extend({options:{icon:new Ss,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,r){P(this,r),this._latlng=st(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var r=this._latlng;return this._latlng=st(i),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=i.icon.createIcon(this._icon),c=!1;l!==this._icon&&(this._icon&&this._removeIcon(),c=!0,i.title&&(l.title=i.title),l.tagName==="IMG"&&(l.alt=i.alt||"")),Pt(l,r),i.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&gt(l,"focus",this._panOnFocus,this);var f=i.icon.createShadow(this._shadow),m=!1;f!==this._shadow&&(this._removeShadow(),m=!0),f&&(Pt(f,r),f.alt=""),this._shadow=f,i.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&m&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Wt(this._icon,"focus",this._panOnFocus,this),ee(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ee(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&ae(this._icon,i),this._shadow&&ae(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var r=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(Pt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Uu)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Uu(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Ke(this._icon,i),this._shadow&&Ke(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var r=this.options.icon.options,l=r.iconSize?et(r.iconSize):et(0,0),c=r.iconAnchor?et(r.iconAnchor):et(0,0);i.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:l.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function z_(i,r){return new xr(i,r)}var Vi=ri.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return P(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Pr=Vi.extend({options:{fill:!0,radius:10},initialize:function(i,r){P(this,r),this._latlng=st(i),this._radius=this.options.radius},setLatLng:function(i){var r=this._latlng;return this._latlng=st(i),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var r=i&&i.radius||this._radius;return Vi.prototype.setStyle.call(this,i),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,r=this._radiusY||i,l=this._clickTolerance(),c=[i+l,r+l];this._pxBounds=new yt(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function B_(i,r){return new Pr(i,r)}var la=Pr.extend({initialize:function(i,r,l){if(typeof r=="number"&&(r=o({},l,{radius:r})),P(this,r),this._latlng=st(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new Lt(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Vi.prototype.setStyle,_project:function(){var i=this._latlng.lng,r=this._latlng.lat,l=this._map,c=l.options.crs;if(c.distance===q.distance){var f=Math.PI/180,m=this._mRadius/q.R/f,x=l.project([r+m,i]),T=l.project([r-m,i]),C=x.add(T).divideBy(2),N=l.unproject(C).lat,Y=Math.acos((Math.cos(m*f)-Math.sin(r*f)*Math.sin(N*f))/(Math.cos(r*f)*Math.cos(N*f)))/f;(isNaN(Y)||Y===0)&&(Y=m/Math.cos(Math.PI/180*r)),this._point=C.subtract(l.getPixelOrigin()),this._radius=isNaN(Y)?0:C.x-l.project([N,i-Y]).x,this._radiusY=C.y-x.y}else{var ut=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(ut).x}this._updateBounds()}});function Z_(i,r,l){return new la(i,r,l)}var Ti=Vi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,r){P(this,r),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var r=1/0,l=null,c=Ps,f,m,x=0,T=this._parts.length;x<T;x++)for(var C=this._parts[x],N=1,Y=C.length;N<Y;N++){f=C[N-1],m=C[N];var ut=c(i,f,m,!0);ut<r&&(r=ut,l=c(i,f,m))}return l&&(l.distance=Math.sqrt(r)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Wu(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,r){return r=r||this._defaultShape(),i=st(i),r.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new Lt,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Ye(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var r=[],l=Ye(i),c=0,f=i.length;c<f;c++)l?(r[c]=st(i[c]),this._bounds.extend(r[c])):r[c]=this._convertLatLngs(i[c]);return r},_project:function(){var i=new yt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),r=new H(i,i);this._rawPxBounds&&(this._pxBounds=new yt([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(i,r,l){var c=i[0]instanceof xt,f=i.length,m,x;if(c){for(x=[],m=0;m<f;m++)x[m]=this._map.latLngToLayerPoint(i[m]),l.extend(x[m]);r.push(x)}else for(m=0;m<f;m++)this._projectLatlngs(i[m],r,l)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,l,c,f,m,x,T,C;for(l=0,f=0,m=this._rings.length;l<m;l++)for(C=this._rings[l],c=0,x=C.length;c<x-1;c++)T=Hu(C[c],C[c+1],i,c,!0),T&&(r[f]=r[f]||[],r[f].push(T[0]),(T[1]!==C[c+1]||c===x-2)&&(r[f].push(T[1]),f++))}},_simplifyPoints:function(){for(var i=this._parts,r=this.options.smoothFactor,l=0,c=i.length;l<c;l++)i[l]=zu(i[l],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,r){var l,c,f,m,x,T,C=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(l=0,m=this._parts.length;l<m;l++)for(T=this._parts[l],c=0,x=T.length,f=x-1;c<x;f=c++)if(!(!r&&c===0)&&Bu(i,T[f],T[c])<=C)return!0;return!1}});function H_(i,r){return new Ti(i,r)}Ti._flat=ju;var Hn=Ti.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $u(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var r=Ti.prototype._convertLatLngs.call(this,i),l=r.length;return l>=2&&r[0]instanceof xt&&r[0].equals(r[l-1])&&r.pop(),r},_setLatLngs:function(i){Ti.prototype._setLatLngs.call(this,i),Ye(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ye(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,r=this.options.weight,l=new H(r,r);if(i=new yt(i.min.subtract(l),i.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,f=this._rings.length,m;c<f;c++)m=Nu(this._rings[c],i,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var r=!1,l,c,f,m,x,T,C,N;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(m=0,C=this._parts.length;m<C;m++)for(l=this._parts[m],x=0,N=l.length,T=N-1;x<N;T=x++)c=l[x],f=l[T],c.y>i.y!=f.y>i.y&&i.x<(f.x-c.x)*(i.y-c.y)/(f.y-c.y)+c.x&&(r=!r);return r||Ti.prototype._containsPoint.call(this,i,!0)}});function j_(i,r){return new Hn(i,r)}var ki=Ei.extend({initialize:function(i,r){P(this,r),this._layers={},i&&this.addData(i)},addData:function(i){var r=D(i)?i:i.features,l,c,f;if(r){for(l=0,c=r.length;l<c;l++)f=r[l],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var m=this.options;if(m.filter&&!m.filter(i))return this;var x=Sr(i,m);return x?(x.feature=kr(i),x.defaultOptions=x.options,this.resetStyle(x),m.onEachFeature&&m.onEachFeature(i,x),this.addLayer(x)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=o({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(r){this._setLayerStyle(r,i)},this)},_setLayerStyle:function(i,r){i.setStyle&&(typeof r=="function"&&(r=r(i.feature)),i.setStyle(r))}});function Sr(i,r){var l=i.type==="Feature"?i.geometry:i,c=l?l.coordinates:null,f=[],m=r&&r.pointToLayer,x=r&&r.coordsToLatLng||ua,T,C,N,Y;if(!c&&!l)return null;switch(l.type){case"Point":return T=x(c),Vu(m,i,T,r);case"MultiPoint":for(N=0,Y=c.length;N<Y;N++)T=x(c[N]),f.push(Vu(m,i,T,r));return new Ei(f);case"LineString":case"MultiLineString":return C=Er(c,l.type==="LineString"?0:1,x),new Ti(C,r);case"Polygon":case"MultiPolygon":return C=Er(c,l.type==="Polygon"?1:2,x),new Hn(C,r);case"GeometryCollection":for(N=0,Y=l.geometries.length;N<Y;N++){var ut=Sr({geometry:l.geometries[N],type:"Feature",properties:i.properties},r);ut&&f.push(ut)}return new Ei(f);case"FeatureCollection":for(N=0,Y=l.features.length;N<Y;N++){var Et=Sr(l.features[N],r);Et&&f.push(Et)}return new Ei(f);default:throw new Error("Invalid GeoJSON object.")}}function Vu(i,r,l,c){return i?i(r,l):new xr(l,c&&c.markersInheritOptions&&c)}function ua(i){return new xt(i[1],i[0],i[2])}function Er(i,r,l){for(var c=[],f=0,m=i.length,x;f<m;f++)x=r?Er(i[f],r-1,l):(l||ua)(i[f]),c.push(x);return c}function ca(i,r){return i=st(i),i.alt!==void 0?[v(i.lng,r),v(i.lat,r),v(i.alt,r)]:[v(i.lng,r),v(i.lat,r)]}function Tr(i,r,l,c){for(var f=[],m=0,x=i.length;m<x;m++)f.push(r?Tr(i[m],Ye(i[m])?0:r-1,l,c):ca(i[m],c));return!r&&l&&f.length>0&&f.push(f[0].slice()),f}function jn(i,r){return i.feature?o({},i.feature,{geometry:r}):kr(r)}function kr(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var ha={toGeoJSON:function(i){return jn(this,{type:"Point",coordinates:ca(this.getLatLng(),i)})}};xr.include(ha),la.include(ha),Pr.include(ha),Ti.include({toGeoJSON:function(i){var r=!Ye(this._latlngs),l=Tr(this._latlngs,r?1:0,!1,i);return jn(this,{type:(r?"Multi":"")+"LineString",coordinates:l})}}),Hn.include({toGeoJSON:function(i){var r=!Ye(this._latlngs),l=r&&!Ye(this._latlngs[0]),c=Tr(this._latlngs,l?2:r?1:0,!0,i);return r||(c=[c]),jn(this,{type:(l?"Multi":"")+"Polygon",coordinates:c})}}),Bn.include({toMultiPoint:function(i){var r=[];return this.eachLayer(function(l){r.push(l.toGeoJSON(i).geometry.coordinates)}),jn(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(i){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(i);var l=r==="GeometryCollection",c=[];return this.eachLayer(function(f){if(f.toGeoJSON){var m=f.toGeoJSON(i);if(l)c.push(m.geometry);else{var x=kr(m);x.type==="FeatureCollection"?c.push.apply(c,x.features):c.push(x)}}}),l?jn(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function Gu(i,r){return new ki(i,r)}var W_=Gu,Lr=ri.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,r,l){this._url=i,this._bounds=bt(r),P(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Pt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ee(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&$n(this._image),this},bringToBack:function(){return this._map&&zn(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=bt(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",r=this._image=i?this._url:Rt("img");if(Pt(r,"leaflet-image-layer"),this._zoomAnimated&&Pt(r,"leaflet-zoom-animated"),this.options.className&&Pt(r,this.options.className),r.onselectstart=g,r.onmousemove=g,r.onload=u(this.fire,this,"load"),r.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(i){var r=this._map.getZoomScale(i.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;fn(this._image,l,r)},_reset:function(){var i=this._image,r=new yt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=r.getSize();ae(i,r.min),i.style.width=l.x+"px",i.style.height=l.y+"px"},_updateOpacity:function(){Ke(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),q_=function(i,r,l){return new Lr(i,r,l)},Ku=Lr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",r=this._image=i?this._url:Rt("video");if(Pt(r,"leaflet-image-layer"),this._zoomAnimated&&Pt(r,"leaflet-zoom-animated"),this.options.className&&Pt(r,this.options.className),r.onselectstart=g,r.onmousemove=g,r.onloadeddata=u(this.fire,this,"load"),i){for(var l=r.getElementsByTagName("source"),c=[],f=0;f<l.length;f++)c.push(l[f].src);this._url=l.length>0?c:[r.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var x=Rt("source");x.src=this._url[m],r.appendChild(x)}}});function U_(i,r,l){return new Ku(i,r,l)}var Yu=Lr.extend({_initImage:function(){var i=this._image=this._url;Pt(i,"leaflet-image-layer"),this._zoomAnimated&&Pt(i,"leaflet-zoom-animated"),this.options.className&&Pt(i,this.options.className),i.onselectstart=g,i.onmousemove=g}});function V_(i,r,l){return new Yu(i,r,l)}var _i=ri.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,r){i&&(i instanceof xt||D(i))?(this._latlng=st(i),P(this,r)):(P(this,i),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Ke(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Ke(this._container,1),this.bringToFront(),this.options.interactive&&(Pt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Ke(this._container,0),this._removeTimeout=setTimeout(u(ee,void 0,this._container),200)):ee(this._container),this.options.interactive&&(re(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=st(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&$n(this._container),this},bringToBack:function(){return this._map&&zn(this._container),this},_prepareOpen:function(i){var r=this._source;if(!r._map)return!1;if(r instanceof Ei){r=null;var l=this._source._layers;for(var c in l)if(l[c]._map){r=l[c];break}if(!r)return!1;this._source=r}if(!i)if(r.getCenter)i=r.getCenter();else if(r.getLatLng)i=r.getLatLng();else if(r.getBounds)i=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")i.innerHTML=r;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),r=et(this.options.offset),l=this._getAnchor();this._zoomAnimated?ae(this._container,i.add(l)):r=r.add(i).add(l);var c=this._containerBottom=-r.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=c+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});Ct.include({_initOverlay:function(i,r,l,c){var f=r;return f instanceof i||(f=new i(c).setContent(r)),l&&f.setLatLng(l),f}}),ri.include({_initOverlay:function(i,r,l,c){var f=l;return f instanceof i?(P(f,c),f._source=this):(f=r&&!c?r:new i(c,this),f.setContent(l)),f}});var Cr=_i.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,_i.prototype.openOn.call(this,i)},onAdd:function(i){_i.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Vi||this._source.on("preclick",_n))},onRemove:function(i){_i.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Vi||this._source.off("preclick",_n))},getEvents:function(){var i=_i.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",r=this._container=Rt("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=Rt("div",i+"-content-wrapper",r);if(this._contentNode=Rt("div",i+"-content",l),ws(r),ta(this._contentNode),gt(r,"contextmenu",_n),this._tipContainer=Rt("div",i+"-tip-container",r),this._tip=Rt("div",i+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=Rt("a",i+"-close-button",r);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',gt(c,"click",function(f){_e(f),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,r=i.style;r.width="",r.whiteSpace="nowrap";var l=i.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),r.width=l+1+"px",r.whiteSpace="",r.height="";var c=i.offsetHeight,f=this.options.maxHeight,m="leaflet-popup-scrolled";f&&c>f?(r.height=f+"px",Pt(i,m)):re(i,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var r=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),l=this._getAnchor();ae(this._container,r.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,r=parseInt(ms(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+r,c=this._containerWidth,f=new H(this._containerLeft,-l-this._containerBottom);f._add(pn(this._container));var m=i.layerPointToContainerPoint(f),x=et(this.options.autoPanPadding),T=et(this.options.autoPanPaddingTopLeft||x),C=et(this.options.autoPanPaddingBottomRight||x),N=i.getSize(),Y=0,ut=0;m.x+c+C.x>N.x&&(Y=m.x+c-N.x+C.x),m.x-Y-T.x<0&&(Y=m.x-T.x),m.y+l+C.y>N.y&&(ut=m.y+l-N.y+C.y),m.y-ut-T.y<0&&(ut=m.y-T.y),(Y||ut)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([Y,ut]))}},_getAnchor:function(){return et(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),G_=function(i,r){return new Cr(i,r)};Ct.mergeOptions({closePopupOnClick:!0}),Ct.include({openPopup:function(i,r,l){return this._initOverlay(Cr,i,r,l).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),ri.include({bindPopup:function(i,r){return this._popup=this._initOverlay(Cr,this._popup,i,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof Ei||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){gn(i);var r=i.layer||i.target;if(this._popup._source===r&&!(r instanceof Vi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=r,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var Mr=_i.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){_i.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){_i.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=_i.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",r=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Rt("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var r,l,c=this._map,f=this._container,m=c.latLngToContainerPoint(c.getCenter()),x=c.layerPointToContainerPoint(i),T=this.options.direction,C=f.offsetWidth,N=f.offsetHeight,Y=et(this.options.offset),ut=this._getAnchor();T==="top"?(r=C/2,l=N):T==="bottom"?(r=C/2,l=0):T==="center"?(r=C/2,l=N/2):T==="right"?(r=0,l=N/2):T==="left"?(r=C,l=N/2):x.x<m.x?(T="right",r=0,l=N/2):(T="left",r=C+(Y.x+ut.x)*2,l=N/2),i=i.subtract(et(r,l,!0)).add(Y).add(ut),re(f,"leaflet-tooltip-right"),re(f,"leaflet-tooltip-left"),re(f,"leaflet-tooltip-top"),re(f,"leaflet-tooltip-bottom"),Pt(f,"leaflet-tooltip-"+T),ae(f,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Ke(this._container,i)},_animateZoom:function(i){var r=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(r)},_getAnchor:function(){return et(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),K_=function(i,r){return new Mr(i,r)};Ct.include({openTooltip:function(i,r,l){return this._initOverlay(Mr,i,r,l).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),ri.include({bindTooltip:function(i,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Mr,this._tooltip,i,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var r=i?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[r](l),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof Ei||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var r=typeof i.getElement=="function"&&i.getElement();r&&(gt(r,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),gt(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var r=typeof i.getElement=="function"&&i.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var r=i.latlng,l,c;this._tooltip.options.sticky&&i.originalEvent&&(l=this._map.mouseEventToContainerPoint(i.originalEvent),c=this._map.containerPointToLayerPoint(l),r=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(r)}});var Xu=Zn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var r=i&&i.tagName==="DIV"?i:document.createElement("div"),l=this.options;if(l.html instanceof Element?(gr(r),r.appendChild(l.html)):r.innerHTML=l.html!==!1?l.html:"",l.bgPos){var c=et(l.bgPos);r.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function Y_(i){return new Xu(i)}Zn.Default=Ss;var Es=ri.extend({options:{tileSize:256,opacity:1,updateWhenIdle:rt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){P(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),ee(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&($n(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(zn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof H?i:new H(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var r=this.getPane().children,l=-i(-1/0,1/0),c=0,f=r.length,m;c<f;c++)m=r[c].style.zIndex,r[c]!==this._container&&m&&(l=i(l,+m));isFinite(l)&&(this.options.zIndex=l+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!rt.ielt9){Ke(this._container,this.options.opacity);var i=+new Date,r=!1,l=!1;for(var c in this._tiles){var f=this._tiles[c];if(!(!f.current||!f.loaded)){var m=Math.min(1,(i-f.loaded)/200);Ke(f.el,m),m<1?r=!0:(f.active?l=!0:this._onOpaqueTile(f),f.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),r&&(kt(this._fadeFrame),this._fadeFrame=pt(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=Rt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,r=this.options.maxZoom;if(i!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===i?(this._levels[l].el.style.zIndex=r-Math.abs(i-l),this._onUpdateLevel(l)):(ee(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var c=this._levels[i],f=this._map;return c||(c=this._levels[i]={},c.el=Rt("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=r,c.origin=f.project(f.unproject(f.getPixelOrigin()),i).round(),c.zoom=i,this._setZoomTransform(c,f.getCenter(),f.getZoom()),g(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var i,r,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)r=this._tiles[i],r.retain=r.current;for(i in this._tiles)if(r=this._tiles[i],r.current&&!r.active){var c=r.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var r in this._tiles)this._tiles[r].coords.z===i&&this._removeTile(r)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)ee(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,r,l,c){var f=Math.floor(i/2),m=Math.floor(r/2),x=l-1,T=new H(+f,+m);T.z=+x;var C=this._tileCoordsToKey(T),N=this._tiles[C];return N&&N.active?(N.retain=!0,!0):(N&&N.loaded&&(N.retain=!0),x>c?this._retainParent(f,m,x,c):!1)},_retainChildren:function(i,r,l,c){for(var f=2*i;f<2*i+2;f++)for(var m=2*r;m<2*r+2;m++){var x=new H(f,m);x.z=l+1;var T=this._tileCoordsToKey(x),C=this._tiles[T];if(C&&C.active){C.retain=!0;continue}else C&&C.loaded&&(C.retain=!0);l+1<c&&this._retainChildren(f,m,l+1,c)}},_resetView:function(i){var r=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var r=this.options;return r.minNativeZoom!==void 0&&i<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<i?r.maxNativeZoom:i},_setView:function(i,r,l,c){var f=Math.round(r);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var m=this.options.updateWhenZooming&&f!==this._tileZoom;(!c||m)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(i),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(i,r)},_setZoomTransforms:function(i,r){for(var l in this._levels)this._setZoomTransform(this._levels[l],i,r)},_setZoomTransform:function(i,r,l){var c=this._map.getZoomScale(l,i.zoom),f=i.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(r,l)).round();rt.any3d?fn(i.el,f,c):ae(i.el,f)},_resetGrid:function(){var i=this._map,r=i.options.crs,l=this._tileSize=this.getTileSize(),c=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,r.wrapLng[0]],c).x/l.x),Math.ceil(i.project([0,r.wrapLng[1]],c).x/l.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([r.wrapLat[0],0],c).y/l.x),Math.ceil(i.project([r.wrapLat[1],0],c).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var r=this._map,l=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),c=r.getZoomScale(l,this._tileZoom),f=r.project(i,this._tileZoom).floor(),m=r.getSize().divideBy(c*2);return new yt(f.subtract(m),f.add(m))},_update:function(i){var r=this._map;if(r){var l=this._clampZoom(r.getZoom());if(i===void 0&&(i=r.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(i),f=this._pxBoundsToTileRange(c),m=f.getCenter(),x=[],T=this.options.keepBuffer,C=new yt(f.getBottomLeft().subtract([T,-T]),f.getTopRight().add([T,-T]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var N in this._tiles){var Y=this._tiles[N].coords;(Y.z!==this._tileZoom||!C.contains(new H(Y.x,Y.y)))&&(this._tiles[N].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(i,l);return}for(var ut=f.min.y;ut<=f.max.y;ut++)for(var Et=f.min.x;Et<=f.max.x;Et++){var Ce=new H(Et,ut);if(Ce.z=this._tileZoom,!!this._isValidTile(Ce)){var fe=this._tiles[this._tileCoordsToKey(Ce)];fe?fe.current=!0:x.push(Ce)}}if(x.sort(function(Fe,qn){return Fe.distanceTo(m)-qn.distanceTo(m)}),x.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Xe=document.createDocumentFragment();for(Et=0;Et<x.length;Et++)this._addTile(x[Et],Xe);this._level.el.appendChild(Xe)}}}},_isValidTile:function(i){var r=this._map.options.crs;if(!r.infinite){var l=this._globalTileRange;if(!r.wrapLng&&(i.x<l.min.x||i.x>l.max.x)||!r.wrapLat&&(i.y<l.min.y||i.y>l.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(i);return bt(this.options.bounds).overlaps(c)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var r=this._map,l=this.getTileSize(),c=i.scaleBy(l),f=c.add(l),m=r.unproject(c,i.z),x=r.unproject(f,i.z);return[m,x]},_tileCoordsToBounds:function(i){var r=this._tileCoordsToNwSe(i),l=new Lt(r[0],r[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var r=i.split(":"),l=new H(+r[0],+r[1]);return l.z=+r[2],l},_removeTile:function(i){var r=this._tiles[i];r&&(ee(r.el),delete this._tiles[i],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){Pt(i,"leaflet-tile");var r=this.getTileSize();i.style.width=r.x+"px",i.style.height=r.y+"px",i.onselectstart=g,i.onmousemove=g,rt.ielt9&&this.options.opacity<1&&Ke(i,this.options.opacity)},_addTile:function(i,r){var l=this._getTilePos(i),c=this._tileCoordsToKey(i),f=this.createTile(this._wrapCoords(i),u(this._tileReady,this,i));this._initTile(f),this.createTile.length<2&&pt(u(this._tileReady,this,i,null,f)),ae(f,l),this._tiles[c]={el:f,coords:i,current:!0},r.appendChild(f),this.fire("tileloadstart",{tile:f,coords:i})},_tileReady:function(i,r,l){r&&this.fire("tileerror",{error:r,tile:l,coords:i});var c=this._tileCoordsToKey(i);l=this._tiles[c],l&&(l.loaded=+new Date,this._map._fadeAnimated?(Ke(l.el,0),kt(this._fadeFrame),this._fadeFrame=pt(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),r||(Pt(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),rt.ielt9||!this._map._fadeAnimated?pt(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var r=new H(this._wrapX?p(i.x,this._wrapX):i.x,this._wrapY?p(i.y,this._wrapY):i.y);return r.z=i.z,r},_pxBoundsToTileRange:function(i){var r=this.getTileSize();return new yt(i.min.unscaleBy(r).floor(),i.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function X_(i){return new Es(i)}var Wn=Es.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,r){this._url=i,r=P(this,r),r.detectRetina&&rt.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,r){return this._url===i&&r===void 0&&(r=!0),this._url=i,r||this.redraw(),this},createTile:function(i,r){var l=document.createElement("img");return gt(l,"load",u(this._tileOnLoad,this,r,l)),gt(l,"error",u(this._tileOnError,this,r,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(i),l},getTileUrl:function(i){var r={r:rt.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-i.y;this.options.tms&&(r.y=l),r["-y"]=l}return M(this._url,o(r,this.options))},_tileOnLoad:function(i,r){rt.ielt9?setTimeout(u(i,this,null,r),0):i(null,r)},_tileOnError:function(i,r,l){var c=this.options.errorTileUrl;c&&r.getAttribute("src")!==c&&(r.src=c),i(l,r)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,r=this.options.maxZoom,l=this.options.zoomReverse,c=this.options.zoomOffset;return l&&(i=r-i),i+c},_getSubdomain:function(i){var r=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var i,r;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(r=this._tiles[i].el,r.onload=g,r.onerror=g,!r.complete)){r.src=Q;var l=this._tiles[i].coords;ee(r),delete this._tiles[i],this.fire("tileabort",{tile:r,coords:l})}},_removeTile:function(i){var r=this._tiles[i];if(r)return r.el.setAttribute("src",Q),Es.prototype._removeTile.call(this,i)},_tileReady:function(i,r,l){if(!(!this._map||l&&l.getAttribute("src")===Q))return Es.prototype._tileReady.call(this,i,r,l)}});function Ju(i,r){return new Wn(i,r)}var Qu=Wn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,r){this._url=i;var l=o({},this.defaultWmsParams);for(var c in r)c in this.options||(l[c]=r[c]);r=P(this,r);var f=r.detectRetina&&rt.retina?2:1,m=this.getTileSize();l.width=m.x*f,l.height=m.y*f,this.wmsParams=l},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,Wn.prototype.onAdd.call(this,i)},getTileUrl:function(i){var r=this._tileCoordsToNwSe(i),l=this._crs,c=dt(l.project(r[0]),l.project(r[1])),f=c.min,m=c.max,x=(this._wmsVersion>=1.3&&this._crs===qu?[f.y,f.x,m.y,m.x]:[f.x,f.y,m.x,m.y]).join(","),T=Wn.prototype.getTileUrl.call(this,i);return T+z(this.wmsParams,T,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+x},setParams:function(i,r){return o(this.wmsParams,i),r||this.redraw(),this}});function J_(i,r){return new Qu(i,r)}Wn.WMS=Qu,Ju.wms=J_;var Li=ri.extend({options:{padding:.1},initialize:function(i){P(this,i),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Pt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,r){var l=this._map.getZoomScale(r,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,r),m=c.multiplyBy(-l).add(f).subtract(this._map._getNewPixelOrigin(i,r));rt.any3d?fn(this._container,m,l):ae(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,r=this._map.getSize(),l=this._map.containerPointToLayerPoint(r.multiplyBy(-i)).round();this._bounds=new yt(l,l.add(r.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),tc=Li.extend({options:{tolerance:0},getEvents:function(){var i=Li.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Li.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");gt(i,"mousemove",this._onMouseMove,this),gt(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),gt(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){kt(this._redrawRequest),delete this._ctx,ee(this._container),Wt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var r in this._layers)i=this._layers[r],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Li.prototype._update.call(this);var i=this._bounds,r=this._container,l=i.getSize(),c=rt.retina?2:1;ae(r,i.min),r.width=c*l.x,r.height=c*l.y,r.style.width=l.x+"px",r.style.height=l.y+"px",rt.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Li.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[d(i)]=i;var r=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var r=i._order,l=r.next,c=r.prev;l?l.prev=c:this._drawLast=c,c?c.next=l:this._drawFirst=l,delete i._order,delete this._layers[d(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var r=i.options.dashArray.split(/[, ]+/),l=[],c,f;for(f=0;f<r.length;f++){if(c=Number(r[f]),isNaN(c))return;l.push(c)}i.options._dashArray=l}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||pt(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var r=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new yt,this._redrawBounds.extend(i._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(i._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var r=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,r=this._redrawBounds;if(this._ctx.save(),r){var l=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)i=c.layer,(!r||i._pxBounds&&i._pxBounds.intersects(r))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,r){if(this._drawing){var l,c,f,m,x=i._parts,T=x.length,C=this._ctx;if(T){for(C.beginPath(),l=0;l<T;l++){for(c=0,f=x[l].length;c<f;c++)m=x[l][c],C[c?"lineTo":"moveTo"](m.x,m.y);r&&C.closePath()}this._fillStroke(C,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var r=i._point,l=this._ctx,c=Math.max(Math.round(i._radius),1),f=(Math.max(Math.round(i._radiusY),1)||c)/c;f!==1&&(l.save(),l.scale(1,f)),l.beginPath(),l.arc(r.x,r.y/f,c,0,Math.PI*2,!1),f!==1&&l.restore(),this._fillStroke(l,i)}},_fillStroke:function(i,r){var l=r.options;l.fill&&(i.globalAlpha=l.fillOpacity,i.fillStyle=l.fillColor||l.color,i.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(i.setLineDash&&i.setLineDash(r.options&&r.options._dashArray||[]),i.globalAlpha=l.opacity,i.lineWidth=l.weight,i.strokeStyle=l.color,i.lineCap=l.lineCap,i.lineJoin=l.lineJoin,i.stroke())},_onClick:function(i){for(var r=this._map.mouseEventToLayerPoint(i),l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(r)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(l))&&(c=l);this._fireEvent(c?[c]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,r)}},_handleMouseOut:function(i){var r=this._hoveredLayer;r&&(re(this._container,"leaflet-interactive"),this._fireEvent([r],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,r){if(!this._mouseHoverThrottled){for(var l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(r)&&(c=l);c!==this._hoveredLayer&&(this._handleMouseOut(i),c&&(Pt(this._container,"leaflet-interactive"),this._fireEvent([c],i,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,r,l){this._map._fireDOMEvent(r,l||r.type,i)},_bringToFront:function(i){var r=i._order;if(r){var l=r.next,c=r.prev;if(l)l.prev=c;else return;c?c.next=l:l&&(this._drawFirst=l),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(i)}},_bringToBack:function(i){var r=i._order;if(r){var l=r.next,c=r.prev;if(c)c.next=l;else return;l?l.prev=c:c&&(this._drawLast=c),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(i)}}});function ec(i){return rt.canvas?new tc(i):null}var Ts=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Q_={_initContainer:function(){this._container=Rt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Li.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var r=i._container=Ts("shape");Pt(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",i._path=Ts("path"),r.appendChild(i._path),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){var r=i._container;this._container.appendChild(r),i.options.interactive&&i.addInteractiveTarget(r)},_removePath:function(i){var r=i._container;ee(r),i.removeInteractiveTarget(r),delete this._layers[d(i)]},_updateStyle:function(i){var r=i._stroke,l=i._fill,c=i.options,f=i._container;f.stroked=!!c.stroke,f.filled=!!c.fill,c.stroke?(r||(r=i._stroke=Ts("stroke")),f.appendChild(r),r.weight=c.weight+"px",r.color=c.color,r.opacity=c.opacity,c.dashArray?r.dashStyle=D(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=c.lineCap.replace("butt","flat"),r.joinstyle=c.lineJoin):r&&(f.removeChild(r),i._stroke=null),c.fill?(l||(l=i._fill=Ts("fill")),f.appendChild(l),l.color=c.fillColor||c.color,l.opacity=c.fillOpacity):l&&(f.removeChild(l),i._fill=null)},_updateCircle:function(i){var r=i._point.round(),l=Math.round(i._radius),c=Math.round(i._radiusY||l);this._setPath(i,i._empty()?"M0 0":"AL "+r.x+","+r.y+" "+l+","+c+" 0,"+65535*360)},_setPath:function(i,r){i._path.v=r},_bringToFront:function(i){$n(i._container)},_bringToBack:function(i){zn(i._container)}},Ir=rt.vml?Ts:O,ks=Li.extend({_initContainer:function(){this._container=Ir("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ir("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ee(this._container),Wt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Li.prototype._update.call(this);var i=this._bounds,r=i.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,l.setAttribute("width",r.x),l.setAttribute("height",r.y)),ae(l,i.min),l.setAttribute("viewBox",[i.min.x,i.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(i){var r=i._path=Ir("path");i.options.className&&Pt(r,i.options.className),i.options.interactive&&Pt(r,"leaflet-interactive"),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){ee(i._path),i.removeInteractiveTarget(i._path),delete this._layers[d(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var r=i._path,l=i.options;r&&(l.stroke?(r.setAttribute("stroke",l.color),r.setAttribute("stroke-opacity",l.opacity),r.setAttribute("stroke-width",l.weight),r.setAttribute("stroke-linecap",l.lineCap),r.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?r.setAttribute("stroke-dasharray",l.dashArray):r.removeAttribute("stroke-dasharray"),l.dashOffset?r.setAttribute("stroke-dashoffset",l.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),l.fill?(r.setAttribute("fill",l.fillColor||l.color),r.setAttribute("fill-opacity",l.fillOpacity),r.setAttribute("fill-rule",l.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(i,r){this._setPath(i,F(i._parts,r))},_updateCircle:function(i){var r=i._point,l=Math.max(Math.round(i._radius),1),c=Math.max(Math.round(i._radiusY),1)||l,f="a"+l+","+c+" 0 1,0 ",m=i._empty()?"M0 0":"M"+(r.x-l)+","+r.y+f+l*2+",0 "+f+-l*2+",0 ";this._setPath(i,m)},_setPath:function(i,r){i._path.setAttribute("d",r)},_bringToFront:function(i){$n(i._path)},_bringToBack:function(i){zn(i._path)}});rt.vml&&ks.include(Q_);function ic(i){return rt.svg||rt.vml?new ks(i):null}Ct.include({getRenderer:function(i){var r=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var r=this._paneRenderers[i];return r===void 0&&(r=this._createRenderer({pane:i}),this._paneRenderers[i]=r),r},_createRenderer:function(i){return this.options.preferCanvas&&ec(i)||ic(i)}});var nc=Hn.extend({initialize:function(i,r){Hn.prototype.initialize.call(this,this._boundsToLatLngs(i),r)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=bt(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function tg(i,r){return new nc(i,r)}ks.create=Ir,ks.pointsToPath=F,ki.geometryToLayer=Sr,ki.coordsToLatLng=ua,ki.coordsToLatLngs=Er,ki.latLngToCoords=ca,ki.latLngsToCoords=Tr,ki.getFeature=jn,ki.asFeature=kr,Ct.mergeOptions({boxZoom:!0});var sc=pi.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){gt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Wt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ee(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),vs(),Uo(),this._startPoint=this._map.mouseEventToContainerPoint(i),gt(document,{contextmenu:gn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=Rt("div","leaflet-zoom-box",this._container),Pt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var r=new yt(this._point,this._startPoint),l=r.getSize();ae(this._box,r.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(ee(this._box),re(this._container,"leaflet-crosshair")),ys(),Vo(),Wt(document,{contextmenu:gn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var r=new Lt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ct.addInitHook("addHandler","boxZoom",sc),Ct.mergeOptions({doubleClickZoom:!0});var rc=pi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var r=this._map,l=r.getZoom(),c=r.options.zoomDelta,f=i.originalEvent.shiftKey?l-c:l+c;r.options.doubleClickZoom==="center"?r.setZoom(f):r.setZoomAround(i.containerPoint,f)}});Ct.addInitHook("addHandler","doubleClickZoom",rc),Ct.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var oc=pi.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new Ui(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}Pt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){re(this._map._container,"leaflet-grab"),re(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=bt(this._map.options.maxBounds);this._offsetLimit=dt(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var r=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(r),this._prunePositions(r)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,r){return i-(i-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;i.x<r.min.x&&(i.x=this._viscousLimit(i.x,r.min.x)),i.y<r.min.y&&(i.y=this._viscousLimit(i.y,r.min.y)),i.x>r.max.x&&(i.x=this._viscousLimit(i.x,r.max.x)),i.y>r.max.y&&(i.y=this._viscousLimit(i.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,r=Math.round(i/2),l=this._initialWorldOffset,c=this._draggable._newPos.x,f=(c-r+l)%i+r-l,m=(c+r+l)%i-r-l,x=Math.abs(f+l)<Math.abs(m+l)?f:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=x},_onDragEnd:function(i){var r=this._map,l=r.options,c=!l.inertia||i.noInertia||this._times.length<2;if(r.fire("dragend",i),c)r.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,x=l.easeLinearity,T=f.multiplyBy(x/m),C=T.distanceTo([0,0]),N=Math.min(l.inertiaMaxSpeed,C),Y=T.multiplyBy(N/C),ut=N/(l.inertiaDeceleration*x),Et=Y.multiplyBy(-ut/2).round();!Et.x&&!Et.y?r.fire("moveend"):(Et=r._limitOffset(Et,r.options.maxBounds),pt(function(){r.panBy(Et,{duration:ut,easeLinearity:x,noMoveStart:!0,animate:!0})}))}}});Ct.addInitHook("addHandler","dragging",oc),Ct.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ac=pi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),gt(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Wt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,r=document.documentElement,l=i.scrollTop||r.scrollTop,c=i.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(c,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var r=this._panKeys={},l=this.keyCodes,c,f;for(c=0,f=l.left.length;c<f;c++)r[l.left[c]]=[-1*i,0];for(c=0,f=l.right.length;c<f;c++)r[l.right[c]]=[i,0];for(c=0,f=l.down.length;c<f;c++)r[l.down[c]]=[0,i];for(c=0,f=l.up.length;c<f;c++)r[l.up[c]]=[0,-1*i]},_setZoomDelta:function(i){var r=this._zoomKeys={},l=this.keyCodes,c,f;for(c=0,f=l.zoomIn.length;c<f;c++)r[l.zoomIn[c]]=i;for(c=0,f=l.zoomOut.length;c<f;c++)r[l.zoomOut[c]]=-i},_addHooks:function(){gt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Wt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var r=i.keyCode,l=this._map,c;if(r in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(c=this._panKeys[r],i.shiftKey&&(c=et(c).multiplyBy(3)),l.options.maxBounds&&(c=l._limitOffset(et(c),l.options.maxBounds)),l.options.worldCopyJump){var f=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(c)));l.panTo(f)}else l.panBy(c)}else if(r in this._zoomKeys)l.setZoom(l.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;gn(i)}}});Ct.addInitHook("addHandler","keyboard",ac),Ct.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var lc=pi.extend({addHooks:function(){gt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Wt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var r=Ou(i),l=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var c=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),c),gn(i)},_performZoom:function(){var i=this._map,r=i.getZoom(),l=this._map.options.zoomSnap||0;i._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,m=l?Math.ceil(f/l)*l:f,x=i._limitZoom(r+(this._delta>0?m:-m))-r;this._delta=0,this._startTime=null,x&&(i.options.scrollWheelZoom==="center"?i.setZoom(r+x):i.setZoomAround(this._lastMousePos,r+x))}});Ct.addInitHook("addHandler","scrollWheelZoom",lc);var eg=600;Ct.mergeOptions({tapHold:rt.touchNative&&rt.safari&&rt.mobile,tapTolerance:15});var uc=pi.extend({addHooks:function(){gt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Wt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var r=i.touches[0];this._startPos=this._newPos=new H(r.clientX,r.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(gt(document,"touchend",_e),gt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),eg),gt(document,"touchend touchcancel contextmenu",this._cancel,this),gt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){Wt(document,"touchend",_e),Wt(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),Wt(document,"touchend touchcancel contextmenu",this._cancel,this),Wt(document,"touchmove",this._onMove,this)},_onMove:function(i){var r=i.touches[0];this._newPos=new H(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,r){var l=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});l._simulated=!0,r.target.dispatchEvent(l)}});Ct.addInitHook("addHandler","tapHold",uc),Ct.mergeOptions({touchZoom:rt.touch,bounceAtZoomLimits:!0});var cc=pi.extend({addHooks:function(){Pt(this._map._container,"leaflet-touch-zoom"),gt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){re(this._map._container,"leaflet-touch-zoom"),Wt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var r=this._map;if(!(!i.touches||i.touches.length!==2||r._animatingZoom||this._zooming)){var l=r.mouseEventToContainerPoint(i.touches[0]),c=r.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(l.add(c)._divideBy(2))),this._startDist=l.distanceTo(c),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),gt(document,"touchmove",this._onTouchMove,this),gt(document,"touchend touchcancel",this._onTouchEnd,this),_e(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var r=this._map,l=r.mouseEventToContainerPoint(i.touches[0]),c=r.mouseEventToContainerPoint(i.touches[1]),f=l.distanceTo(c)/this._startDist;if(this._zoom=r.getScaleZoom(f,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&f<1||this._zoom>r.getMaxZoom()&&f>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var m=l._add(c)._divideBy(2)._subtract(this._centerPoint);if(f===1&&m.x===0&&m.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),kt(this._animRequest);var x=u(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=pt(x,this,!0),_e(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,kt(this._animRequest),Wt(document,"touchmove",this._onTouchMove,this),Wt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ct.addInitHook("addHandler","touchZoom",cc),Ct.BoxZoom=sc,Ct.DoubleClickZoom=rc,Ct.Drag=oc,Ct.Keyboard=ac,Ct.ScrollWheelZoom=lc,Ct.TapHold=uc,Ct.TouchZoom=cc,n.Bounds=yt,n.Browser=rt,n.CRS=I,n.Canvas=tc,n.Circle=la,n.CircleMarker=Pr,n.Class=At,n.Control=si,n.DivIcon=Xu,n.DivOverlay=_i,n.DomEvent=y_,n.DomUtil=m_,n.Draggable=Ui,n.Evented=_t,n.FeatureGroup=Ei,n.GeoJSON=ki,n.GridLayer=Es,n.Handler=pi,n.Icon=Zn,n.ImageOverlay=Lr,n.LatLng=xt,n.LatLngBounds=Lt,n.Layer=ri,n.LayerGroup=Bn,n.LineUtil=O_,n.Map=Ct,n.Marker=xr,n.Mixin=T_,n.Path=Vi,n.Point=H,n.PolyUtil=k_,n.Polygon=Hn,n.Polyline=Ti,n.Popup=Cr,n.PosAnimation=Ru,n.Projection=R_,n.Rectangle=nc,n.Renderer=Li,n.SVG=ks,n.SVGOverlay=Yu,n.TileLayer=Wn,n.Tooltip=Mr,n.Transformation=It,n.Util=Mt,n.VideoOverlay=Ku,n.bind=u,n.bounds=dt,n.canvas=ec,n.circle=Z_,n.circleMarker=B_,n.control=xs,n.divIcon=Y_,n.extend=o,n.featureGroup=N_,n.geoJSON=Gu,n.geoJson=W_,n.gridLayer=X_,n.icon=$_,n.imageOverlay=q_,n.latLng=st,n.latLngBounds=bt,n.layerGroup=D_,n.map=b_,n.marker=z_,n.point=et,n.polygon=j_,n.polyline=H_,n.popup=G_,n.rectangle=tg,n.setOptions=P,n.stamp=d,n.svg=ic,n.svgOverlay=V_,n.tileLayer=Ju,n.tooltip=K_,n.transformation=b,n.version=s,n.videoOverlay=U_;var ig=window.L;n.noConflict=function(){return window.L=ig,this},window.L=n})})(Al,Al.exports);var hw=Al.exports;const Fs=cw(hw),dw=35,fw=104,pw="#22c55e",Za="#facc15",_w="#ef4444",gw="https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",mw="https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",vw={name:"MapViewer",props:{selectedDate:{type:String,required:!0},isDarkMode:{type:Boolean,default:!1},geojson:{type:Object,default:null}},setup(e){const t=Ae(null),n=Ae([]),s=Ae(null),o=Ae(!1),a=p=>{if(p===null)return Za;const g=Number(p);return isNaN(g)?(console.warn("Invalid MPN value:",p),Za):g<dw?pw:g<=fw?Za:_w},u=p=>{const g=a(p);return Fs.divIcon({html:`
          <div style="width: 16px; height: 32px; color: ${g}">
            <svg viewBox="0 0 32 64" xmlns="http://www.w3.org/2000/svg" width="16" height="32">
              <!-- Cap -->
              <rect x="8" y="2" width="16" height="6" rx="2" fill="#ccc" stroke="black" stroke-width="0.5"/>
              
              <!-- Neck -->
              <rect x="10" y="8" width="12" height="4" rx="2" fill="#eee" stroke="black" stroke-width="0.5"/>

              <!-- Body -->
              <rect x="6" y="12" width="20" height="44" rx="6" fill="currentColor" stroke="white" stroke-width="1"/>

              <!-- Bottom ring -->
              <ellipse cx="16" cy="58" rx="8" ry="2" fill="white" opacity="0.2"/>
            </svg>
          </div>
        `,className:"water-bottle-icon",iconSize:[16,32],iconAnchor:[8,32],popupAnchor:[0,-34]})},h=()=>{if(!t.value)return;s.value&&t.value.removeLayer(s.value);const p=e.isDarkMode?mw:gw;s.value=Fs.tileLayer(p,{attribution:"",maxZoom:19,subdomains:"abcd"}).addTo(t.value),d()},d=()=>{t.value&&n.value.forEach(p=>{const g=p.getPopup();if(g){const v=g.getContent();p.closePopup().unbindPopup(),p.bindPopup(v||"",{className:e.isDarkMode?"dark-mode-popup":""})}})};zi(()=>e.isDarkMode,()=>{h()}),zi(()=>e.geojson,p=>{p&&t.value&&_(p)},{immediate:!0});const _=p=>{if(!t.value){console.error("Map instance is not available");return}let g=t.value.getCenter(),v=t.value.getZoom();for(const y of n.value)y.remove();if(n.value=[],!p.features||p.features.length===0){console.warn("No features found in data");return}console.log(`Total features on map: ${p.features.length}`);for(const y of p.features)try{if(!y.geometry||!y.geometry.coordinates||y.geometry.coordinates.length<2){console.warn("Invalid feature geometry or coordinates");continue}if(!y.properties){console.warn("Missing properties in feature");continue}const S=y.properties.siteName||"",P=y.properties.mpn,z=y.properties.sampleTime||"";if(P===void 0){console.warn("Feature is missing MPN property:",y);continue}const A=y.geometry.coordinates,M=A[1],D=A[0];if(isNaN(M)||isNaN(D)){console.warn("Invalid coordinates (NaN values)");continue}const $=u(P);$.options.popupAnchor=[0,-40];let Q,ct;const lt=Number(P);lt<35?(Q="text-green-500",ct="Acceptable for swimming"):lt<=104?(Q="text-yellow-400",ct="Unacceptable if levels persist"):(Q="text-red-500",ct="Unacceptable for swimming");const nt=Mt=>String(Mt).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),Vt=nt(S),zt=nt(P===null?"N/A":P.toString());let pt=`
            <div class="site-popup">
              <div class="font-semibold text-lg site-name">${Vt}</div>
              <div class="mt-2 ${Q} font-medium text-base">
                ${zt} MPN/100mL
              </div>
              <div class="mt-1 text-sm opacity-75">
                ${ct}
              </div>
          `;if(z){let Mt=z;try{Mt=new Date(z).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:"UTC"})}catch{}const At=nt(Mt);pt+=`<div class="text-xs opacity-75 mt-1">Sampled at ${At}</div>`}if(y.properties.goodCount!==void 0&&y.properties.cautionCount!==void 0&&y.properties.poorCount!==void 0){const Mt=nt(y.properties.goodCount),At=nt(y.properties.cautionCount),Gt=nt(y.properties.poorCount);pt+=`<div class="text-xs opacity-75 mt-1">This season: ${Mt} good, ${At} caution, ${Gt} poor</div>`}if((y.properties.tide||y.properties.rainfall_mm_7day!==void 0)&&(pt+='<div class="text-xs font-medium mt-3 pt-2 border-t border-gray-200">Environmental Conditions:</div>'),y.properties.tide){const Mt=nt(y.properties.tide);pt+=`<div class="text-xs opacity-75 mt-1">
              <span title="Tidal data is taken from nearest NOAA station and is only approximate">${Mt}</span>
            </div>`}if(y.properties.rainfall_mm_7day!==void 0&&y.properties.rainfall_mm_7day!==null){const Mt=y.properties.rainfall_mm_7day||0,Gt=`${Number((Mt*.0393701).toFixed(2))} in (7-day)`,vt=nt(Gt);pt+=`<div class="text-xs opacity-75 mt-1">
              <span title="Rainfall data for the 7 days prior to sample date">Rainfall: ${vt}</span>
            </div>`}pt+="</div>";const kt=Fs.marker([M,D],{icon:$}).bindPopup(pt,{className:e.isDarkMode?"dark-mode-popup":""}).addTo(t.value);kt.on("click",()=>{Hi(ew,{site_name:S})}),n.value.push(kt)}catch(S){console.error("Error processing feature:",S)}if(n.value.length>0)if(o.value)t.value.setView(g,v);else{const y=Fs.featureGroup(n.value);t.value.fitBounds(y.getBounds(),{padding:[30,30]}),o.value=!0}};return fr(()=>{t.value=Fs.map("map").setView([40.7128,-74.006],12),h(),t.value.removeControl(t.value.zoomControl),e.geojson&&_(e.geojson)}),Gl(()=>{t.value&&t.value.remove()}),{map:t,markers:n,tileLayer:s,hasAutoFitted:o,updateTileLayer:h,updateMap:_}}},yw={class:"w-full h-full"};function bw(e,t,n,s,o,a){return jt(),Kt("div",yw,t[0]||(t[0]=[J("div",{id:"map",class:"absolute inset-0"},null,-1)]))}const ww=hn(vw,[["render",bw]]),xw=["F","S","S","M","T","W","Th"],Pw={name:"RainDropLegend",props:{selectedDate:{type:String,required:!0},isDarkMode:{type:Boolean,default:!1},rainfallData:{type:Array,default:()=>[]}},setup(e){const t=Ht(()=>e.rainfallData&&e.rainfallData.length>0?e.rainfallData:[]),n=Ht(()=>t.value.reduce((d,_)=>d+(_||0),0)),s=Ht(()=>n.value.toFixed(2)),o=Ht(()=>t.value.length>0&&t.value.some(d=>d!=null&&d>0));return{activeRainData:t,totalRainfall:n,totalRainfallValue:s,hasValidRainfallData:o,getBarColorClass:d=>d==null?e.isDarkMode?"bg-gray-500":"bg-gray-300":d<.5?e.isDarkMode?"bg-green-600":"bg-green-500":d<3?e.isDarkMode?"bg-yellow-500":"bg-yellow-400":e.isDarkMode?"bg-red-600":"bg-red-500",getDayLabel:d=>xw[d%7],getBarHeight:d=>{const _=t.value.filter(g=>typeof g=="number"&&!Number.isNaN(g)),p=_.length?Math.max(..._):0;return p===0?0:d/p*100}}}},Sw={class:"flex items-end justify-between h-16 mb-1"},Ew={key:0,class:"text-xs opacity-70 mb-1 font-medium"},Tw=["title"],kw={class:"text-xs mt-1 font-medium"},Lw={class:"font-bold"};function Cw(e,t,n,s,o,a){return s.hasValidRainfallData?(jt(),Kt("div",{key:0,class:Xt(["rain-drop-legend p-3 rounded shadow-md",n.isDarkMode?"bg-gray-800 text-gray-200":"bg-white text-gray-800"])},[t[2]||(t[2]=J("h3",{class:"text-xs font-medium mb-2"},"7-Day Rainfall",-1)),J("div",Sw,[(jt(!0),Kt(je,null,vm(s.activeRainData,(u,h)=>(jt(),Kt("div",{key:h,class:"flex flex-col items-center group h-full justify-end"},[u>0?(jt(),Kt("div",Ew,We(u.toFixed(1)),1)):Bi("",!0),J("div",{class:Xt(["w-4 md:w-5 rounded-t transition-all duration-300 shadow-md border border-black/10 min-h-[1px]",s.getBarColorClass(u)]),style:Ln({height:`${s.getBarHeight(u)}%`}),title:`${u!=null?Number(u).toFixed(2):"No data"} inches`},null,14,Tw),J("span",kw,We(s.getDayLabel(h)),1)]))),128))]),J("div",{class:Xt(["text-xs text-center mt-2 pt-2 border-t",n.isDarkMode?"border-gray-700":"border-gray-200"])},[t[0]||(t[0]=J("span",{class:"font-semibold"},"Total rainfall:",-1)),J("span",Lw,We(s.totalRainfallValue),1),t[1]||(t[1]=J("span",null,"in",-1))],2)],2)):Bi("",!0)}const Mw=hn(Pw,[["render",Cw],["__scopeId","data-v-4ade886a"]]),Iw={name:"SampleBarLegend",props:{samples:{type:Array,required:!0},isDarkMode:{type:Boolean,default:!1}},setup(e){const t=Ht(()=>e.samples.filter(d=>Number(d.properties.mpn)<35).length),n=Ht(()=>e.samples.filter(d=>{const _=Number(d.properties.mpn);return _>=35&&_<=104}).length),s=Ht(()=>e.samples.filter(d=>Number(d.properties.mpn)>104).length),o=Ht(()=>e.samples.length),a=Ht(()=>o.value>0?t.value/o.value*100:0),u=Ht(()=>o.value>0?n.value/o.value*100:0),h=Ht(()=>o.value>0?s.value/o.value*100:0);return{greenCount:t,yellowCount:n,redCount:s,totalCount:o,greenPercentage:a,yellowPercentage:u,redPercentage:h}}},Ow={class:"w-full h-4 rounded-full overflow-hidden flex"},Rw=["title"],Aw=["title"],Fw=["title"],Dw={class:"flex justify-between text-xs mt-1"},Nw={class:"flex items-center"},$w={class:"flex items-center"},zw={class:"flex items-center"},Bw={class:"font-bold"};function Zw(e,t,n,s,o,a){return jt(),Kt("div",{class:Xt(["sample-bar-legend p-2 rounded shadow-md",n.isDarkMode?"bg-gray-800 text-gray-200":"bg-white text-gray-800"])},[t[4]||(t[4]=J("h3",{class:"text-xs font-medium mb-1"},"Sample Quality",-1)),J("div",Ow,[s.greenCount>0?(jt(),Kt("div",{key:0,class:"h-full bg-green-500 transition-all duration-500 ease-out",style:Ln({width:`${s.greenPercentage}%`}),title:`${s.greenCount} Good samples`},null,12,Rw)):Bi("",!0),s.yellowCount>0?(jt(),Kt("div",{key:1,class:"h-full bg-yellow-400 transition-all duration-500 ease-out",style:Ln({width:`${s.yellowPercentage}%`}),title:`${s.yellowCount} Moderate samples`},null,12,Aw)):Bi("",!0),s.redCount>0?(jt(),Kt("div",{key:2,class:"h-full bg-red-500 transition-all duration-500 ease-out",style:Ln({width:`${s.redPercentage}%`}),title:`${s.redCount} Poor samples`},null,12,Fw)):Bi("",!0)]),J("div",Dw,[J("div",Nw,[t[0]||(t[0]=J("span",{class:"inline-block w-2 h-2 bg-green-500 rounded-full mr-1"},null,-1)),J("span",null,We(s.greenCount),1)]),J("div",$w,[t[1]||(t[1]=J("span",{class:"inline-block w-2 h-2 bg-yellow-400 rounded-full mr-1"},null,-1)),J("span",null,We(s.yellowCount),1)]),J("div",zw,[t[2]||(t[2]=J("span",{class:"inline-block w-2 h-2 bg-red-500 rounded-full mr-1"},null,-1)),J("span",null,We(s.redCount),1)])]),J("div",{class:Xt(["text-xs text-center mt-2 pt-2 border-t",n.isDarkMode?"border-gray-700":"border-gray-200"])},[t[3]||(t[3]=J("span",{class:"font-semibold"},"Total sites:",-1)),J("span",Bw,We(s.totalCount),1)],2)],2)}const Hw=hn(Iw,[["render",Zw],["__scopeId","data-v-34dd7ac3"]]),jw={name:"DateScroller",props:{dates:{type:Array,required:!0},modelValue:{type:String,required:!0},isDarkMode:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=Ht(()=>e.dates.indexOf(e.modelValue)),s=Ht(()=>n.value>0),o=Ht(()=>n.value<e.dates.length-1),a=Ht(()=>{if(!e.modelValue)return"";try{const[d,_,p]=e.modelValue.split("-").map(Number);return new Date(Date.UTC(d,_-1,p)).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"})}catch{return e.modelValue}});return{currentIndex:n,hasPrevious:s,hasNext:o,formattedModelValue:a,selectPrevious:()=>{if(s.value){const d=e.dates[n.value-1];t("update:modelValue",d)}},selectNext:()=>{if(o.value){const d=e.dates[n.value+1];t("update:modelValue",d)}}}}},Ww={class:"fixed bottom-[calc(4rem+env(safe-area-inset-bottom,0px))] left-1/2 transform -translate-x-1/2 z-30"},qw=["disabled"],Uw={class:"px-2 text-center whitespace-nowrap"},Vw=["disabled"];function Gw(e,t,n,s,o,a){return jt(),Kt("div",Ww,[J("div",{class:Xt(["inline-flex items-center rounded-full px-4 py-2 shadow-md transition-colors duration-300",n.isDarkMode?"bg-gray-800 bg-opacity-90":"bg-white bg-opacity-90"])},[J("button",{class:Xt(["w-8 h-8 flex items-center justify-center mr-2 disabled:opacity-30 focus:outline-none transition-colors duration-300",n.isDarkMode?"text-gray-400 hover:text-white":"text-gray-600 hover:text-black"]),disabled:!s.hasPrevious,"aria-label":"Previous date",onClick:t[0]||(t[0]=(...u)=>s.selectPrevious&&s.selectPrevious(...u))}," ← ",10,qw),J("div",Uw,[J("span",{class:Xt(["font-medium transition-colors duration-300 text-xs sm:text-sm",n.isDarkMode?"text-gray-200":"text-gray-800"])},We(s.formattedModelValue),3)]),J("button",{class:Xt(["w-8 h-8 flex items-center justify-center ml-2 disabled:opacity-30 focus:outline-none transition-colors duration-300",n.isDarkMode?"text-gray-400 hover:text-white":"text-gray-600 hover:text-black"]),disabled:!s.hasNext,"aria-label":"Next date",onClick:t[1]||(t[1]=(...u)=>s.selectNext&&s.selectNext(...u))}," → ",10,Vw)],2)])}const Kw=hn(jw,[["render",Gw]]),Gn=Ae(null);function _u(e){const t=Ht({get:()=>Gn.value===e,set:o=>{o?Gn.value=e:Gn.value===e&&(Gn.value=null)}});return{isOpen:t,togglePopup:()=>{t.value=!t.value},closePopup:()=>{Gn.value===e&&(Gn.value=null)}}}const Yw={name:"InfoPopup",props:{isDarkMode:{type:Boolean,default:!1}},setup(){const{isOpen:e,togglePopup:t}=_u("info"),n=(s=!0)=>{const o=!e.value;t(),o&&s&&Hi(pu,{component:"InfoPopup"})};return fr(()=>{try{localStorage.getItem("hasSeenInfoPopup")||(n(!1),localStorage.setItem("hasSeenInfoPopup","true"))}catch(s){console.error("Failed to access localStorage",s)}}),{isOpen:e,togglePopup:n}}},Xw={class:"flex justify-between items-center mb-2"};function Jw(e,t,n,s,o,a){return jt(),Kt(je,null,[s.isOpen?(jt(),Kt("div",{key:0,class:Xt(["fixed bottom-20 left-1/2 transform -translate-x-1/2 p-4 rounded-lg shadow-lg z-40 max-w-md w-[90%] mx-auto transition-colors duration-300",n.isDarkMode?"bg-gray-800 text-white":"bg-white text-black"])},[J("div",Xw,[t[2]||(t[2]=J("h3",{class:"font-bold"},"About This Map",-1)),J("button",{class:Xt(n.isDarkMode?"text-gray-400 hover:text-white":"text-gray-500 hover:text-gray-700"),onClick:t[0]||(t[0]=u=>s.isOpen=!1)}," × ",2)]),J("div",{class:Xt(["prose text-sm",n.isDarkMode?"text-gray-300":"text-gray-700"])},t[3]||(t[3]=[Ym('<p> This interactive map displays weekly water quality data collected by community scientists through the NYC Water Quality Monitoring program. </p><br><p> Each dot represents a sampling site across NYC&#39;s waterways, color-coded based on the presence of enterococcus bacteria—an indicator of water safety for recreational activities. </p><p class="mt-2"><span class="text-green-500 font-medium">Green</span>: &lt; 35 MPN/100mL - Acceptable for swimming </p><p class="mt-1"><span class="text-yellow-400 font-medium">Yellow</span>: 35-104 MPN/100mL - Unacceptable if levels persist </p><p class="mt-1"><span class="text-red-500 font-medium">Red</span>: &gt; 104 MPN/100mL - Unacceptable for swimming </p>',6)]),2)],2)):Bi("",!0),J("button",{class:Xt(["fixed bottom-[calc(1rem+env(safe-area-inset-bottom,0px))] left-1/2 transform -translate-x-1/2 z-40 rounded-full w-10 h-10 flex items-center justify-center shadow-lg transition-colors duration-300",n.isDarkMode?"bg-gray-800 text-gray-200":"bg-white text-gray-800"]),title:"Information",onClick:t[1]||(t[1]=(...u)=>s.togglePopup&&s.togglePopup(...u))},t[4]||(t[4]=[J("span",{class:"font-semibold text-lg"},"i",-1)]),2)],64)}const Qw=hn(Yw,[["render",Jw]]),tx={name:"DataInfoPopup",props:{isDarkMode:{type:Boolean,default:!1}},setup(){const{isOpen:e,togglePopup:t}=_u("data-info");return{isOpen:e,togglePopup:()=>{const o=!e.value;t(),o&&(Hi(pu,{component:"DataInfoPopup"}),Hi(iw))},trackOutbound:o=>{Hi(qp,{url:o})}}}},ex={class:"flex justify-between items-center mb-2"},ix={class:"mt-2"};function nx(e,t,n,s,o,a){return jt(),Kt(je,null,[s.isOpen?(jt(),Kt("div",{key:0,class:Xt(["fixed bottom-20 left-1/2 transform -translate-x-1/2 p-4 rounded-lg shadow-lg z-40 max-w-md w-[90%] mx-auto transition-colors duration-300",n.isDarkMode?"bg-gray-800 text-white":"bg-white text-black"])},[J("div",ex,[t[3]||(t[3]=J("h3",{class:"font-bold"},"About the Data",-1)),J("button",{class:Xt(n.isDarkMode?"text-gray-400 hover:text-white":"text-gray-500 hover:text-gray-700"),onClick:t[0]||(t[0]=u=>s.isOpen=!1)}," × ",2)]),J("div",{class:Xt(["prose text-sm",n.isDarkMode?"text-gray-300":"text-gray-700"])},[t[6]||(t[6]=J("p",{class:"font-semibold"},"Why heavy rain leads to poor water quality samples:",-1)),t[7]||(t[7]=J("p",null," When it rains heavily, New York City's sewer system—which combines sewage and stormwater in the same pipes—can become overwhelmed. To prevent backups into homes and streets, this excess mixture is discharged directly into waterways like Newtown Creek and the East River through Combined Sewer Overflows (CSOs). These overflows carry untreated sewage, bacteria, and other pollutants into the water, significantly reducing water quality. That's why samples collected after major rain events often show poor results. ",-1)),t[8]||(t[8]=J("p",{class:"mt-2 font-semibold"},"Where our rainfall and tide data come from:",-1)),t[9]||(t[9]=J("p",null," Rainfall data is sourced from NOAA’s National Weather Service, specifically from the Central Park weather station. This provides a consistent benchmark for citywide precipitation. ",-1)),t[10]||(t[10]=J("p",null," Tide data comes from NOAA’s tide predictions, using the Battery (NY) tidal station as a reference. Tidal stage helps us understand how water is moving through the estuary, which affects how pollutants disperse. ",-1)),J("p",ix,[t[4]||(t[4]=Xa(" View the detailed dataset ")),J("a",{href:"https://docs.google.com/spreadsheets/d/12wNiul0QSymg3gO9OdwKkvAms-iHkz2i0hyxl6AP8eQ/edit?gid=0#gid=0",target:"_blank",rel:"noopener",onClick:t[1]||(t[1]=u=>s.trackOutbound("https://docs.google.com/spreadsheets/d/12wNiul0QSymg3gO9OdwKkvAms-iHkz2i0hyxl6AP8eQ/edit?gid=0#gid=0"))},"here"),t[5]||(t[5]=Xa(". "))])],2)],2)):Bi("",!0),J("button",{class:Xt(["fixed bottom-[calc(1rem+env(safe-area-inset-bottom,0px))] left-[calc(50%-4rem)] z-40 rounded-full w-10 h-10 flex items-center justify-center shadow-lg transition-colors duration-300",n.isDarkMode?"bg-gray-800 text-gray-200":"bg-white text-gray-800"]),title:"Data information",onClick:t[2]||(t[2]=(...u)=>s.togglePopup&&s.togglePopup(...u))},t[11]||(t[11]=[J("span",{class:"font-semibold text-lg"},"?",-1)]),2)],64)}const sx=hn(tx,[["render",nx]]),rx={name:"DonatePopup",props:{isDarkMode:{type:Boolean,default:!1}},setup(){const{isOpen:e,togglePopup:t}=_u("donate");return{isOpen:e,togglePopup:()=>{const o=!e.value;t(),o&&(Hi(pu,{component:"DonatePopup"}),Hi(nw))},trackOutbound:o=>{Hi(qp,{url:o})}}}},ox={class:"flex justify-between items-center mb-2"},ax={class:"list-disc pl-5"};function lx(e,t,n,s,o,a){return jt(),Kt(je,null,[s.isOpen?(jt(),Kt("div",{key:0,class:Xt(["fixed bottom-20 left-1/2 transform -translate-x-1/2 p-4 rounded-lg shadow-lg z-40 max-w-md w-[90%] mx-auto transition-colors duration-300",n.isDarkMode?"bg-gray-800 text-white":"bg-white text-black"])},[J("div",ox,[t[4]||(t[4]=J("h3",{class:"font-bold"},"Support the Project",-1)),J("button",{class:Xt(n.isDarkMode?"text-gray-400 hover:text-white":"text-gray-500 hover:text-gray-700"),onClick:t[0]||(t[0]=u=>s.isOpen=!1)}," × ",2)]),J("div",{class:Xt(["prose text-sm",n.isDarkMode?"text-gray-300":"text-gray-700"])},[t[5]||(t[5]=J("p",{class:"mb-2"},"Help expand water quality monitoring by donating or volunteering.",-1)),J("ul",ax,[J("li",null,[J("a",{href:"https://www.billionoysterproject.org/donate",target:"_blank",rel:"noopener",onClick:t[1]||(t[1]=u=>s.trackOutbound("https://www.billionoysterproject.org/donate"))},"Billion Oyster Project")]),J("li",null,[J("a",{href:"https://www.newtowncreekalliance.org/donate/",target:"_blank",rel:"noopener",onClick:t[2]||(t[2]=u=>s.trackOutbound("https://www.newtowncreekalliance.org/donate/"))},"Newtown Creek Alliance")])])],2)],2)):Bi("",!0),J("button",{class:Xt(["fixed bottom-[calc(1rem+env(safe-area-inset-bottom,0px))] left-[calc(50%+2rem)] z-40 rounded-full w-10 h-10 flex items-center justify-center shadow-lg transition-colors duration-300",n.isDarkMode?"bg-gray-800 text-gray-200":"bg-white text-gray-800"]),title:"Donate",onClick:t[3]||(t[3]=(...u)=>s.togglePopup&&s.togglePopup(...u))},t[6]||(t[6]=[J("span",{class:"font-semibold text-lg"},"$",-1)]),2)],64)}const ux=hn(rx,[["render",lx]]);function cx(e){const t=Ae(null),n=Ae(null),s=Ae(!1),o=Ae(null);async function a(u=Oe(e)){var h;if(console.log(`Loading data for date: ${u}`),!u){console.error("No date provided"),o.value="No date provided";return}o.value=null,s.value=!0;try{const d="/nyc-water-app",_=`${d}/data/${u}/enriched.geojson`,p=`${d}/data/${u}/metadata.json`;console.log(`Fetching from: ${_} and ${p}`);const[g,v]=await Promise.all([fetch(_),fetch(p)]);if(!g.ok)throw new Error(`Failed to fetch GeoJSON: ${g.status}`);if(!v.ok)throw new Error(`Failed to fetch metadata: ${v.status}`);const y=await g.json(),S=await v.json();console.log("GeoJSON loaded with features:",(h=y.features)==null?void 0:h.length),console.log("Metadata loaded:",S),t.value=y,n.value=S}catch(d){console.error("Error loading data:",d),o.value=d.message,t.value=null,n.value=null}finally{s.value=!1}}return{data:t,metadata:n,loading:s,error:o,load:a}}const hx={key:0},dx={class:"absolute top-2 left-2 z-10 space-y-2"},fx={key:1,class:"text-center h-screen flex items-center justify-center flex-col"},px={key:0,class:"text-lg"},_x={key:1,class:"text-red-500"},gx={class:"text-lg"},mx={class:"mt-2"},vx={key:2,class:"text-lg"},yx={__name:"[date]",setup(e){const t=Dy(),n=Af(),s=Ae(t.params.date),o=Ae(!0);typeof document<"u"&&(document.documentElement.classList.toggle("dark",o.value),document.body.classList.toggle("dark",o.value));const a=Ae(["2025-05-08","2025-05-15"]),{data:u,metadata:h,loading:d,error:_,load:p}=cx(s);fr(async()=>{await p(),console.log("Data loaded:",u.value)}),zi(()=>t.params.date,v=>{v&&v!==s.value&&(console.log("Route date changed:",v),s.value=v,p(v))}),zi(s,v=>{console.log("Date changed:",v),v&&(p(v),n.push({path:`/${v}`}))}),zi(o,v=>{typeof document<"u"&&(document.documentElement.classList.toggle("dark",v),document.body.classList.toggle("dark",v))});const g=()=>{o.value=!o.value};return(v,y)=>{var S;return jt(),Kt("div",null,[J("button",{onClick:g,class:Xt(["fixed top-4 right-4 z-50 w-10 h-10 rounded-full shadow-md flex items-center justify-center transition-colors duration-300",o.value?"bg-gray-800 text-white":"bg-white text-gray-800"])},We(o.value?"☀️":"🌙"),3),Oe(u)&&Oe(h)?(jt(),Kt("div",hx,[oe(Kw,{dates:a.value,modelValue:s.value,"onUpdate:modelValue":y[0]||(y[0]=P=>s.value=P),isDarkMode:o.value},null,8,["dates","modelValue","isDarkMode"]),J("div",dx,[oe(Hw,{samples:Oe(u).features,isDarkMode:o.value},null,8,["samples","isDarkMode"]),oe(Mw,{selectedDate:s.value,isDarkMode:o.value,rainfallData:((S=Oe(u).features[0])==null?void 0:S.properties.rainByDay)||[]},null,8,["selectedDate","isDarkMode","rainfallData"])]),oe(ww,{selectedDate:s.value,isDarkMode:o.value,geojson:Oe(u)},null,8,["selectedDate","isDarkMode","geojson"]),oe(Qw,{isDarkMode:o.value},null,8,["isDarkMode"]),oe(sx,{isDarkMode:o.value},null,8,["isDarkMode"]),oe(ux,{isDarkMode:o.value},null,8,["isDarkMode"])])):(jt(),Kt("div",fx,[Oe(d)?(jt(),Kt("div",px,"Loading water quality data...")):Oe(_)?(jt(),Kt("div",_x,[J("p",gx,"Error: "+We(Oe(_)),1),J("p",mx,"Could not load data for "+We(s.value),1)])):(jt(),Kt("div",vx,"No data available"))]))])}}},bx="/nyc-water-app/",Up=Ay({history:uy(bx),routes:[{path:"/",component:lw},{path:"/:date",component:yx}]});sw();Up.afterEach(()=>{Hi("$pageview")});const Vp=Mv(zy);Vp.use(Up);Vp.mount("#app");
