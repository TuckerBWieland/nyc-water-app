(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Dl(i){const t=Object.create(null);for(const n of i.split(","))t[n]=1;return n=>n in t}const $t={},ss=[],li=()=>{},D_=()=>!1,Eo=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&(i.charCodeAt(2)>122||i.charCodeAt(2)<97),Fl=i=>i.startsWith("onUpdate:"),oe=Object.assign,Nl=(i,t)=>{const n=i.indexOf(t);n>-1&&i.splice(n,1)},F_=Object.prototype.hasOwnProperty,Rt=(i,t)=>F_.call(i,t),ft=Array.isArray,rs=i=>So(i)==="[object Map]",ed=i=>So(i)==="[object Set]",vt=i=>typeof i=="function",Jt=i=>typeof i=="string",ln=i=>typeof i=="symbol",Ht=i=>i!==null&&typeof i=="object",id=i=>(Ht(i)||vt(i))&&vt(i.then)&&vt(i.catch),nd=Object.prototype.toString,So=i=>nd.call(i),N_=i=>So(i).slice(8,-1),sd=i=>So(i)==="[object Object]",Bl=i=>Jt(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,Ws=Dl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),To=i=>{const t=Object.create(null);return n=>t[n]||(t[n]=i(n))},B_=/-(\w)/g,ni=To(i=>i.replace(B_,(t,n)=>n?n.toUpperCase():"")),z_=/\B([A-Z])/g,zn=To(i=>i.replace(z_,"-$1").toLowerCase()),Lo=To(i=>i.charAt(0).toUpperCase()+i.slice(1)),_a=To(i=>i?`on${Lo(i)}`:""),en=(i,t)=>!Object.is(i,t),ga=(i,...t)=>{for(let n=0;n<i.length;n++)i[n](...t)},rd=(i,t,n,s=!1)=>{Object.defineProperty(i,t,{configurable:!0,enumerable:!1,writable:s,value:n})},$_=i=>{const t=parseFloat(i);return isNaN(t)?i:t},Z_=i=>{const t=Jt(i)?Number(i):NaN;return isNaN(t)?i:t};let hc;const ko=()=>hc||(hc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function An(i){if(ft(i)){const t={};for(let n=0;n<i.length;n++){const s=i[n],o=Jt(s)?j_(s):An(s);if(o)for(const l in o)t[l]=o[l]}return t}else if(Jt(i)||Ht(i))return i}const H_=/;(?![^(]*\))/g,U_=/:([^]+)/,W_=/\/\*[^]*?\*\//g;function j_(i){const t={};return i.replace(W_,"").split(H_).forEach(n=>{if(n){const s=n.split(U_);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Gt(i){let t="";if(Jt(i))t=i;else if(ft(i))for(let n=0;n<i.length;n++){const s=Gt(i[n]);s&&(t+=s+" ")}else if(Ht(i))for(const n in i)i[n]&&(t+=n+" ");return t.trim()}const q_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",V_=Dl(q_);function od(i){return!!i||i===""}const ad=i=>!!(i&&i.__v_isRef===!0),ui=i=>Jt(i)?i:i==null?"":ft(i)||Ht(i)&&(i.toString===nd||!vt(i.toString))?ad(i)?ui(i.value):JSON.stringify(i,ld,2):String(i),ld=(i,t)=>ad(t)?ld(i,t.value):rs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,o],l)=>(n[ma(s,l)+" =>"]=o,n),{})}:ed(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>ma(n))}:ln(t)?ma(t):Ht(t)&&!ft(t)&&!sd(t)?String(t):t,ma=(i,t="")=>{var n;return ln(i)?`Symbol(${(n=i.description)!=null?n:t})`:i};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ze;class G_{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ze,!t&&Ze&&(this.index=(Ze.scopes||(Ze.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Ze;try{return Ze=this,t()}finally{Ze=n}}}on(){Ze=this}off(){Ze=this.parent}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function K_(){return Ze}let zt;const va=new WeakSet;class ud{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ze&&Ze.active&&Ze.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,va.has(this)&&(va.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||hd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,dc(this),dd(this);const t=zt,n=ci;zt=this,ci=!0;try{return this.fn()}finally{fd(this),zt=t,ci=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Zl(t);this.deps=this.depsTail=void 0,dc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?va.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ja(this)&&this.run()}get dirty(){return ja(this)}}let cd=0,js,qs;function hd(i,t=!1){if(i.flags|=8,t){i.next=qs,qs=i;return}i.next=js,js=i}function zl(){cd++}function $l(){if(--cd>0)return;if(qs){let t=qs;for(qs=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let i;for(;js;){let t=js;for(js=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){i||(i=s)}t=n}}if(i)throw i}function dd(i){for(let t=i.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function fd(i){let t,n=i.depsTail,s=n;for(;s;){const o=s.prevDep;s.version===-1?(s===n&&(n=o),Zl(s),Y_(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=o}i.deps=t,i.depsTail=n}function ja(i){for(let t=i.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(pd(t.dep.computed)||t.dep.version!==t.version))return!0;return!!i._dirty}function pd(i){if(i.flags&4&&!(i.flags&16)||(i.flags&=-17,i.globalVersion===Qs))return;i.globalVersion=Qs;const t=i.dep;if(i.flags|=2,t.version>0&&!i.isSSR&&i.deps&&!ja(i)){i.flags&=-3;return}const n=zt,s=ci;zt=i,ci=!0;try{dd(i);const o=i.fn(i._value);(t.version===0||en(o,i._value))&&(i._value=o,t.version++)}catch(o){throw t.version++,o}finally{zt=n,ci=s,fd(i),i.flags&=-3}}function Zl(i,t=!1){const{dep:n,prevSub:s,nextSub:o}=i;if(s&&(s.nextSub=o,i.prevSub=void 0),o&&(o.prevSub=s,i.nextSub=void 0),n.subs===i&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let l=n.computed.deps;l;l=l.nextDep)Zl(l,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Y_(i){const{prevDep:t,nextDep:n}=i;t&&(t.nextDep=n,i.prevDep=void 0),n&&(n.prevDep=t,i.nextDep=void 0)}let ci=!0;const _d=[];function un(){_d.push(ci),ci=!1}function cn(){const i=_d.pop();ci=i===void 0?!0:i}function dc(i){const{cleanup:t}=i;if(i.cleanup=void 0,t){const n=zt;zt=void 0;try{t()}finally{zt=n}}}let Qs=0;class J_{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Hl{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!zt||!ci||zt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==zt)n=this.activeLink=new J_(zt,this),zt.deps?(n.prevDep=zt.depsTail,zt.depsTail.nextDep=n,zt.depsTail=n):zt.deps=zt.depsTail=n,gd(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=zt.depsTail,n.nextDep=void 0,zt.depsTail.nextDep=n,zt.depsTail=n,zt.deps===n&&(zt.deps=s)}return n}trigger(t){this.version++,Qs++,this.notify(t)}notify(t){zl();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{$l()}}}function gd(i){if(i.dep.sc++,i.sub.flags&4){const t=i.dep.computed;if(t&&!i.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)gd(s)}const n=i.dep.subs;n!==i&&(i.prevSub=n,n&&(n.nextSub=i)),i.dep.subs=i}}const qa=new WeakMap,On=Symbol(""),Va=Symbol(""),tr=Symbol("");function be(i,t,n){if(ci&&zt){let s=qa.get(i);s||qa.set(i,s=new Map);let o=s.get(n);o||(s.set(n,o=new Hl),o.map=s,o.key=n),o.track()}}function Bi(i,t,n,s,o,l){const u=qa.get(i);if(!u){Qs++;return}const h=d=>{d&&d.trigger()};if(zl(),t==="clear")u.forEach(h);else{const d=ft(i),_=d&&Bl(n);if(d&&n==="length"){const p=Number(s);u.forEach((m,v)=>{(v==="length"||v===tr||!ln(v)&&v>=p)&&h(m)})}else switch((n!==void 0||u.has(void 0))&&h(u.get(n)),_&&h(u.get(tr)),t){case"add":d?_&&h(u.get("length")):(h(u.get(On)),rs(i)&&h(u.get(Va)));break;case"delete":d||(h(u.get(On)),rs(i)&&h(u.get(Va)));break;case"set":rs(i)&&h(u.get(On));break}}$l()}function Yn(i){const t=At(i);return t===i?t:(be(t,"iterate",tr),Qe(i)?t:t.map(we))}function Mo(i){return be(i=At(i),"iterate",tr),i}const X_={__proto__:null,[Symbol.iterator](){return ya(this,Symbol.iterator,we)},concat(...i){return Yn(this).concat(...i.map(t=>ft(t)?Yn(t):t))},entries(){return ya(this,"entries",i=>(i[1]=we(i[1]),i))},every(i,t){return Mi(this,"every",i,t,void 0,arguments)},filter(i,t){return Mi(this,"filter",i,t,n=>n.map(we),arguments)},find(i,t){return Mi(this,"find",i,t,we,arguments)},findIndex(i,t){return Mi(this,"findIndex",i,t,void 0,arguments)},findLast(i,t){return Mi(this,"findLast",i,t,we,arguments)},findLastIndex(i,t){return Mi(this,"findLastIndex",i,t,void 0,arguments)},forEach(i,t){return Mi(this,"forEach",i,t,void 0,arguments)},includes(...i){return ba(this,"includes",i)},indexOf(...i){return ba(this,"indexOf",i)},join(i){return Yn(this).join(i)},lastIndexOf(...i){return ba(this,"lastIndexOf",i)},map(i,t){return Mi(this,"map",i,t,void 0,arguments)},pop(){return ks(this,"pop")},push(...i){return ks(this,"push",i)},reduce(i,...t){return fc(this,"reduce",i,t)},reduceRight(i,...t){return fc(this,"reduceRight",i,t)},shift(){return ks(this,"shift")},some(i,t){return Mi(this,"some",i,t,void 0,arguments)},splice(...i){return ks(this,"splice",i)},toReversed(){return Yn(this).toReversed()},toSorted(i){return Yn(this).toSorted(i)},toSpliced(...i){return Yn(this).toSpliced(...i)},unshift(...i){return ks(this,"unshift",i)},values(){return ya(this,"values",we)}};function ya(i,t,n){const s=Mo(i),o=s[t]();return s!==i&&!Qe(i)&&(o._next=o.next,o.next=()=>{const l=o._next();return l.value&&(l.value=n(l.value)),l}),o}const Q_=Array.prototype;function Mi(i,t,n,s,o,l){const u=Mo(i),h=u!==i&&!Qe(i),d=u[t];if(d!==Q_[t]){const m=d.apply(i,l);return h?we(m):m}let _=n;u!==i&&(h?_=function(m,v){return n.call(this,we(m),v,i)}:n.length>2&&(_=function(m,v){return n.call(this,m,v,i)}));const p=d.call(u,_,s);return h&&o?o(p):p}function fc(i,t,n,s){const o=Mo(i);let l=n;return o!==i&&(Qe(i)?n.length>3&&(l=function(u,h,d){return n.call(this,u,h,d,i)}):l=function(u,h,d){return n.call(this,u,we(h),d,i)}),o[t](l,...s)}function ba(i,t,n){const s=At(i);be(s,"iterate",tr);const o=s[t](...n);return(o===-1||o===!1)&&ql(n[0])?(n[0]=At(n[0]),s[t](...n)):o}function ks(i,t,n=[]){un(),zl();const s=At(i)[t].apply(i,n);return $l(),cn(),s}const tg=Dl("__proto__,__v_isRef,__isVue"),md=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(ln));function eg(i){ln(i)||(i=String(i));const t=At(this);return be(t,"has",i),t.hasOwnProperty(i)}class vd{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,l=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return l;if(n==="__v_raw")return s===(o?l?hg:xd:l?wd:bd).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const u=ft(t);if(!o){let d;if(u&&(d=X_[n]))return d;if(n==="hasOwnProperty")return eg}const h=Reflect.get(t,n,Pe(t)?t:s);return(ln(n)?md.has(n):tg(n))||(o||be(t,"get",n),l)?h:Pe(h)?u&&Bl(n)?h:h.value:Ht(h)?o?Pd(h):Wl(h):h}}class yd extends vd{constructor(t=!1){super(!1,t)}set(t,n,s,o){let l=t[n];if(!this._isShallow){const d=Dn(l);if(!Qe(s)&&!Dn(s)&&(l=At(l),s=At(s)),!ft(t)&&Pe(l)&&!Pe(s))return d?!1:(l.value=s,!0)}const u=ft(t)&&Bl(n)?Number(n)<t.length:Rt(t,n),h=Reflect.set(t,n,s,Pe(t)?t:o);return t===At(o)&&(u?en(s,l)&&Bi(t,"set",n,s):Bi(t,"add",n,s)),h}deleteProperty(t,n){const s=Rt(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&s&&Bi(t,"delete",n,void 0),o}has(t,n){const s=Reflect.has(t,n);return(!ln(n)||!md.has(n))&&be(t,"has",n),s}ownKeys(t){return be(t,"iterate",ft(t)?"length":On),Reflect.ownKeys(t)}}class ig extends vd{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const ng=new yd,sg=new ig,rg=new yd(!0);const Ga=i=>i,Or=i=>Reflect.getPrototypeOf(i);function og(i,t,n){return function(...s){const o=this.__v_raw,l=At(o),u=rs(l),h=i==="entries"||i===Symbol.iterator&&u,d=i==="keys"&&u,_=o[i](...s),p=n?Ga:t?Ka:we;return!t&&be(l,"iterate",d?Va:On),{next(){const{value:m,done:v}=_.next();return v?{value:m,done:v}:{value:h?[p(m[0]),p(m[1])]:p(m),done:v}},[Symbol.iterator](){return this}}}}function Rr(i){return function(...t){return i==="delete"?!1:i==="clear"?void 0:this}}function ag(i,t){const n={get(o){const l=this.__v_raw,u=At(l),h=At(o);i||(en(o,h)&&be(u,"get",o),be(u,"get",h));const{has:d}=Or(u),_=t?Ga:i?Ka:we;if(d.call(u,o))return _(l.get(o));if(d.call(u,h))return _(l.get(h));l!==u&&l.get(o)},get size(){const o=this.__v_raw;return!i&&be(At(o),"iterate",On),Reflect.get(o,"size",o)},has(o){const l=this.__v_raw,u=At(l),h=At(o);return i||(en(o,h)&&be(u,"has",o),be(u,"has",h)),o===h?l.has(o):l.has(o)||l.has(h)},forEach(o,l){const u=this,h=u.__v_raw,d=At(h),_=t?Ga:i?Ka:we;return!i&&be(d,"iterate",On),h.forEach((p,m)=>o.call(l,_(p),_(m),u))}};return oe(n,i?{add:Rr("add"),set:Rr("set"),delete:Rr("delete"),clear:Rr("clear")}:{add(o){!t&&!Qe(o)&&!Dn(o)&&(o=At(o));const l=At(this);return Or(l).has.call(l,o)||(l.add(o),Bi(l,"add",o,o)),this},set(o,l){!t&&!Qe(l)&&!Dn(l)&&(l=At(l));const u=At(this),{has:h,get:d}=Or(u);let _=h.call(u,o);_||(o=At(o),_=h.call(u,o));const p=d.call(u,o);return u.set(o,l),_?en(l,p)&&Bi(u,"set",o,l):Bi(u,"add",o,l),this},delete(o){const l=At(this),{has:u,get:h}=Or(l);let d=u.call(l,o);d||(o=At(o),d=u.call(l,o)),h&&h.call(l,o);const _=l.delete(o);return d&&Bi(l,"delete",o,void 0),_},clear(){const o=At(this),l=o.size!==0,u=o.clear();return l&&Bi(o,"clear",void 0,void 0),u}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=og(o,i,t)}),n}function Ul(i,t){const n=ag(i,t);return(s,o,l)=>o==="__v_isReactive"?!i:o==="__v_isReadonly"?i:o==="__v_raw"?s:Reflect.get(Rt(n,o)&&o in s?n:s,o,l)}const lg={get:Ul(!1,!1)},ug={get:Ul(!1,!0)},cg={get:Ul(!0,!1)};const bd=new WeakMap,wd=new WeakMap,xd=new WeakMap,hg=new WeakMap;function dg(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function fg(i){return i.__v_skip||!Object.isExtensible(i)?0:dg(N_(i))}function Wl(i){return Dn(i)?i:jl(i,!1,ng,lg,bd)}function pg(i){return jl(i,!1,rg,ug,wd)}function Pd(i){return jl(i,!0,sg,cg,xd)}function jl(i,t,n,s,o){if(!Ht(i)||i.__v_raw&&!(t&&i.__v_isReactive))return i;const l=o.get(i);if(l)return l;const u=fg(i);if(u===0)return i;const h=new Proxy(i,u===2?s:n);return o.set(i,h),h}function os(i){return Dn(i)?os(i.__v_raw):!!(i&&i.__v_isReactive)}function Dn(i){return!!(i&&i.__v_isReadonly)}function Qe(i){return!!(i&&i.__v_isShallow)}function ql(i){return i?!!i.__v_raw:!1}function At(i){const t=i&&i.__v_raw;return t?At(t):i}function _g(i){return!Rt(i,"__v_skip")&&Object.isExtensible(i)&&rd(i,"__v_skip",!0),i}const we=i=>Ht(i)?Wl(i):i,Ka=i=>Ht(i)?Pd(i):i;function Pe(i){return i?i.__v_isRef===!0:!1}function He(i){return gg(i,!1)}function gg(i,t){return Pe(i)?i:new mg(i,t)}class mg{constructor(t,n){this.dep=new Hl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:At(t),this._value=n?t:we(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||Qe(t)||Dn(t);t=s?t:At(t),en(t,n)&&(this._rawValue=t,this._value=s?t:we(t),this.dep.trigger())}}function vg(i){return Pe(i)?i.value:i}const yg={get:(i,t,n)=>t==="__v_raw"?i:vg(Reflect.get(i,t,n)),set:(i,t,n,s)=>{const o=i[t];return Pe(o)&&!Pe(n)?(o.value=n,!0):Reflect.set(i,t,n,s)}};function Ed(i){return os(i)?i:new Proxy(i,yg)}class bg{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Hl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Qs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&zt!==this)return hd(this,!0),!0}get value(){const t=this.dep.track();return pd(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function wg(i,t,n=!1){let s,o;return vt(i)?s=i:(s=i.get,o=i.set),new bg(s,o,n)}const Dr={},to=new WeakMap;let Tn;function xg(i,t=!1,n=Tn){if(n){let s=to.get(n);s||to.set(n,s=[]),s.push(i)}}function Pg(i,t,n=$t){const{immediate:s,deep:o,once:l,scheduler:u,augmentJob:h,call:d}=n,_=D=>o?D:Qe(D)||o===!1||o===0?Qi(D,1):Qi(D);let p,m,v,y,S=!1,x=!1;if(Pe(i)?(m=()=>i.value,S=Qe(i)):os(i)?(m=()=>_(i),S=!0):ft(i)?(x=!0,S=i.some(D=>os(D)||Qe(D)),m=()=>i.map(D=>{if(Pe(D))return D.value;if(os(D))return _(D);if(vt(D))return d?d(D,2):D()})):vt(i)?t?m=d?()=>d(i,2):i:m=()=>{if(v){un();try{v()}finally{cn()}}const D=Tn;Tn=p;try{return d?d(i,3,[y]):i(y)}finally{Tn=D}}:m=li,t&&o){const D=m,W=o===!0?1/0:o;m=()=>Qi(D(),W)}const z=K_(),I=()=>{p.stop(),z&&z.active&&Nl(z.effects,p)};if(l&&t){const D=t;t=(...W)=>{D(...W),I()}}let A=x?new Array(i.length).fill(Dr):Dr;const M=D=>{if(!(!(p.flags&1)||!p.dirty&&!D))if(t){const W=p.run();if(o||S||(x?W.some((at,ot)=>en(at,A[ot])):en(W,A))){v&&v();const at=Tn;Tn=p;try{const ot=[W,A===Dr?void 0:x&&A[0]===Dr?[]:A,y];d?d(t,3,ot):t(...ot),A=W}finally{Tn=at}}}else p.run()};return h&&h(M),p=new ud(m),p.scheduler=u?()=>u(M,!1):M,y=D=>xg(D,!1,p),v=p.onStop=()=>{const D=to.get(p);if(D){if(d)d(D,4);else for(const W of D)W();to.delete(p)}},t?s?M(!0):A=p.run():u?u(M.bind(null,!0),!0):p.run(),I.pause=p.pause.bind(p),I.resume=p.resume.bind(p),I.stop=I,I}function Qi(i,t=1/0,n){if(t<=0||!Ht(i)||i.__v_skip||(n=n||new Set,n.has(i)))return i;if(n.add(i),t--,Pe(i))Qi(i.value,t,n);else if(ft(i))for(let s=0;s<i.length;s++)Qi(i[s],t,n);else if(ed(i)||rs(i))i.forEach(s=>{Qi(s,t,n)});else if(sd(i)){for(const s in i)Qi(i[s],t,n);for(const s of Object.getOwnPropertySymbols(i))Object.prototype.propertyIsEnumerable.call(i,s)&&Qi(i[s],t,n)}return i}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function cr(i,t,n,s){try{return s?i(...s):i()}catch(o){Co(o,t,n)}}function hi(i,t,n,s){if(vt(i)){const o=cr(i,t,n,s);return o&&id(o)&&o.catch(l=>{Co(l,t,n)}),o}if(ft(i)){const o=[];for(let l=0;l<i.length;l++)o.push(hi(i[l],t,n,s));return o}}function Co(i,t,n,s=!0){const o=t?t.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:u}=t&&t.appContext.config||$t;if(t){let h=t.parent;const d=t.proxy,_=`https://vuejs.org/error-reference/#runtime-${n}`;for(;h;){const p=h.ec;if(p){for(let m=0;m<p.length;m++)if(p[m](i,d,_)===!1)return}h=h.parent}if(l){un(),cr(l,null,10,[i,d,_]),cn();return}}Eg(i,n,o,s,u)}function Eg(i,t,n,s=!0,o=!1){if(o)throw i;console.error(i)}const Ce=[];let vi=-1;const as=[];let Gi=null,Qn=0;const Sd=Promise.resolve();let eo=null;function jr(i){const t=eo||Sd;return i?t.then(this?i.bind(this):i):t}function Sg(i){let t=vi+1,n=Ce.length;for(;t<n;){const s=t+n>>>1,o=Ce[s],l=er(o);l<i||l===i&&o.flags&2?t=s+1:n=s}return t}function Vl(i){if(!(i.flags&1)){const t=er(i),n=Ce[Ce.length-1];!n||!(i.flags&2)&&t>=er(n)?Ce.push(i):Ce.splice(Sg(t),0,i),i.flags|=1,Td()}}function Td(){eo||(eo=Sd.then(kd))}function Tg(i){ft(i)?as.push(...i):Gi&&i.id===-1?Gi.splice(Qn+1,0,i):i.flags&1||(as.push(i),i.flags|=1),Td()}function pc(i,t,n=vi+1){for(;n<Ce.length;n++){const s=Ce[n];if(s&&s.flags&2){if(i&&s.id!==i.uid)continue;Ce.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Ld(i){if(as.length){const t=[...new Set(as)].sort((n,s)=>er(n)-er(s));if(as.length=0,Gi){Gi.push(...t);return}for(Gi=t,Qn=0;Qn<Gi.length;Qn++){const n=Gi[Qn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Gi=null,Qn=0}}const er=i=>i.id==null?i.flags&2?-1:1/0:i.id;function kd(i){const t=li;try{for(vi=0;vi<Ce.length;vi++){const n=Ce[vi];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),cr(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;vi<Ce.length;vi++){const n=Ce[vi];n&&(n.flags&=-2)}vi=-1,Ce.length=0,Ld(),eo=null,(Ce.length||as.length)&&kd()}}let Je=null,Md=null;function io(i){const t=Je;return Je=i,Md=i&&i.type.__scopeId||null,t}function Cd(i,t=Je,n){if(!t||i._n)return i;const s=(...o)=>{s._d&&Ec(-1);const l=io(t);let u;try{u=i(...o)}finally{io(l),s._d&&Ec(1)}return u};return s._n=!0,s._c=!0,s._d=!0,s}function vn(i,t,n,s){const o=i.dirs,l=t&&t.dirs;for(let u=0;u<o.length;u++){const h=o[u];l&&(h.oldValue=l[u].value);let d=h.dir[s];d&&(un(),hi(d,n,8,[i.el,h,i,t]),cn())}}const Lg=Symbol("_vte"),Id=i=>i.__isTeleport,Ki=Symbol("_leaveCb"),Fr=Symbol("_enterCb");function kg(){const i={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return hr(()=>{i.isMounted=!0}),zd(()=>{i.isUnmounting=!0}),i}const Ye=[Function,Array],Ad={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ye,onEnter:Ye,onAfterEnter:Ye,onEnterCancelled:Ye,onBeforeLeave:Ye,onLeave:Ye,onAfterLeave:Ye,onLeaveCancelled:Ye,onBeforeAppear:Ye,onAppear:Ye,onAfterAppear:Ye,onAppearCancelled:Ye},Od=i=>{const t=i.subTree;return t.component?Od(t.component):t},Mg={name:"BaseTransition",props:Ad,setup(i,{slots:t}){const n=km(),s=kg();return()=>{const o=t.default&&Fd(t.default(),!0);if(!o||!o.length)return;const l=Rd(o),u=At(i),{mode:h}=u;if(s.isLeaving)return wa(l);const d=_c(l);if(!d)return wa(l);let _=Ya(d,u,s,n,m=>_=m);d.type!==Ne&&ir(d,_);let p=n.subTree&&_c(n.subTree);if(p&&p.type!==Ne&&!Mn(d,p)&&Od(n).type!==Ne){let m=Ya(p,u,s,n);if(ir(p,m),h==="out-in"&&d.type!==Ne)return s.isLeaving=!0,m.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete m.afterLeave,p=void 0},wa(l);h==="in-out"&&d.type!==Ne?m.delayLeave=(v,y,S)=>{const x=Dd(s,p);x[String(p.key)]=p,v[Ki]=()=>{y(),v[Ki]=void 0,delete _.delayedLeave,p=void 0},_.delayedLeave=()=>{S(),delete _.delayedLeave,p=void 0}}:p=void 0}else p&&(p=void 0);return l}}};function Rd(i){let t=i[0];if(i.length>1){for(const n of i)if(n.type!==Ne){t=n;break}}return t}const Cg=Mg;function Dd(i,t){const{leavingVNodes:n}=i;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function Ya(i,t,n,s,o){const{appear:l,mode:u,persisted:h=!1,onBeforeEnter:d,onEnter:_,onAfterEnter:p,onEnterCancelled:m,onBeforeLeave:v,onLeave:y,onAfterLeave:S,onLeaveCancelled:x,onBeforeAppear:z,onAppear:I,onAfterAppear:A,onAppearCancelled:M}=t,D=String(i.key),W=Dd(n,i),at=(tt,ct)=>{tt&&hi(tt,s,9,ct)},ot=(tt,ct)=>{const st=ct[1];at(tt,ct),ft(tt)?tt.every($=>$.length<=1)&&st():tt.length<=1&&st()},X={mode:u,persisted:h,beforeEnter(tt){let ct=d;if(!n.isMounted)if(l)ct=z||d;else return;tt[Ki]&&tt[Ki](!0);const st=W[D];st&&Mn(i,st)&&st.el[Ki]&&st.el[Ki](),at(ct,[tt])},enter(tt){let ct=_,st=p,$=m;if(!n.isMounted)if(l)ct=I||_,st=A||p,$=M||m;else return;let Et=!1;const _t=tt[Fr]=Ft=>{Et||(Et=!0,Ft?at($,[tt]):at(st,[tt]),X.delayedLeave&&X.delayedLeave(),tt[Fr]=void 0)};ct?ot(ct,[tt,_t]):_t()},leave(tt,ct){const st=String(i.key);if(tt[Fr]&&tt[Fr](!0),n.isUnmounting)return ct();at(v,[tt]);let $=!1;const Et=tt[Ki]=_t=>{$||($=!0,ct(),_t?at(x,[tt]):at(S,[tt]),tt[Ki]=void 0,W[st]===i&&delete W[st])};W[st]=i,y?ot(y,[tt,Et]):Et()},clone(tt){const ct=Ya(tt,t,n,s,o);return o&&o(ct),ct}};return X}function wa(i){if(Io(i))return i=on(i),i.children=null,i}function _c(i){if(!Io(i))return Id(i.type)&&i.children?Rd(i.children):i;const{shapeFlag:t,children:n}=i;if(n){if(t&16)return n[0];if(t&32&&vt(n.default))return n.default()}}function ir(i,t){i.shapeFlag&6&&i.component?(i.transition=t,ir(i.component.subTree,t)):i.shapeFlag&128?(i.ssContent.transition=t.clone(i.ssContent),i.ssFallback.transition=t.clone(i.ssFallback)):i.transition=t}function Fd(i,t=!1,n){let s=[],o=0;for(let l=0;l<i.length;l++){let u=i[l];const h=n==null?u.key:String(n)+String(u.key!=null?u.key:l);u.type===Ue?(u.patchFlag&128&&o++,s=s.concat(Fd(u.children,t,h))):(t||u.type!==Ne)&&s.push(h!=null?on(u,{key:h}):u)}if(o>1)for(let l=0;l<s.length;l++)s[l].patchFlag=-2;return s}function Nd(i){i.ids=[i.ids[0]+i.ids[2]+++"-",0,0]}function no(i,t,n,s,o=!1){if(ft(i)){i.forEach((S,x)=>no(S,t&&(ft(t)?t[x]:t),n,s,o));return}if(Vs(s)&&!o){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&no(i,t,n,s.component.subTree);return}const l=s.shapeFlag&4?Xl(s.component):s.el,u=o?null:l,{i:h,r:d}=i,_=t&&t.r,p=h.refs===$t?h.refs={}:h.refs,m=h.setupState,v=At(m),y=m===$t?()=>!1:S=>Rt(v,S);if(_!=null&&_!==d&&(Jt(_)?(p[_]=null,y(_)&&(m[_]=null)):Pe(_)&&(_.value=null)),vt(d))cr(d,h,12,[u,p]);else{const S=Jt(d),x=Pe(d);if(S||x){const z=()=>{if(i.f){const I=S?y(d)?m[d]:p[d]:d.value;o?ft(I)&&Nl(I,l):ft(I)?I.includes(l)||I.push(l):S?(p[d]=[l],y(d)&&(m[d]=p[d])):(d.value=[l],i.k&&(p[i.k]=d.value))}else S?(p[d]=u,y(d)&&(m[d]=u)):x&&(d.value=u,i.k&&(p[i.k]=u))};u?(z.id=-1,$e(z,n)):z()}}}ko().requestIdleCallback;ko().cancelIdleCallback;const Vs=i=>!!i.type.__asyncLoader,Io=i=>i.type.__isKeepAlive;function Ig(i,t){Bd(i,"a",t)}function Ag(i,t){Bd(i,"da",t)}function Bd(i,t,n=fe){const s=i.__wdc||(i.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return i()});if(Ao(t,s,n),n){let o=n.parent;for(;o&&o.parent;)Io(o.parent.vnode)&&Og(s,t,n,o),o=o.parent}}function Og(i,t,n,s){const o=Ao(t,i,s,!0);Gl(()=>{Nl(s[t],o)},n)}function Ao(i,t,n=fe,s=!1){if(n){const o=n[i]||(n[i]=[]),l=t.__weh||(t.__weh=(...u)=>{un();const h=dr(n),d=hi(t,n,i,u);return h(),cn(),d});return s?o.unshift(l):o.push(l),l}}const Hi=i=>(t,n=fe)=>{(!sr||i==="sp")&&Ao(i,(...s)=>t(...s),n)},Rg=Hi("bm"),hr=Hi("m"),Dg=Hi("bu"),Fg=Hi("u"),zd=Hi("bum"),Gl=Hi("um"),Ng=Hi("sp"),Bg=Hi("rtg"),zg=Hi("rtc");function $g(i,t=fe){Ao("ec",i,t)}const $d="components";function Jn(i,t){return Hg($d,i,!0,t)||i}const Zg=Symbol.for("v-ndc");function Hg(i,t,n=!0,s=!1){const o=Je||fe;if(o){const l=o.type;if(i===$d){const h=Om(l,!1);if(h&&(h===t||h===ni(t)||h===Lo(ni(t))))return l}const u=gc(o[i]||l[i],t)||gc(o.appContext[i],t);return!u&&s?l:u}}function gc(i,t){return i&&(i[t]||i[ni(t)]||i[Lo(ni(t))])}function Ug(i,t,n,s){let o;const l=n&&n[s],u=ft(i);if(u||Jt(i)){const h=u&&os(i);let d=!1;h&&(d=!Qe(i),i=Mo(i)),o=new Array(i.length);for(let _=0,p=i.length;_<p;_++)o[_]=t(d?we(i[_]):i[_],_,void 0,l&&l[_])}else if(typeof i=="number"){o=new Array(i);for(let h=0;h<i;h++)o[h]=t(h+1,h,void 0,l&&l[h])}else if(Ht(i))if(i[Symbol.iterator])o=Array.from(i,(h,d)=>t(h,d,void 0,l&&l[d]));else{const h=Object.keys(i);o=new Array(h.length);for(let d=0,_=h.length;d<_;d++){const p=h[d];o[d]=t(i[p],p,d,l&&l[d])}}else o=[];return n&&(n[s]=o),o}const Ja=i=>i?af(i)?Xl(i):Ja(i.parent):null,Gs=oe(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>Ja(i.parent),$root:i=>Ja(i.root),$host:i=>i.ce,$emit:i=>i.emit,$options:i=>Kl(i),$forceUpdate:i=>i.f||(i.f=()=>{Vl(i.update)}),$nextTick:i=>i.n||(i.n=jr.bind(i.proxy)),$watch:i=>hm.bind(i)}),xa=(i,t)=>i!==$t&&!i.__isScriptSetup&&Rt(i,t),Wg={get({_:i},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:o,props:l,accessCache:u,type:h,appContext:d}=i;let _;if(t[0]!=="$"){const y=u[t];if(y!==void 0)switch(y){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return l[t]}else{if(xa(s,t))return u[t]=1,s[t];if(o!==$t&&Rt(o,t))return u[t]=2,o[t];if((_=i.propsOptions[0])&&Rt(_,t))return u[t]=3,l[t];if(n!==$t&&Rt(n,t))return u[t]=4,n[t];Xa&&(u[t]=0)}}const p=Gs[t];let m,v;if(p)return t==="$attrs"&&be(i.attrs,"get",""),p(i);if((m=h.__cssModules)&&(m=m[t]))return m;if(n!==$t&&Rt(n,t))return u[t]=4,n[t];if(v=d.config.globalProperties,Rt(v,t))return v[t]},set({_:i},t,n){const{data:s,setupState:o,ctx:l}=i;return xa(o,t)?(o[t]=n,!0):s!==$t&&Rt(s,t)?(s[t]=n,!0):Rt(i.props,t)||t[0]==="$"&&t.slice(1)in i?!1:(l[t]=n,!0)},has({_:{data:i,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:l}},u){let h;return!!n[u]||i!==$t&&Rt(i,u)||xa(t,u)||(h=l[0])&&Rt(h,u)||Rt(s,u)||Rt(Gs,u)||Rt(o.config.globalProperties,u)},defineProperty(i,t,n){return n.get!=null?i._.accessCache[t]=0:Rt(n,"value")&&this.set(i,t,n.value,null),Reflect.defineProperty(i,t,n)}};function mc(i){return ft(i)?i.reduce((t,n)=>(t[n]=null,t),{}):i}let Xa=!0;function jg(i){const t=Kl(i),n=i.proxy,s=i.ctx;Xa=!1,t.beforeCreate&&vc(t.beforeCreate,i,"bc");const{data:o,computed:l,methods:u,watch:h,provide:d,inject:_,created:p,beforeMount:m,mounted:v,beforeUpdate:y,updated:S,activated:x,deactivated:z,beforeDestroy:I,beforeUnmount:A,destroyed:M,unmounted:D,render:W,renderTracked:at,renderTriggered:ot,errorCaptured:X,serverPrefetch:tt,expose:ct,inheritAttrs:st,components:$,directives:Et,filters:_t}=t;if(_&&qg(_,s,null),u)for(const pt in u){const U=u[pt];vt(U)&&(s[pt]=U.bind(n))}if(o){const pt=o.call(n,n);Ht(pt)&&(i.data=Wl(pt))}if(Xa=!0,l)for(const pt in l){const U=l[pt],Ut=vt(U)?U.bind(n,n):vt(U.get)?U.get.bind(n,n):li,J=!vt(U)&&vt(U.set)?U.set.bind(n):li,yt=de({get:Ut,set:J});Object.defineProperty(s,pt,{enumerable:!0,configurable:!0,get:()=>yt.value,set:et=>yt.value=et})}if(h)for(const pt in h)Zd(h[pt],s,n,pt);if(d){const pt=vt(d)?d.call(n):d;Reflect.ownKeys(pt).forEach(U=>{Xg(U,pt[U])})}p&&vc(p,i,"c");function gt(pt,U){ft(U)?U.forEach(Ut=>pt(Ut.bind(n))):U&&pt(U.bind(n))}if(gt(Rg,m),gt(hr,v),gt(Dg,y),gt(Fg,S),gt(Ig,x),gt(Ag,z),gt($g,X),gt(zg,at),gt(Bg,ot),gt(zd,A),gt(Gl,D),gt(Ng,tt),ft(ct))if(ct.length){const pt=i.exposed||(i.exposed={});ct.forEach(U=>{Object.defineProperty(pt,U,{get:()=>n[U],set:Ut=>n[U]=Ut})})}else i.exposed||(i.exposed={});W&&i.render===li&&(i.render=W),st!=null&&(i.inheritAttrs=st),$&&(i.components=$),Et&&(i.directives=Et),tt&&Nd(i)}function qg(i,t,n=li){ft(i)&&(i=Qa(i));for(const s in i){const o=i[s];let l;Ht(o)?"default"in o?l=qr(o.from||s,o.default,!0):l=qr(o.from||s):l=qr(o),Pe(l)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>l.value,set:u=>l.value=u}):t[s]=l}}function vc(i,t,n){hi(ft(i)?i.map(s=>s.bind(t.proxy)):i.bind(t.proxy),t,n)}function Zd(i,t,n,s){let o=s.includes(".")?ef(n,s):()=>n[s];if(Jt(i)){const l=t[i];vt(l)&&Rn(o,l)}else if(vt(i))Rn(o,i.bind(n));else if(Ht(i))if(ft(i))i.forEach(l=>Zd(l,t,n,s));else{const l=vt(i.handler)?i.handler.bind(n):t[i.handler];vt(l)&&Rn(o,l,i)}}function Kl(i){const t=i.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:l,config:{optionMergeStrategies:u}}=i.appContext,h=l.get(t);let d;return h?d=h:!o.length&&!n&&!s?d=t:(d={},o.length&&o.forEach(_=>so(d,_,u,!0)),so(d,t,u)),Ht(t)&&l.set(t,d),d}function so(i,t,n,s=!1){const{mixins:o,extends:l}=t;l&&so(i,l,n,!0),o&&o.forEach(u=>so(i,u,n,!0));for(const u in t)if(!(s&&u==="expose")){const h=Vg[u]||n&&n[u];i[u]=h?h(i[u],t[u]):t[u]}return i}const Vg={data:yc,props:bc,emits:bc,methods:Fs,computed:Fs,beforeCreate:ke,created:ke,beforeMount:ke,mounted:ke,beforeUpdate:ke,updated:ke,beforeDestroy:ke,beforeUnmount:ke,destroyed:ke,unmounted:ke,activated:ke,deactivated:ke,errorCaptured:ke,serverPrefetch:ke,components:Fs,directives:Fs,watch:Kg,provide:yc,inject:Gg};function yc(i,t){return t?i?function(){return oe(vt(i)?i.call(this,this):i,vt(t)?t.call(this,this):t)}:t:i}function Gg(i,t){return Fs(Qa(i),Qa(t))}function Qa(i){if(ft(i)){const t={};for(let n=0;n<i.length;n++)t[i[n]]=i[n];return t}return i}function ke(i,t){return i?[...new Set([].concat(i,t))]:t}function Fs(i,t){return i?oe(Object.create(null),i,t):t}function bc(i,t){return i?ft(i)&&ft(t)?[...new Set([...i,...t])]:oe(Object.create(null),mc(i),mc(t??{})):t}function Kg(i,t){if(!i)return t;if(!t)return i;const n=oe(Object.create(null),i);for(const s in t)n[s]=ke(i[s],t[s]);return n}function Hd(){return{app:null,config:{isNativeTag:D_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yg=0;function Jg(i,t){return function(s,o=null){vt(s)||(s=oe({},s)),o!=null&&!Ht(o)&&(o=null);const l=Hd(),u=new WeakSet,h=[];let d=!1;const _=l.app={_uid:Yg++,_component:s,_props:o,_container:null,_context:l,_instance:null,version:Fm,get config(){return l.config},set config(p){},use(p,...m){return u.has(p)||(p&&vt(p.install)?(u.add(p),p.install(_,...m)):vt(p)&&(u.add(p),p(_,...m))),_},mixin(p){return l.mixins.includes(p)||l.mixins.push(p),_},component(p,m){return m?(l.components[p]=m,_):l.components[p]},directive(p,m){return m?(l.directives[p]=m,_):l.directives[p]},mount(p,m,v){if(!d){const y=_._ceVNode||Yt(s,o);return y.appContext=l,v===!0?v="svg":v===!1&&(v=void 0),m&&t?t(y,p):i(y,p,v),d=!0,_._container=p,p.__vue_app__=_,Xl(y.component)}},onUnmount(p){h.push(p)},unmount(){d&&(hi(h,_._instance,16),i(null,_._container),delete _._container.__vue_app__)},provide(p,m){return l.provides[p]=m,_},runWithContext(p){const m=ls;ls=_;try{return p()}finally{ls=m}}};return _}}let ls=null;function Xg(i,t){if(fe){let n=fe.provides;const s=fe.parent&&fe.parent.provides;s===n&&(n=fe.provides=Object.create(s)),n[i]=t}}function qr(i,t,n=!1){const s=fe||Je;if(s||ls){const o=ls?ls._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(o&&i in o)return o[i];if(arguments.length>1)return n&&vt(t)?t.call(s&&s.proxy):t}}const Ud={},Wd=()=>Object.create(Ud),jd=i=>Object.getPrototypeOf(i)===Ud;function Qg(i,t,n,s=!1){const o={},l=Wd();i.propsDefaults=Object.create(null),qd(i,t,o,l);for(const u in i.propsOptions[0])u in o||(o[u]=void 0);n?i.props=s?o:pg(o):i.type.props?i.props=o:i.props=l,i.attrs=l}function tm(i,t,n,s){const{props:o,attrs:l,vnode:{patchFlag:u}}=i,h=At(o),[d]=i.propsOptions;let _=!1;if((s||u>0)&&!(u&16)){if(u&8){const p=i.vnode.dynamicProps;for(let m=0;m<p.length;m++){let v=p[m];if(Oo(i.emitsOptions,v))continue;const y=t[v];if(d)if(Rt(l,v))y!==l[v]&&(l[v]=y,_=!0);else{const S=ni(v);o[S]=tl(d,h,S,y,i,!1)}else y!==l[v]&&(l[v]=y,_=!0)}}}else{qd(i,t,o,l)&&(_=!0);let p;for(const m in h)(!t||!Rt(t,m)&&((p=zn(m))===m||!Rt(t,p)))&&(d?n&&(n[m]!==void 0||n[p]!==void 0)&&(o[m]=tl(d,h,m,void 0,i,!0)):delete o[m]);if(l!==h)for(const m in l)(!t||!Rt(t,m))&&(delete l[m],_=!0)}_&&Bi(i.attrs,"set","")}function qd(i,t,n,s){const[o,l]=i.propsOptions;let u=!1,h;if(t)for(let d in t){if(Ws(d))continue;const _=t[d];let p;o&&Rt(o,p=ni(d))?!l||!l.includes(p)?n[p]=_:(h||(h={}))[p]=_:Oo(i.emitsOptions,d)||(!(d in s)||_!==s[d])&&(s[d]=_,u=!0)}if(l){const d=At(n),_=h||$t;for(let p=0;p<l.length;p++){const m=l[p];n[m]=tl(o,d,m,_[m],i,!Rt(_,m))}}return u}function tl(i,t,n,s,o,l){const u=i[n];if(u!=null){const h=Rt(u,"default");if(h&&s===void 0){const d=u.default;if(u.type!==Function&&!u.skipFactory&&vt(d)){const{propsDefaults:_}=o;if(n in _)s=_[n];else{const p=dr(o);s=_[n]=d.call(null,t),p()}}else s=d;o.ce&&o.ce._setProp(n,s)}u[0]&&(l&&!h?s=!1:u[1]&&(s===""||s===zn(n))&&(s=!0))}return s}const em=new WeakMap;function Vd(i,t,n=!1){const s=n?em:t.propsCache,o=s.get(i);if(o)return o;const l=i.props,u={},h=[];let d=!1;if(!vt(i)){const p=m=>{d=!0;const[v,y]=Vd(m,t,!0);oe(u,v),y&&h.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(p),i.extends&&p(i.extends),i.mixins&&i.mixins.forEach(p)}if(!l&&!d)return Ht(i)&&s.set(i,ss),ss;if(ft(l))for(let p=0;p<l.length;p++){const m=ni(l[p]);wc(m)&&(u[m]=$t)}else if(l)for(const p in l){const m=ni(p);if(wc(m)){const v=l[p],y=u[m]=ft(v)||vt(v)?{type:v}:oe({},v),S=y.type;let x=!1,z=!0;if(ft(S))for(let I=0;I<S.length;++I){const A=S[I],M=vt(A)&&A.name;if(M==="Boolean"){x=!0;break}else M==="String"&&(z=!1)}else x=vt(S)&&S.name==="Boolean";y[0]=x,y[1]=z,(x||Rt(y,"default"))&&h.push(m)}}const _=[u,h];return Ht(i)&&s.set(i,_),_}function wc(i){return i[0]!=="$"&&!Ws(i)}const Gd=i=>i[0]==="_"||i==="$stable",Yl=i=>ft(i)?i.map(yi):[yi(i)],im=(i,t,n)=>{if(t._n)return t;const s=Cd((...o)=>Yl(t(...o)),n);return s._c=!1,s},Kd=(i,t,n)=>{const s=i._ctx;for(const o in i){if(Gd(o))continue;const l=i[o];if(vt(l))t[o]=im(o,l,s);else if(l!=null){const u=Yl(l);t[o]=()=>u}}},Yd=(i,t)=>{const n=Yl(t);i.slots.default=()=>n},Jd=(i,t,n)=>{for(const s in t)(n||s!=="_")&&(i[s]=t[s])},nm=(i,t,n)=>{const s=i.slots=Wd();if(i.vnode.shapeFlag&32){const o=t._;o?(Jd(s,t,n),n&&rd(s,"_",o,!0)):Kd(t,s)}else t&&Yd(i,t)},sm=(i,t,n)=>{const{vnode:s,slots:o}=i;let l=!0,u=$t;if(s.shapeFlag&32){const h=t._;h?n&&h===1?l=!1:Jd(o,t,n):(l=!t.$stable,Kd(t,o)),u=t}else t&&(Yd(i,t),u={default:1});if(l)for(const h in o)!Gd(h)&&u[h]==null&&delete o[h]},$e=vm;function rm(i){return om(i)}function om(i,t){const n=ko();n.__VUE__=!0;const{insert:s,remove:o,patchProp:l,createElement:u,createText:h,createComment:d,setText:_,setElementText:p,parentNode:m,nextSibling:v,setScopeId:y=li,insertStaticContent:S}=i,x=(b,P,C,N=null,O=null,F=null,j=void 0,H=null,Z=!!P.dynamicChildren)=>{if(b===P)return;b&&!Mn(b,P)&&(N=ae(b),et(b,O,F,!0),b=null),P.patchFlag===-2&&(Z=!1,P.dynamicChildren=null);const{type:B,ref:lt,shapeFlag:V}=P;switch(B){case Ro:z(b,P,C,N);break;case Ne:I(b,P,C,N);break;case Vr:b==null&&A(P,C,N,j);break;case Ue:$(b,P,C,N,O,F,j,H,Z);break;default:V&1?W(b,P,C,N,O,F,j,H,Z):V&6?Et(b,P,C,N,O,F,j,H,Z):(V&64||V&128)&&B.process(b,P,C,N,O,F,j,H,Z,ie)}lt!=null&&O&&no(lt,b&&b.ref,F,P||b,!P)},z=(b,P,C,N)=>{if(b==null)s(P.el=h(P.children),C,N);else{const O=P.el=b.el;P.children!==b.children&&_(O,P.children)}},I=(b,P,C,N)=>{b==null?s(P.el=d(P.children||""),C,N):P.el=b.el},A=(b,P,C,N)=>{[b.el,b.anchor]=S(b.children,P,C,N,b.el,b.anchor)},M=({el:b,anchor:P},C,N)=>{let O;for(;b&&b!==P;)O=v(b),s(b,C,N),b=O;s(P,C,N)},D=({el:b,anchor:P})=>{let C;for(;b&&b!==P;)C=v(b),o(b),b=C;o(P)},W=(b,P,C,N,O,F,j,H,Z)=>{P.type==="svg"?j="svg":P.type==="math"&&(j="mathml"),b==null?at(P,C,N,O,F,j,H,Z):tt(b,P,O,F,j,H,Z)},at=(b,P,C,N,O,F,j,H)=>{let Z,B;const{props:lt,shapeFlag:V,transition:it,dirs:ht}=b;if(Z=b.el=u(b.type,F,lt&&lt.is,lt),V&8?p(Z,b.children):V&16&&X(b.children,Z,null,N,O,Pa(b,F),j,H),ht&&vn(b,null,N,"created"),ot(Z,b,b.scopeId,j,N),lt){for(const Dt in lt)Dt!=="value"&&!Ws(Dt)&&l(Z,Dt,null,lt[Dt],F,N);"value"in lt&&l(Z,"value",null,lt.value,F),(B=lt.onVnodeBeforeMount)&&gi(B,N,b)}ht&&vn(b,null,N,"beforeMount");const Tt=am(O,it);Tt&&it.beforeEnter(Z),s(Z,P,C),((B=lt&&lt.onVnodeMounted)||Tt||ht)&&$e(()=>{B&&gi(B,N,b),Tt&&it.enter(Z),ht&&vn(b,null,N,"mounted")},O)},ot=(b,P,C,N,O)=>{if(C&&y(b,C),N)for(let F=0;F<N.length;F++)y(b,N[F]);if(O){let F=O.subTree;if(P===F||sf(F.type)&&(F.ssContent===P||F.ssFallback===P)){const j=O.vnode;ot(b,j,j.scopeId,j.slotScopeIds,O.parent)}}},X=(b,P,C,N,O,F,j,H,Z=0)=>{for(let B=Z;B<b.length;B++){const lt=b[B]=H?Yi(b[B]):yi(b[B]);x(null,lt,P,C,N,O,F,j,H)}},tt=(b,P,C,N,O,F,j)=>{const H=P.el=b.el;let{patchFlag:Z,dynamicChildren:B,dirs:lt}=P;Z|=b.patchFlag&16;const V=b.props||$t,it=P.props||$t;let ht;if(C&&yn(C,!1),(ht=it.onVnodeBeforeUpdate)&&gi(ht,C,P,b),lt&&vn(P,b,C,"beforeUpdate"),C&&yn(C,!0),(V.innerHTML&&it.innerHTML==null||V.textContent&&it.textContent==null)&&p(H,""),B?ct(b.dynamicChildren,B,H,C,N,Pa(P,O),F):j||U(b,P,H,null,C,N,Pa(P,O),F,!1),Z>0){if(Z&16)st(H,V,it,C,O);else if(Z&2&&V.class!==it.class&&l(H,"class",null,it.class,O),Z&4&&l(H,"style",V.style,it.style,O),Z&8){const Tt=P.dynamicProps;for(let Dt=0;Dt<Tt.length;Dt++){const It=Tt[Dt],_e=V[It],ne=it[It];(ne!==_e||It==="value")&&l(H,It,_e,ne,O,C)}}Z&1&&b.children!==P.children&&p(H,P.children)}else!j&&B==null&&st(H,V,it,C,O);((ht=it.onVnodeUpdated)||lt)&&$e(()=>{ht&&gi(ht,C,P,b),lt&&vn(P,b,C,"updated")},N)},ct=(b,P,C,N,O,F,j)=>{for(let H=0;H<P.length;H++){const Z=b[H],B=P[H],lt=Z.el&&(Z.type===Ue||!Mn(Z,B)||Z.shapeFlag&70)?m(Z.el):C;x(Z,B,lt,null,N,O,F,j,!0)}},st=(b,P,C,N,O)=>{if(P!==C){if(P!==$t)for(const F in P)!Ws(F)&&!(F in C)&&l(b,F,P[F],null,O,N);for(const F in C){if(Ws(F))continue;const j=C[F],H=P[F];j!==H&&F!=="value"&&l(b,F,H,j,O,N)}"value"in C&&l(b,"value",P.value,C.value,O)}},$=(b,P,C,N,O,F,j,H,Z)=>{const B=P.el=b?b.el:h(""),lt=P.anchor=b?b.anchor:h("");let{patchFlag:V,dynamicChildren:it,slotScopeIds:ht}=P;ht&&(H=H?H.concat(ht):ht),b==null?(s(B,C,N),s(lt,C,N),X(P.children||[],C,lt,O,F,j,H,Z)):V>0&&V&64&&it&&b.dynamicChildren?(ct(b.dynamicChildren,it,C,O,F,j,H),(P.key!=null||O&&P===O.subTree)&&Xd(b,P,!0)):U(b,P,C,lt,O,F,j,H,Z)},Et=(b,P,C,N,O,F,j,H,Z)=>{P.slotScopeIds=H,b==null?P.shapeFlag&512?O.ctx.activate(P,C,N,j,Z):_t(P,C,N,O,F,j,Z):Ft(b,P,Z)},_t=(b,P,C,N,O,F,j)=>{const H=b.component=Lm(b,N,O);if(Io(b)&&(H.ctx.renderer=ie),Mm(H,!1,j),H.asyncDep){if(O&&O.registerDep(H,gt,j),!b.el){const Z=H.subTree=Yt(Ne);I(null,Z,P,C)}}else gt(H,b,P,C,O,F,j)},Ft=(b,P,C)=>{const N=P.component=b.component;if(gm(b,P,C))if(N.asyncDep&&!N.asyncResolved){pt(N,P,C);return}else N.next=P,N.update();else P.el=b.el,N.vnode=P},gt=(b,P,C,N,O,F,j)=>{const H=()=>{if(b.isMounted){let{next:V,bu:it,u:ht,parent:Tt,vnode:Dt}=b;{const ge=Qd(b);if(ge){V&&(V.el=Dt.el,pt(b,V,j)),ge.asyncDep.then(()=>{b.isUnmounted||H()});return}}let It=V,_e;yn(b,!1),V?(V.el=Dt.el,pt(b,V,j)):V=Dt,it&&ga(it),(_e=V.props&&V.props.onVnodeBeforeUpdate)&&gi(_e,Tt,V,Dt),yn(b,!0);const ne=Ea(b),ze=b.subTree;b.subTree=ne,x(ze,ne,m(ze.el),ae(ze),b,O,F),V.el=ne.el,It===null&&mm(b,ne.el),ht&&$e(ht,O),(_e=V.props&&V.props.onVnodeUpdated)&&$e(()=>gi(_e,Tt,V,Dt),O)}else{let V;const{el:it,props:ht}=P,{bm:Tt,m:Dt,parent:It,root:_e,type:ne}=b,ze=Vs(P);if(yn(b,!1),Tt&&ga(Tt),!ze&&(V=ht&&ht.onVnodeBeforeMount)&&gi(V,It,P),yn(b,!0),it&&qe){const ge=()=>{b.subTree=Ea(b),qe(it,b.subTree,b,O,null)};ze&&ne.__asyncHydrate?ne.__asyncHydrate(it,b,ge):ge()}else{_e.ce&&_e.ce._injectChildStyle(ne);const ge=b.subTree=Ea(b);x(null,ge,C,N,b,O,F),P.el=ge.el}if(Dt&&$e(Dt,O),!ze&&(V=ht&&ht.onVnodeMounted)){const ge=P;$e(()=>gi(V,It,ge),O)}(P.shapeFlag&256||It&&Vs(It.vnode)&&It.vnode.shapeFlag&256)&&b.a&&$e(b.a,O),b.isMounted=!0,P=C=N=null}};b.scope.on();const Z=b.effect=new ud(H);b.scope.off();const B=b.update=Z.run.bind(Z),lt=b.job=Z.runIfDirty.bind(Z);lt.i=b,lt.id=b.uid,Z.scheduler=()=>Vl(lt),yn(b,!0),B()},pt=(b,P,C)=>{P.component=b;const N=b.vnode.props;b.vnode=P,b.next=null,tm(b,P.props,N,C),sm(b,P.children,C),un(),pc(b),cn()},U=(b,P,C,N,O,F,j,H,Z=!1)=>{const B=b&&b.children,lt=b?b.shapeFlag:0,V=P.children,{patchFlag:it,shapeFlag:ht}=P;if(it>0){if(it&128){J(B,V,C,N,O,F,j,H,Z);return}else if(it&256){Ut(B,V,C,N,O,F,j,H,Z);return}}ht&8?(lt&16&&ut(B,O,F),V!==B&&p(C,V)):lt&16?ht&16?J(B,V,C,N,O,F,j,H,Z):ut(B,O,F,!0):(lt&8&&p(C,""),ht&16&&X(V,C,N,O,F,j,H,Z))},Ut=(b,P,C,N,O,F,j,H,Z)=>{b=b||ss,P=P||ss;const B=b.length,lt=P.length,V=Math.min(B,lt);let it;for(it=0;it<V;it++){const ht=P[it]=Z?Yi(P[it]):yi(P[it]);x(b[it],ht,C,null,O,F,j,H,Z)}B>lt?ut(b,O,F,!0,!1,V):X(P,C,N,O,F,j,H,Z,V)},J=(b,P,C,N,O,F,j,H,Z)=>{let B=0;const lt=P.length;let V=b.length-1,it=lt-1;for(;B<=V&&B<=it;){const ht=b[B],Tt=P[B]=Z?Yi(P[B]):yi(P[B]);if(Mn(ht,Tt))x(ht,Tt,C,null,O,F,j,H,Z);else break;B++}for(;B<=V&&B<=it;){const ht=b[V],Tt=P[it]=Z?Yi(P[it]):yi(P[it]);if(Mn(ht,Tt))x(ht,Tt,C,null,O,F,j,H,Z);else break;V--,it--}if(B>V){if(B<=it){const ht=it+1,Tt=ht<lt?P[ht].el:N;for(;B<=it;)x(null,P[B]=Z?Yi(P[B]):yi(P[B]),C,Tt,O,F,j,H,Z),B++}}else if(B>it)for(;B<=V;)et(b[B],O,F,!0),B++;else{const ht=B,Tt=B,Dt=new Map;for(B=Tt;B<=it;B++){const Te=P[B]=Z?Yi(P[B]):yi(P[B]);Te.key!=null&&Dt.set(Te.key,B)}let It,_e=0;const ne=it-Tt+1;let ze=!1,ge=0;const Ei=new Array(ne);for(B=0;B<ne;B++)Ei[B]=0;for(B=ht;B<=V;B++){const Te=b[B];if(_e>=ne){et(Te,O,F,!0);continue}let me;if(Te.key!=null)me=Dt.get(Te.key);else for(It=Tt;It<=it;It++)if(Ei[It-Tt]===0&&Mn(Te,P[It])){me=It;break}me===void 0?et(Te,O,F,!0):(Ei[me-Tt]=B+1,me>=ge?ge=me:ze=!0,x(Te,P[me],C,null,O,F,j,H,Z),_e++)}const _s=ze?lm(Ei):ss;for(It=_s.length-1,B=ne-1;B>=0;B--){const Te=Tt+B,me=P[Te],pr=Te+1<lt?P[Te+1].el:N;Ei[B]===0?x(null,me,C,pr,O,F,j,H,Z):ze&&(It<0||B!==_s[It]?yt(me,C,pr,2):It--)}}},yt=(b,P,C,N,O=null)=>{const{el:F,type:j,transition:H,children:Z,shapeFlag:B}=b;if(B&6){yt(b.component.subTree,P,C,N);return}if(B&128){b.suspense.move(P,C,N);return}if(B&64){j.move(b,P,C,ie);return}if(j===Ue){s(F,P,C);for(let V=0;V<Z.length;V++)yt(Z[V],P,C,N);s(b.anchor,P,C);return}if(j===Vr){M(b,P,C);return}if(N!==2&&B&1&&H)if(N===0)H.beforeEnter(F),s(F,P,C),$e(()=>H.enter(F),O);else{const{leave:V,delayLeave:it,afterLeave:ht}=H,Tt=()=>s(F,P,C),Dt=()=>{V(F,()=>{Tt(),ht&&ht()})};it?it(F,Tt,Dt):Dt()}else s(F,P,C)},et=(b,P,C,N=!1,O=!1)=>{const{type:F,props:j,ref:H,children:Z,dynamicChildren:B,shapeFlag:lt,patchFlag:V,dirs:it,cacheIndex:ht}=b;if(V===-2&&(O=!1),H!=null&&no(H,null,C,b,!0),ht!=null&&(P.renderCache[ht]=void 0),lt&256){P.ctx.deactivate(b);return}const Tt=lt&1&&it,Dt=!Vs(b);let It;if(Dt&&(It=j&&j.onVnodeBeforeUnmount)&&gi(It,P,b),lt&6)bt(b.component,C,N);else{if(lt&128){b.suspense.unmount(C,N);return}Tt&&vn(b,null,P,"beforeUnmount"),lt&64?b.type.remove(b,P,C,ie,N):B&&!B.hasOnce&&(F!==Ue||V>0&&V&64)?ut(B,P,C,!1,!0):(F===Ue&&V&384||!O&&lt&16)&&ut(Z,P,C),N&&kt(b)}(Dt&&(It=j&&j.onVnodeUnmounted)||Tt)&&$e(()=>{It&&gi(It,P,b),Tt&&vn(b,null,P,"unmounted")},C)},kt=b=>{const{type:P,el:C,anchor:N,transition:O}=b;if(P===Ue){xt(C,N);return}if(P===Vr){D(b);return}const F=()=>{o(C),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(b.shapeFlag&1&&O&&!O.persisted){const{leave:j,delayLeave:H}=O,Z=()=>j(C,F);H?H(b.el,F,Z):Z()}else F()},xt=(b,P)=>{let C;for(;b!==P;)C=v(b),o(b),b=C;o(P)},bt=(b,P,C)=>{const{bum:N,scope:O,job:F,subTree:j,um:H,m:Z,a:B}=b;xc(Z),xc(B),N&&ga(N),O.stop(),F&&(F.flags|=8,et(j,b,P,C)),H&&$e(H,P),$e(()=>{b.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&b.asyncDep&&!b.asyncResolved&&b.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},ut=(b,P,C,N=!1,O=!1,F=0)=>{for(let j=F;j<b.length;j++)et(b[j],P,C,N,O)},ae=b=>{if(b.shapeFlag&6)return ae(b.component.subTree);if(b.shapeFlag&128)return b.suspense.next();const P=v(b.anchor||b.el),C=P&&P[Lg];return C?v(C):P};let Ae=!1;const dn=(b,P,C)=>{b==null?P._vnode&&et(P._vnode,null,null,!0):x(P._vnode||null,b,P,null,null,null,C),P._vnode=b,Ae||(Ae=!0,pc(),Ld(),Ae=!1)},ie={p:x,um:et,m:yt,r:kt,mt:_t,mc:X,pc:U,pbc:ct,n:ae,o:i};let Pi,qe;return t&&([Pi,qe]=t(ie)),{render:dn,hydrate:Pi,createApp:Jg(dn,Pi)}}function Pa({type:i,props:t},n){return n==="svg"&&i==="foreignObject"||n==="mathml"&&i==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function yn({effect:i,job:t},n){n?(i.flags|=32,t.flags|=4):(i.flags&=-33,t.flags&=-5)}function am(i,t){return(!i||i&&!i.pendingBranch)&&t&&!t.persisted}function Xd(i,t,n=!1){const s=i.children,o=t.children;if(ft(s)&&ft(o))for(let l=0;l<s.length;l++){const u=s[l];let h=o[l];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=o[l]=Yi(o[l]),h.el=u.el),!n&&h.patchFlag!==-2&&Xd(u,h)),h.type===Ro&&(h.el=u.el)}}function lm(i){const t=i.slice(),n=[0];let s,o,l,u,h;const d=i.length;for(s=0;s<d;s++){const _=i[s];if(_!==0){if(o=n[n.length-1],i[o]<_){t[s]=o,n.push(s);continue}for(l=0,u=n.length-1;l<u;)h=l+u>>1,i[n[h]]<_?l=h+1:u=h;_<i[n[l]]&&(l>0&&(t[s]=n[l-1]),n[l]=s)}}for(l=n.length,u=n[l-1];l-- >0;)n[l]=u,u=t[u];return n}function Qd(i){const t=i.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Qd(t)}function xc(i){if(i)for(let t=0;t<i.length;t++)i[t].flags|=8}const um=Symbol.for("v-scx"),cm=()=>qr(um);function Rn(i,t,n){return tf(i,t,n)}function tf(i,t,n=$t){const{immediate:s,deep:o,flush:l,once:u}=n,h=oe({},n),d=t&&s||!t&&l!=="post";let _;if(sr){if(l==="sync"){const y=cm();_=y.__watcherHandles||(y.__watcherHandles=[])}else if(!d){const y=()=>{};return y.stop=li,y.resume=li,y.pause=li,y}}const p=fe;h.call=(y,S,x)=>hi(y,p,S,x);let m=!1;l==="post"?h.scheduler=y=>{$e(y,p&&p.suspense)}:l!=="sync"&&(m=!0,h.scheduler=(y,S)=>{S?y():Vl(y)}),h.augmentJob=y=>{t&&(y.flags|=4),m&&(y.flags|=2,p&&(y.id=p.uid,y.i=p))};const v=Pg(i,t,h);return sr&&(_?_.push(v):d&&v()),v}function hm(i,t,n){const s=this.proxy,o=Jt(i)?i.includes(".")?ef(s,i):()=>s[i]:i.bind(s,s);let l;vt(t)?l=t:(l=t.handler,n=t);const u=dr(this),h=tf(o,l.bind(s),n);return u(),h}function ef(i,t){const n=t.split(".");return()=>{let s=i;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}const dm=(i,t)=>t==="modelValue"||t==="model-value"?i.modelModifiers:i[`${t}Modifiers`]||i[`${ni(t)}Modifiers`]||i[`${zn(t)}Modifiers`];function fm(i,t,...n){if(i.isUnmounted)return;const s=i.vnode.props||$t;let o=n;const l=t.startsWith("update:"),u=l&&dm(s,t.slice(7));u&&(u.trim&&(o=n.map(p=>Jt(p)?p.trim():p)),u.number&&(o=n.map($_)));let h,d=s[h=_a(t)]||s[h=_a(ni(t))];!d&&l&&(d=s[h=_a(zn(t))]),d&&hi(d,i,6,o);const _=s[h+"Once"];if(_){if(!i.emitted)i.emitted={};else if(i.emitted[h])return;i.emitted[h]=!0,hi(_,i,6,o)}}function nf(i,t,n=!1){const s=t.emitsCache,o=s.get(i);if(o!==void 0)return o;const l=i.emits;let u={},h=!1;if(!vt(i)){const d=_=>{const p=nf(_,t,!0);p&&(h=!0,oe(u,p))};!n&&t.mixins.length&&t.mixins.forEach(d),i.extends&&d(i.extends),i.mixins&&i.mixins.forEach(d)}return!l&&!h?(Ht(i)&&s.set(i,null),null):(ft(l)?l.forEach(d=>u[d]=null):oe(u,l),Ht(i)&&s.set(i,u),u)}function Oo(i,t){return!i||!Eo(t)?!1:(t=t.slice(2).replace(/Once$/,""),Rt(i,t[0].toLowerCase()+t.slice(1))||Rt(i,zn(t))||Rt(i,t))}function Ea(i){const{type:t,vnode:n,proxy:s,withProxy:o,propsOptions:[l],slots:u,attrs:h,emit:d,render:_,renderCache:p,props:m,data:v,setupState:y,ctx:S,inheritAttrs:x}=i,z=io(i);let I,A;try{if(n.shapeFlag&4){const D=o||s,W=D;I=yi(_.call(W,D,p,m,y,v,S)),A=h}else{const D=t;I=yi(D.length>1?D(m,{attrs:h,slots:u,emit:d}):D(m,null)),A=t.props?h:pm(h)}}catch(D){Ks.length=0,Co(D,i,1),I=Yt(Ne)}let M=I;if(A&&x!==!1){const D=Object.keys(A),{shapeFlag:W}=M;D.length&&W&7&&(l&&D.some(Fl)&&(A=_m(A,l)),M=on(M,A,!1,!0))}return n.dirs&&(M=on(M,null,!1,!0),M.dirs=M.dirs?M.dirs.concat(n.dirs):n.dirs),n.transition&&ir(M,n.transition),I=M,io(z),I}const pm=i=>{let t;for(const n in i)(n==="class"||n==="style"||Eo(n))&&((t||(t={}))[n]=i[n]);return t},_m=(i,t)=>{const n={};for(const s in i)(!Fl(s)||!(s.slice(9)in t))&&(n[s]=i[s]);return n};function gm(i,t,n){const{props:s,children:o,component:l}=i,{props:u,children:h,patchFlag:d}=t,_=l.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return s?Pc(s,u,_):!!u;if(d&8){const p=t.dynamicProps;for(let m=0;m<p.length;m++){const v=p[m];if(u[v]!==s[v]&&!Oo(_,v))return!0}}}else return(o||h)&&(!h||!h.$stable)?!0:s===u?!1:s?u?Pc(s,u,_):!0:!!u;return!1}function Pc(i,t,n){const s=Object.keys(t);if(s.length!==Object.keys(i).length)return!0;for(let o=0;o<s.length;o++){const l=s[o];if(t[l]!==i[l]&&!Oo(n,l))return!0}return!1}function mm({vnode:i,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===i&&(s.el=i.el),s===i)(i=t.vnode).el=n,t=t.parent;else break}}const sf=i=>i.__isSuspense;function vm(i,t){t&&t.pendingBranch?ft(i)?t.effects.push(...i):t.effects.push(i):Tg(i)}const Ue=Symbol.for("v-fgt"),Ro=Symbol.for("v-txt"),Ne=Symbol.for("v-cmt"),Vr=Symbol.for("v-stc"),Ks=[];let We=null;function ue(i=!1){Ks.push(We=i?null:[])}function ym(){Ks.pop(),We=Ks[Ks.length-1]||null}let nr=1;function Ec(i,t=!1){nr+=i,i<0&&We&&t&&(We.hasOnce=!0)}function rf(i){return i.dynamicChildren=nr>0?We||ss:null,ym(),nr>0&&We&&We.push(i),i}function pe(i,t,n,s,o,l){return rf(rt(i,t,n,s,o,l,!0))}function bm(i,t,n,s,o){return rf(Yt(i,t,n,s,o,!0))}function ro(i){return i?i.__v_isVNode===!0:!1}function Mn(i,t){return i.type===t.type&&i.key===t.key}const of=({key:i})=>i??null,Gr=({ref:i,ref_key:t,ref_for:n})=>(typeof i=="number"&&(i=""+i),i!=null?Jt(i)||Pe(i)||vt(i)?{i:Je,r:i,k:t,f:!!n}:i:null);function rt(i,t=null,n=null,s=0,o=null,l=i===Ue?0:1,u=!1,h=!1){const d={__v_isVNode:!0,__v_skip:!0,type:i,props:t,key:t&&of(t),ref:t&&Gr(t),scopeId:Md,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Je};return h?(Jl(d,n),l&128&&i.normalize(d)):n&&(d.shapeFlag|=Jt(n)?8:16),nr>0&&!u&&We&&(d.patchFlag>0||l&6)&&d.patchFlag!==32&&We.push(d),d}const Yt=wm;function wm(i,t=null,n=null,s=0,o=null,l=!1){if((!i||i===Zg)&&(i=Ne),ro(i)){const h=on(i,t,!0);return n&&Jl(h,n),nr>0&&!l&&We&&(h.shapeFlag&6?We[We.indexOf(i)]=h:We.push(h)),h.patchFlag=-2,h}if(Rm(i)&&(i=i.__vccOpts),t){t=xm(t);let{class:h,style:d}=t;h&&!Jt(h)&&(t.class=Gt(h)),Ht(d)&&(ql(d)&&!ft(d)&&(d=oe({},d)),t.style=An(d))}const u=Jt(i)?1:sf(i)?128:Id(i)?64:Ht(i)?4:vt(i)?2:0;return rt(i,t,n,s,o,u,l,!0)}function xm(i){return i?ql(i)||jd(i)?oe({},i):i:null}function on(i,t,n=!1,s=!1){const{props:o,ref:l,patchFlag:u,children:h,transition:d}=i,_=t?Em(o||{},t):o,p={__v_isVNode:!0,__v_skip:!0,type:i.type,props:_,key:_&&of(_),ref:t&&t.ref?n&&l?ft(l)?l.concat(Gr(t)):[l,Gr(t)]:Gr(t):l,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:h,target:i.target,targetStart:i.targetStart,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:t&&i.type!==Ue?u===-1?16:u|16:u,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:d,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&on(i.ssContent),ssFallback:i.ssFallback&&on(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx,ce:i.ce};return d&&s&&ir(p,d.clone(p)),p}function Kr(i=" ",t=0){return Yt(Ro,null,i,t)}function Pm(i,t){const n=Yt(Vr,null,i);return n.staticCount=t,n}function $i(i="",t=!1){return t?(ue(),bm(Ne,null,i)):Yt(Ne,null,i)}function yi(i){return i==null||typeof i=="boolean"?Yt(Ne):ft(i)?Yt(Ue,null,i.slice()):ro(i)?Yi(i):Yt(Ro,null,String(i))}function Yi(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:on(i)}function Jl(i,t){let n=0;const{shapeFlag:s}=i;if(t==null)t=null;else if(ft(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),Jl(i,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!jd(t)?t._ctx=Je:o===3&&Je&&(Je.slots._===1?t._=1:(t._=2,i.patchFlag|=1024))}else vt(t)?(t={default:t,_ctx:Je},n=32):(t=String(t),s&64?(n=16,t=[Kr(t)]):n=8);i.children=t,i.shapeFlag|=n}function Em(...i){const t={};for(let n=0;n<i.length;n++){const s=i[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=Gt([t.class,s.class]));else if(o==="style")t.style=An([t.style,s.style]);else if(Eo(o)){const l=t[o],u=s[o];u&&l!==u&&!(ft(l)&&l.includes(u))&&(t[o]=l?[].concat(l,u):u)}else o!==""&&(t[o]=s[o])}return t}function gi(i,t,n,s=null){hi(i,t,7,[n,s])}const Sm=Hd();let Tm=0;function Lm(i,t,n){const s=i.type,o=(t?t.appContext:i.appContext)||Sm,l={uid:Tm++,vnode:i,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new G_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Vd(s,o),emitsOptions:nf(s,o),emit:null,emitted:null,propsDefaults:$t,inheritAttrs:s.inheritAttrs,ctx:$t,data:$t,props:$t,attrs:$t,slots:$t,refs:$t,setupState:$t,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=fm.bind(null,l),i.ce&&i.ce(l),l}let fe=null;const km=()=>fe||Je;let oo,el;{const i=ko(),t=(n,s)=>{let o;return(o=i[n])||(o=i[n]=[]),o.push(s),l=>{o.length>1?o.forEach(u=>u(l)):o[0](l)}};oo=t("__VUE_INSTANCE_SETTERS__",n=>fe=n),el=t("__VUE_SSR_SETTERS__",n=>sr=n)}const dr=i=>{const t=fe;return oo(i),i.scope.on(),()=>{i.scope.off(),oo(t)}},Sc=()=>{fe&&fe.scope.off(),oo(null)};function af(i){return i.vnode.shapeFlag&4}let sr=!1;function Mm(i,t=!1,n=!1){t&&el(t);const{props:s,children:o}=i.vnode,l=af(i);Qg(i,s,l,t),nm(i,o,n);const u=l?Cm(i,t):void 0;return t&&el(!1),u}function Cm(i,t){const n=i.type;i.accessCache=Object.create(null),i.proxy=new Proxy(i.ctx,Wg);const{setup:s}=n;if(s){un();const o=i.setupContext=s.length>1?Am(i):null,l=dr(i),u=cr(s,i,0,[i.props,o]),h=id(u);if(cn(),l(),(h||i.sp)&&!Vs(i)&&Nd(i),h){if(u.then(Sc,Sc),t)return u.then(d=>{Tc(i,d,t)}).catch(d=>{Co(d,i,0)});i.asyncDep=u}else Tc(i,u,t)}else lf(i,t)}function Tc(i,t,n){vt(t)?i.type.__ssrInlineRender?i.ssrRender=t:i.render=t:Ht(t)&&(i.setupState=Ed(t)),lf(i,n)}let Lc;function lf(i,t,n){const s=i.type;if(!i.render){if(!t&&Lc&&!s.render){const o=s.template||Kl(i).template;if(o){const{isCustomElement:l,compilerOptions:u}=i.appContext.config,{delimiters:h,compilerOptions:d}=s,_=oe(oe({isCustomElement:l,delimiters:h},u),d);s.render=Lc(o,_)}}i.render=s.render||li}{const o=dr(i);un();try{jg(i)}finally{cn(),o()}}}const Im={get(i,t){return be(i,"get",""),i[t]}};function Am(i){const t=n=>{i.exposed=n||{}};return{attrs:new Proxy(i.attrs,Im),slots:i.slots,emit:i.emit,expose:t}}function Xl(i){return i.exposed?i.exposeProxy||(i.exposeProxy=new Proxy(Ed(_g(i.exposed)),{get(t,n){if(n in t)return t[n];if(n in Gs)return Gs[n](i)},has(t,n){return n in t||n in Gs}})):i.proxy}function Om(i,t=!0){return vt(i)?i.displayName||i.name:i.name||t&&i.__name}function Rm(i){return vt(i)&&"__vccOpts"in i}const de=(i,t)=>wg(i,t,sr);function Dm(i,t,n){const s=arguments.length;return s===2?Ht(t)&&!ft(t)?ro(t)?Yt(i,null,[t]):Yt(i,t):Yt(i,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&ro(n)&&(n=[n]),Yt(i,t,n))}const Fm="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let il;const kc=typeof window<"u"&&window.trustedTypes;if(kc)try{il=kc.createPolicy("vue",{createHTML:i=>i})}catch{}const uf=il?i=>il.createHTML(i):i=>i,Nm="http://www.w3.org/2000/svg",Bm="http://www.w3.org/1998/Math/MathML",Oi=typeof document<"u"?document:null,Mc=Oi&&Oi.createElement("template"),zm={insert:(i,t,n)=>{t.insertBefore(i,n||null)},remove:i=>{const t=i.parentNode;t&&t.removeChild(i)},createElement:(i,t,n,s)=>{const o=t==="svg"?Oi.createElementNS(Nm,i):t==="mathml"?Oi.createElementNS(Bm,i):n?Oi.createElement(i,{is:n}):Oi.createElement(i);return i==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:i=>Oi.createTextNode(i),createComment:i=>Oi.createComment(i),setText:(i,t)=>{i.nodeValue=t},setElementText:(i,t)=>{i.textContent=t},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>Oi.querySelector(i),setScopeId(i,t){i.setAttribute(t,"")},insertStaticContent(i,t,n,s,o,l){const u=n?n.previousSibling:t.lastChild;if(o&&(o===l||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===l||!(o=o.nextSibling)););else{Mc.innerHTML=uf(s==="svg"?`<svg>${i}</svg>`:s==="mathml"?`<math>${i}</math>`:i);const h=Mc.content;if(s==="svg"||s==="mathml"){const d=h.firstChild;for(;d.firstChild;)h.appendChild(d.firstChild);h.removeChild(d)}t.insertBefore(h,n)}return[u?u.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},ji="transition",Ms="animation",rr=Symbol("_vtc"),cf={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},$m=oe({},Ad,cf),Zm=i=>(i.displayName="Transition",i.props=$m,i),Hm=Zm((i,{slots:t})=>Dm(Cg,Um(i),t)),bn=(i,t=[])=>{ft(i)?i.forEach(n=>n(...t)):i&&i(...t)},Cc=i=>i?ft(i)?i.some(t=>t.length>1):i.length>1:!1;function Um(i){const t={};for(const $ in i)$ in cf||(t[$]=i[$]);if(i.css===!1)return t;const{name:n="v",type:s,duration:o,enterFromClass:l=`${n}-enter-from`,enterActiveClass:u=`${n}-enter-active`,enterToClass:h=`${n}-enter-to`,appearFromClass:d=l,appearActiveClass:_=u,appearToClass:p=h,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:v=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=i,S=Wm(o),x=S&&S[0],z=S&&S[1],{onBeforeEnter:I,onEnter:A,onEnterCancelled:M,onLeave:D,onLeaveCancelled:W,onBeforeAppear:at=I,onAppear:ot=A,onAppearCancelled:X=M}=t,tt=($,Et,_t,Ft)=>{$._enterCancelled=Ft,wn($,Et?p:h),wn($,Et?_:u),_t&&_t()},ct=($,Et)=>{$._isLeaving=!1,wn($,m),wn($,y),wn($,v),Et&&Et()},st=$=>(Et,_t)=>{const Ft=$?ot:A,gt=()=>tt(Et,$,_t);bn(Ft,[Et,gt]),Ic(()=>{wn(Et,$?d:l),Ci(Et,$?p:h),Cc(Ft)||Ac(Et,s,x,gt)})};return oe(t,{onBeforeEnter($){bn(I,[$]),Ci($,l),Ci($,u)},onBeforeAppear($){bn(at,[$]),Ci($,d),Ci($,_)},onEnter:st(!1),onAppear:st(!0),onLeave($,Et){$._isLeaving=!0;const _t=()=>ct($,Et);Ci($,m),$._enterCancelled?(Ci($,v),Dc()):(Dc(),Ci($,v)),Ic(()=>{$._isLeaving&&(wn($,m),Ci($,y),Cc(D)||Ac($,s,z,_t))}),bn(D,[$,_t])},onEnterCancelled($){tt($,!1,void 0,!0),bn(M,[$])},onAppearCancelled($){tt($,!0,void 0,!0),bn(X,[$])},onLeaveCancelled($){ct($),bn(W,[$])}})}function Wm(i){if(i==null)return null;if(Ht(i))return[Sa(i.enter),Sa(i.leave)];{const t=Sa(i);return[t,t]}}function Sa(i){return Z_(i)}function Ci(i,t){t.split(/\s+/).forEach(n=>n&&i.classList.add(n)),(i[rr]||(i[rr]=new Set)).add(t)}function wn(i,t){t.split(/\s+/).forEach(s=>s&&i.classList.remove(s));const n=i[rr];n&&(n.delete(t),n.size||(i[rr]=void 0))}function Ic(i){requestAnimationFrame(()=>{requestAnimationFrame(i)})}let jm=0;function Ac(i,t,n,s){const o=i._endId=++jm,l=()=>{o===i._endId&&s()};if(n!=null)return setTimeout(l,n);const{type:u,timeout:h,propCount:d}=qm(i,t);if(!u)return s();const _=u+"end";let p=0;const m=()=>{i.removeEventListener(_,v),l()},v=y=>{y.target===i&&++p>=d&&m()};setTimeout(()=>{p<d&&m()},h+1),i.addEventListener(_,v)}function qm(i,t){const n=window.getComputedStyle(i),s=S=>(n[S]||"").split(", "),o=s(`${ji}Delay`),l=s(`${ji}Duration`),u=Oc(o,l),h=s(`${Ms}Delay`),d=s(`${Ms}Duration`),_=Oc(h,d);let p=null,m=0,v=0;t===ji?u>0&&(p=ji,m=u,v=l.length):t===Ms?_>0&&(p=Ms,m=_,v=d.length):(m=Math.max(u,_),p=m>0?u>_?ji:Ms:null,v=p?p===ji?l.length:d.length:0);const y=p===ji&&/\b(transform|all)(,|$)/.test(s(`${ji}Property`).toString());return{type:p,timeout:m,propCount:v,hasTransform:y}}function Oc(i,t){for(;i.length<t.length;)i=i.concat(i);return Math.max(...t.map((n,s)=>Rc(n)+Rc(i[s])))}function Rc(i){return i==="auto"?0:Number(i.slice(0,-1).replace(",","."))*1e3}function Dc(){return document.body.offsetHeight}function Vm(i,t,n){const s=i[rr];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?i.removeAttribute("class"):n?i.setAttribute("class",t):i.className=t}const Fc=Symbol("_vod"),Gm=Symbol("_vsh"),Km=Symbol(""),Ym=/(^|;)\s*display\s*:/;function Jm(i,t,n){const s=i.style,o=Jt(n);let l=!1;if(n&&!o){if(t)if(Jt(t))for(const u of t.split(";")){const h=u.slice(0,u.indexOf(":")).trim();n[h]==null&&Yr(s,h,"")}else for(const u in t)n[u]==null&&Yr(s,u,"");for(const u in n)u==="display"&&(l=!0),Yr(s,u,n[u])}else if(o){if(t!==n){const u=s[Km];u&&(n+=";"+u),s.cssText=n,l=Ym.test(n)}}else t&&i.removeAttribute("style");Fc in i&&(i[Fc]=l?s.display:"",i[Gm]&&(s.display="none"))}const Nc=/\s*!important$/;function Yr(i,t,n){if(ft(n))n.forEach(s=>Yr(i,t,s));else if(n==null&&(n=""),t.startsWith("--"))i.setProperty(t,n);else{const s=Xm(i,t);Nc.test(n)?i.setProperty(zn(s),n.replace(Nc,""),"important"):i[s]=n}}const Bc=["Webkit","Moz","ms"],Ta={};function Xm(i,t){const n=Ta[t];if(n)return n;let s=ni(t);if(s!=="filter"&&s in i)return Ta[t]=s;s=Lo(s);for(let o=0;o<Bc.length;o++){const l=Bc[o]+s;if(l in i)return Ta[t]=l}return t}const zc="http://www.w3.org/1999/xlink";function $c(i,t,n,s,o,l=V_(t)){s&&t.startsWith("xlink:")?n==null?i.removeAttributeNS(zc,t.slice(6,t.length)):i.setAttributeNS(zc,t,n):n==null||l&&!od(n)?i.removeAttribute(t):i.setAttribute(t,l?"":ln(n)?String(n):n)}function Zc(i,t,n,s,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(i[t]=t==="innerHTML"?uf(n):n);return}const l=i.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const h=l==="OPTION"?i.getAttribute("value")||"":i.value,d=n==null?i.type==="checkbox"?"on":"":String(n);(h!==d||!("_value"in i))&&(i.value=d),n==null&&i.removeAttribute(t),i._value=n;return}let u=!1;if(n===""||n==null){const h=typeof i[t];h==="boolean"?n=od(n):n==null&&h==="string"?(n="",u=!0):h==="number"&&(n=0,u=!0)}try{i[t]=n}catch{}u&&i.removeAttribute(o||t)}function Qm(i,t,n,s){i.addEventListener(t,n,s)}function tv(i,t,n,s){i.removeEventListener(t,n,s)}const Hc=Symbol("_vei");function ev(i,t,n,s,o=null){const l=i[Hc]||(i[Hc]={}),u=l[t];if(s&&u)u.value=s;else{const[h,d]=iv(t);if(s){const _=l[t]=rv(s,o);Qm(i,h,_,d)}else u&&(tv(i,h,u,d),l[t]=void 0)}}const Uc=/(?:Once|Passive|Capture)$/;function iv(i){let t;if(Uc.test(i)){t={};let s;for(;s=i.match(Uc);)i=i.slice(0,i.length-s[0].length),t[s[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):zn(i.slice(2)),t]}let La=0;const nv=Promise.resolve(),sv=()=>La||(nv.then(()=>La=0),La=Date.now());function rv(i,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;hi(ov(s,n.value),t,5,[s])};return n.value=i,n.attached=sv(),n}function ov(i,t){if(ft(t)){const n=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{n.call(i),i._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const Wc=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)>96&&i.charCodeAt(2)<123,av=(i,t,n,s,o,l)=>{const u=o==="svg";t==="class"?Vm(i,s,u):t==="style"?Jm(i,n,s):Eo(t)?Fl(t)||ev(i,t,n,s,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):lv(i,t,s,u))?(Zc(i,t,s),!i.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&$c(i,t,s,u,l,t!=="value")):i._isVueCE&&(/[A-Z]/.test(t)||!Jt(s))?Zc(i,ni(t),s,l,t):(t==="true-value"?i._trueValue=s:t==="false-value"&&(i._falseValue=s),$c(i,t,s,u))};function lv(i,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in i&&Wc(t)&&vt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&i.tagName==="INPUT"||t==="type"&&i.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=i.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Wc(t)&&Jt(n)?!1:t in i}const uv=oe({patchProp:av},zm);let jc;function cv(){return jc||(jc=rm(uv))}const hv=(...i)=>{const t=cv().createApp(...i),{mount:n}=t;return t.mount=s=>{const o=fv(s);if(!o)return;const l=t._component;!vt(l)&&!l.render&&!l.template&&(l.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const u=n(o,!1,dv(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),u},t};function dv(i){if(i instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&i instanceof MathMLElement)return"mathml"}function fv(i){return Jt(i)?document.querySelector(i):i}var pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _v(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var nl={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(i,t){(function(n,s){s(t)})(pv,function(n){var s="1.9.4";function o(e){var r,a,c,f;for(a=1,c=arguments.length;a<c;a++){f=arguments[a];for(r in f)e[r]=f[r]}return e}var l=Object.create||function(){function e(){}return function(r){return e.prototype=r,new e}}();function u(e,r){var a=Array.prototype.slice;if(e.bind)return e.bind.apply(e,a.call(arguments,1));var c=a.call(arguments,2);return function(){return e.apply(r,c.length?c.concat(a.call(arguments)):arguments)}}var h=0;function d(e){return"_leaflet_id"in e||(e._leaflet_id=++h),e._leaflet_id}function _(e,r,a){var c,f,g,w;return w=function(){c=!1,f&&(g.apply(a,f),f=!1)},g=function(){c?f=arguments:(e.apply(a,arguments),setTimeout(w,r),c=!0)},g}function p(e,r,a){var c=r[1],f=r[0],g=c-f;return e===c&&a?e:((e-f)%g+g)%g+f}function m(){return!1}function v(e,r){if(r===!1)return e;var a=Math.pow(10,r===void 0?6:r);return Math.round(e*a)/a}function y(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function S(e){return y(e).split(/\s+/)}function x(e,r){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?l(e.options):{});for(var a in r)e.options[a]=r[a];return e.options}function z(e,r,a){var c=[];for(var f in e)c.push(encodeURIComponent(a?f.toUpperCase():f)+"="+encodeURIComponent(e[f]));return(!r||r.indexOf("?")===-1?"?":"&")+c.join("&")}var I=/\{ *([\w_ -]+) *\}/g;function A(e,r){return e.replace(I,function(a,c){var f=r[c];if(f===void 0)throw new Error("No value provided for variable "+a);return typeof f=="function"&&(f=f(r)),f})}var M=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function D(e,r){for(var a=0;a<e.length;a++)if(e[a]===r)return a;return-1}var W="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function at(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var ot=0;function X(e){var r=+new Date,a=Math.max(0,16-(r-ot));return ot=r+a,window.setTimeout(e,a)}var tt=window.requestAnimationFrame||at("RequestAnimationFrame")||X,ct=window.cancelAnimationFrame||at("CancelAnimationFrame")||at("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function st(e,r,a){if(a&&tt===X)e.call(r);else return tt.call(window,u(e,r))}function $(e){e&&ct.call(window,e)}var Et={__proto__:null,extend:o,create:l,bind:u,get lastId(){return h},stamp:d,throttle:_,wrapNum:p,falseFn:m,formatNum:v,trim:y,splitWords:S,setOptions:x,getParamString:z,template:A,isArray:M,indexOf:D,emptyImageUrl:W,requestFn:tt,cancelFn:ct,requestAnimFrame:st,cancelAnimFrame:$};function _t(){}_t.extend=function(e){var r=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=r.__super__=this.prototype,c=l(a);c.constructor=r,r.prototype=c;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(r[f]=this[f]);return e.statics&&o(r,e.statics),e.includes&&(Ft(e.includes),o.apply(null,[c].concat(e.includes))),o(c,e),delete c.statics,delete c.includes,c.options&&(c.options=a.options?l(a.options):{},o(c.options,e.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var g=0,w=c._initHooks.length;g<w;g++)c._initHooks[g].call(this)}},r},_t.include=function(e){var r=this.prototype.options;return o(this.prototype,e),e.options&&(this.prototype.options=r,this.mergeOptions(e.options)),this},_t.mergeOptions=function(e){return o(this.prototype.options,e),this},_t.addInitHook=function(e){var r=Array.prototype.slice.call(arguments,1),a=typeof e=="function"?e:function(){this[e].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function Ft(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=M(e)?e:[e];for(var r=0;r<e.length;r++)e[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var gt={on:function(e,r,a){if(typeof e=="object")for(var c in e)this._on(c,e[c],r);else{e=S(e);for(var f=0,g=e.length;f<g;f++)this._on(e[f],r,a)}return this},off:function(e,r,a){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var c in e)this._off(c,e[c],r);else{e=S(e);for(var f=arguments.length===1,g=0,w=e.length;g<w;g++)f?this._off(e[g]):this._off(e[g],r,a)}return this},_on:function(e,r,a,c){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(e,r,a)===!1){a===this&&(a=void 0);var f={fn:r,ctx:a};c&&(f.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(f)}},_off:function(e,r,a){var c,f,g;if(this._events&&(c=this._events[e],!!c)){if(arguments.length===1){if(this._firingCount)for(f=0,g=c.length;f<g;f++)c[f].fn=m;delete this._events[e];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var w=this._listens(e,r,a);if(w!==!1){var E=c[w];this._firingCount&&(E.fn=m,this._events[e]=c=c.slice()),c.splice(w,1)}}},fire:function(e,r,a){if(!this.listens(e,a))return this;var c=o({},r,{type:e,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var f=this._events[e];if(f){this._firingCount=this._firingCount+1||1;for(var g=0,w=f.length;g<w;g++){var E=f[g],k=E.fn;E.once&&this.off(e,k,E.ctx),k.call(E.ctx||this,c)}this._firingCount--}}return a&&this._propagateEvent(c),this},listens:function(e,r,a,c){typeof e!="string"&&console.warn('"string" type argument expected');var f=r;typeof r!="function"&&(c=!!r,f=void 0,a=void 0);var g=this._events&&this._events[e];if(g&&g.length&&this._listens(e,f,a)!==!1)return!0;if(c){for(var w in this._eventParents)if(this._eventParents[w].listens(e,r,a,c))return!0}return!1},_listens:function(e,r,a){if(!this._events)return!1;var c=this._events[e]||[];if(!r)return!!c.length;a===this&&(a=void 0);for(var f=0,g=c.length;f<g;f++)if(c[f].fn===r&&c[f].ctx===a)return f;return!1},once:function(e,r,a){if(typeof e=="object")for(var c in e)this._on(c,e[c],r,!0);else{e=S(e);for(var f=0,g=e.length;f<g;f++)this._on(e[f],r,a,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[d(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[d(e)],this},_propagateEvent:function(e){for(var r in this._eventParents)this._eventParents[r].fire(e.type,o({layer:e.target,propagatedFrom:e.target},e),!0)}};gt.addEventListener=gt.on,gt.removeEventListener=gt.clearAllEventListeners=gt.off,gt.addOneTimeEventListener=gt.once,gt.fireEvent=gt.fire,gt.hasEventListeners=gt.listens;var pt=_t.extend(gt);function U(e,r,a){this.x=a?Math.round(e):e,this.y=a?Math.round(r):r}var Ut=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};U.prototype={clone:function(){return new U(this.x,this.y)},add:function(e){return this.clone()._add(J(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(J(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new U(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new U(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ut(this.x),this.y=Ut(this.y),this},distanceTo:function(e){e=J(e);var r=e.x-this.x,a=e.y-this.y;return Math.sqrt(r*r+a*a)},equals:function(e){return e=J(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=J(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function J(e,r,a){return e instanceof U?e:M(e)?new U(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new U(e.x,e.y):new U(e,r,a)}function yt(e,r){if(e)for(var a=r?[e,r]:e,c=0,f=a.length;c<f;c++)this.extend(a[c])}yt.prototype={extend:function(e){var r,a;if(!e)return this;if(e instanceof U||typeof e[0]=="number"||"x"in e)r=a=J(e);else if(e=et(e),r=e.min,a=e.max,!r||!a)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=a.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)),this},getCenter:function(e){return J((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return J(this.min.x,this.max.y)},getTopRight:function(){return J(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var r,a;return typeof e[0]=="number"||e instanceof U?e=J(e):e=et(e),e instanceof yt?(r=e.min,a=e.max):r=a=e,r.x>=this.min.x&&a.x<=this.max.x&&r.y>=this.min.y&&a.y<=this.max.y},intersects:function(e){e=et(e);var r=this.min,a=this.max,c=e.min,f=e.max,g=f.x>=r.x&&c.x<=a.x,w=f.y>=r.y&&c.y<=a.y;return g&&w},overlaps:function(e){e=et(e);var r=this.min,a=this.max,c=e.min,f=e.max,g=f.x>r.x&&c.x<a.x,w=f.y>r.y&&c.y<a.y;return g&&w},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var r=this.min,a=this.max,c=Math.abs(r.x-a.x)*e,f=Math.abs(r.y-a.y)*e;return et(J(r.x-c,r.y-f),J(a.x+c,a.y+f))},equals:function(e){return e?(e=et(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function et(e,r){return!e||e instanceof yt?e:new yt(e,r)}function kt(e,r){if(e)for(var a=r?[e,r]:e,c=0,f=a.length;c<f;c++)this.extend(a[c])}kt.prototype={extend:function(e){var r=this._southWest,a=this._northEast,c,f;if(e instanceof bt)c=e,f=e;else if(e instanceof kt){if(c=e._southWest,f=e._northEast,!c||!f)return this}else return e?this.extend(ut(e)||xt(e)):this;return!r&&!a?(this._southWest=new bt(c.lat,c.lng),this._northEast=new bt(f.lat,f.lng)):(r.lat=Math.min(c.lat,r.lat),r.lng=Math.min(c.lng,r.lng),a.lat=Math.max(f.lat,a.lat),a.lng=Math.max(f.lng,a.lng)),this},pad:function(e){var r=this._southWest,a=this._northEast,c=Math.abs(r.lat-a.lat)*e,f=Math.abs(r.lng-a.lng)*e;return new kt(new bt(r.lat-c,r.lng-f),new bt(a.lat+c,a.lng+f))},getCenter:function(){return new bt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new bt(this.getNorth(),this.getWest())},getSouthEast:function(){return new bt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof bt||"lat"in e?e=ut(e):e=xt(e);var r=this._southWest,a=this._northEast,c,f;return e instanceof kt?(c=e.getSouthWest(),f=e.getNorthEast()):c=f=e,c.lat>=r.lat&&f.lat<=a.lat&&c.lng>=r.lng&&f.lng<=a.lng},intersects:function(e){e=xt(e);var r=this._southWest,a=this._northEast,c=e.getSouthWest(),f=e.getNorthEast(),g=f.lat>=r.lat&&c.lat<=a.lat,w=f.lng>=r.lng&&c.lng<=a.lng;return g&&w},overlaps:function(e){e=xt(e);var r=this._southWest,a=this._northEast,c=e.getSouthWest(),f=e.getNorthEast(),g=f.lat>r.lat&&c.lat<a.lat,w=f.lng>r.lng&&c.lng<a.lng;return g&&w},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,r){return e?(e=xt(e),this._southWest.equals(e.getSouthWest(),r)&&this._northEast.equals(e.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function xt(e,r){return e instanceof kt?e:new kt(e,r)}function bt(e,r,a){if(isNaN(e)||isNaN(r))throw new Error("Invalid LatLng object: ("+e+", "+r+")");this.lat=+e,this.lng=+r,a!==void 0&&(this.alt=+a)}bt.prototype={equals:function(e,r){if(!e)return!1;e=ut(e);var a=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return a<=(r===void 0?1e-9:r)},toString:function(e){return"LatLng("+v(this.lat,e)+", "+v(this.lng,e)+")"},distanceTo:function(e){return Ae.distance(this,ut(e))},wrap:function(){return Ae.wrapLatLng(this)},toBounds:function(e){var r=180*e/40075017,a=r/Math.cos(Math.PI/180*this.lat);return xt([this.lat-r,this.lng-a],[this.lat+r,this.lng+a])},clone:function(){return new bt(this.lat,this.lng,this.alt)}};function ut(e,r,a){return e instanceof bt?e:M(e)&&typeof e[0]!="object"?e.length===3?new bt(e[0],e[1],e[2]):e.length===2?new bt(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new bt(e.lat,"lng"in e?e.lng:e.lon,e.alt):r===void 0?null:new bt(e,r,a)}var ae={latLngToPoint:function(e,r){var a=this.projection.project(e),c=this.scale(r);return this.transformation._transform(a,c)},pointToLatLng:function(e,r){var a=this.scale(r),c=this.transformation.untransform(e,a);return this.projection.unproject(c)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var r=this.projection.bounds,a=this.scale(e),c=this.transformation.transform(r.min,a),f=this.transformation.transform(r.max,a);return new yt(c,f)},infinite:!1,wrapLatLng:function(e){var r=this.wrapLng?p(e.lng,this.wrapLng,!0):e.lng,a=this.wrapLat?p(e.lat,this.wrapLat,!0):e.lat,c=e.alt;return new bt(a,r,c)},wrapLatLngBounds:function(e){var r=e.getCenter(),a=this.wrapLatLng(r),c=r.lat-a.lat,f=r.lng-a.lng;if(c===0&&f===0)return e;var g=e.getSouthWest(),w=e.getNorthEast(),E=new bt(g.lat-c,g.lng-f),k=new bt(w.lat-c,w.lng-f);return new kt(E,k)}},Ae=o({},ae,{wrapLng:[-180,180],R:6371e3,distance:function(e,r){var a=Math.PI/180,c=e.lat*a,f=r.lat*a,g=Math.sin((r.lat-e.lat)*a/2),w=Math.sin((r.lng-e.lng)*a/2),E=g*g+Math.cos(c)*Math.cos(f)*w*w,k=2*Math.atan2(Math.sqrt(E),Math.sqrt(1-E));return this.R*k}}),dn=6378137,ie={R:dn,MAX_LATITUDE:85.0511287798,project:function(e){var r=Math.PI/180,a=this.MAX_LATITUDE,c=Math.max(Math.min(a,e.lat),-a),f=Math.sin(c*r);return new U(this.R*e.lng*r,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(e){var r=180/Math.PI;return new bt((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*r,e.x*r/this.R)},bounds:function(){var e=dn*Math.PI;return new yt([-e,-e],[e,e])}()};function Pi(e,r,a,c){if(M(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=r,this._c=a,this._d=c}Pi.prototype={transform:function(e,r){return this._transform(e.clone(),r)},_transform:function(e,r){return r=r||1,e.x=r*(this._a*e.x+this._b),e.y=r*(this._c*e.y+this._d),e},untransform:function(e,r){return r=r||1,new U((e.x/r-this._b)/this._a,(e.y/r-this._d)/this._c)}};function qe(e,r,a,c){return new Pi(e,r,a,c)}var b=o({},Ae,{code:"EPSG:3857",projection:ie,transformation:function(){var e=.5/(Math.PI*ie.R);return qe(e,.5,-e,.5)}()}),P=o({},b,{code:"EPSG:900913"});function C(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function N(e,r){var a="",c,f,g,w,E,k;for(c=0,g=e.length;c<g;c++){for(E=e[c],f=0,w=E.length;f<w;f++)k=E[f],a+=(f?"L":"M")+k.x+" "+k.y;a+=r?nt.svg?"z":"x":""}return a||"M0 0"}var O=document.documentElement.style,F="ActiveXObject"in window,j=F&&!document.addEventListener,H="msLaunchUri"in navigator&&!("documentMode"in document),Z=di("webkit"),B=di("android"),lt=di("android 2")||di("android 3"),V=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),it=B&&di("Google")&&V<537&&!("AudioNode"in window),ht=!!window.opera,Tt=!H&&di("chrome"),Dt=di("gecko")&&!Z&&!ht&&!F,It=!Tt&&di("safari"),_e=di("phantom"),ne="OTransition"in O,ze=navigator.platform.indexOf("Win")===0,ge=F&&"transition"in O,Ei="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!lt,_s="MozPerspective"in O,Te=!window.L_DISABLE_3D&&(ge||Ei||_s)&&!ne&&!_e,me=typeof orientation<"u"||di("mobile"),pr=me&&Z,yp=me&&Ei,fu=!window.PointerEvent&&window.MSPointerEvent,pu=!!(window.PointerEvent||fu),_u="ontouchstart"in window||!!window.TouchEvent,bp=!window.L_NO_TOUCH&&(_u||pu),wp=me&&ht,xp=me&&Dt,Pp=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ep=function(){var e=!1;try{var r=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",m,r),window.removeEventListener("testPassiveEventSupport",m,r)}catch{}return e}(),Sp=function(){return!!document.createElement("canvas").getContext}(),Ho=!!(document.createElementNS&&C("svg").createSVGRect),Tp=!!Ho&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Lp=!Ho&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var r=e.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}}(),kp=navigator.platform.indexOf("Mac")===0,Mp=navigator.platform.indexOf("Linux")===0;function di(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var nt={ie:F,ielt9:j,edge:H,webkit:Z,android:B,android23:lt,androidStock:it,opera:ht,chrome:Tt,gecko:Dt,safari:It,phantom:_e,opera12:ne,win:ze,ie3d:ge,webkit3d:Ei,gecko3d:_s,any3d:Te,mobile:me,mobileWebkit:pr,mobileWebkit3d:yp,msPointer:fu,pointer:pu,touch:bp,touchNative:_u,mobileOpera:wp,mobileGecko:xp,retina:Pp,passiveEvents:Ep,canvas:Sp,svg:Ho,vml:Lp,inlineSvg:Tp,mac:kp,linux:Mp},gu=nt.msPointer?"MSPointerDown":"pointerdown",mu=nt.msPointer?"MSPointerMove":"pointermove",vu=nt.msPointer?"MSPointerUp":"pointerup",yu=nt.msPointer?"MSPointerCancel":"pointercancel",Uo={touchstart:gu,touchmove:mu,touchend:vu,touchcancel:yu},bu={touchstart:Dp,touchmove:_r,touchend:_r,touchcancel:_r},Zn={},wu=!1;function Cp(e,r,a){return r==="touchstart"&&Rp(),bu[r]?(a=bu[r].bind(this,a),e.addEventListener(Uo[r],a,!1),a):(console.warn("wrong event specified:",r),m)}function Ip(e,r,a){if(!Uo[r]){console.warn("wrong event specified:",r);return}e.removeEventListener(Uo[r],a,!1)}function Ap(e){Zn[e.pointerId]=e}function Op(e){Zn[e.pointerId]&&(Zn[e.pointerId]=e)}function xu(e){delete Zn[e.pointerId]}function Rp(){wu||(document.addEventListener(gu,Ap,!0),document.addEventListener(mu,Op,!0),document.addEventListener(vu,xu,!0),document.addEventListener(yu,xu,!0),wu=!0)}function _r(e,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var a in Zn)r.touches.push(Zn[a]);r.changedTouches=[r],e(r)}}function Dp(e,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&ce(r),_r(e,r)}function Fp(e){var r={},a,c;for(c in e)a=e[c],r[c]=a&&a.bind?a.bind(e):a;return e=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var Np=200;function Bp(e,r){e.addEventListener("dblclick",r);var a=0,c;function f(g){if(g.detail!==1){c=g.detail;return}if(!(g.pointerType==="mouse"||g.sourceCapabilities&&!g.sourceCapabilities.firesTouchEvents)){var w=Lu(g);if(!(w.some(function(k){return k instanceof HTMLLabelElement&&k.attributes.for})&&!w.some(function(k){return k instanceof HTMLInputElement||k instanceof HTMLSelectElement}))){var E=Date.now();E-a<=Np?(c++,c===2&&r(Fp(g))):c=1,a=E}}}return e.addEventListener("click",f),{dblclick:r,simDblclick:f}}function zp(e,r){e.removeEventListener("dblclick",r.dblclick),e.removeEventListener("click",r.simDblclick)}var Wo=vr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),gs=vr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Pu=gs==="webkitTransition"||gs==="OTransition"?gs+"End":"transitionend";function Eu(e){return typeof e=="string"?document.getElementById(e):e}function ms(e,r){var a=e.style[r]||e.currentStyle&&e.currentStyle[r];if((!a||a==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(e,null);a=c?c[r]:null}return a==="auto"?null:a}function Ct(e,r,a){var c=document.createElement(e);return c.className=r||"",a&&a.appendChild(c),c}function Wt(e){var r=e.parentNode;r&&r.removeChild(e)}function gr(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Hn(e){var r=e.parentNode;r&&r.lastChild!==e&&r.appendChild(e)}function Un(e){var r=e.parentNode;r&&r.firstChild!==e&&r.insertBefore(e,r.firstChild)}function jo(e,r){if(e.classList!==void 0)return e.classList.contains(r);var a=mr(e);return a.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(a)}function Pt(e,r){if(e.classList!==void 0)for(var a=S(r),c=0,f=a.length;c<f;c++)e.classList.add(a[c]);else if(!jo(e,r)){var g=mr(e);qo(e,(g?g+" ":"")+r)}}function Kt(e,r){e.classList!==void 0?e.classList.remove(r):qo(e,y((" "+mr(e)+" ").replace(" "+r+" "," ")))}function qo(e,r){e.className.baseVal===void 0?e.className=r:e.className.baseVal=r}function mr(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function Ve(e,r){"opacity"in e.style?e.style.opacity=r:"filter"in e.style&&$p(e,r)}function $p(e,r){var a=!1,c="DXImageTransform.Microsoft.Alpha";try{a=e.filters.item(c)}catch{if(r===1)return}r=Math.round(r*100),a?(a.Enabled=r!==100,a.Opacity=r):e.style.filter+=" progid:"+c+"(opacity="+r+")"}function vr(e){for(var r=document.documentElement.style,a=0;a<e.length;a++)if(e[a]in r)return e[a];return!1}function fn(e,r,a){var c=r||new U(0,0);e.style[Wo]=(nt.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(a?" scale("+a+")":"")}function Xt(e,r){e._leaflet_pos=r,nt.any3d?fn(e,r):(e.style.left=r.x+"px",e.style.top=r.y+"px")}function pn(e){return e._leaflet_pos||new U(0,0)}var vs,ys,Vo;if("onselectstart"in document)vs=function(){mt(window,"selectstart",ce)},ys=function(){Bt(window,"selectstart",ce)};else{var bs=vr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);vs=function(){if(bs){var e=document.documentElement.style;Vo=e[bs],e[bs]="none"}},ys=function(){bs&&(document.documentElement.style[bs]=Vo,Vo=void 0)}}function Go(){mt(window,"dragstart",ce)}function Ko(){Bt(window,"dragstart",ce)}var yr,Yo;function Jo(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(br(),yr=e,Yo=e.style.outlineStyle,e.style.outlineStyle="none",mt(window,"keydown",br))}function br(){yr&&(yr.style.outlineStyle=Yo,yr=void 0,Yo=void 0,Bt(window,"keydown",br))}function Su(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Xo(e){var r=e.getBoundingClientRect();return{x:r.width/e.offsetWidth||1,y:r.height/e.offsetHeight||1,boundingClientRect:r}}var Zp={__proto__:null,TRANSFORM:Wo,TRANSITION:gs,TRANSITION_END:Pu,get:Eu,getStyle:ms,create:Ct,remove:Wt,empty:gr,toFront:Hn,toBack:Un,hasClass:jo,addClass:Pt,removeClass:Kt,setClass:qo,getClass:mr,setOpacity:Ve,testProp:vr,setTransform:fn,setPosition:Xt,getPosition:pn,get disableTextSelection(){return vs},get enableTextSelection(){return ys},disableImageDrag:Go,enableImageDrag:Ko,preventOutline:Jo,restoreOutline:br,getSizedParentNode:Su,getScale:Xo};function mt(e,r,a,c){if(r&&typeof r=="object")for(var f in r)ta(e,f,r[f],a);else{r=S(r);for(var g=0,w=r.length;g<w;g++)ta(e,r[g],a,c)}return this}var fi="_leaflet_events";function Bt(e,r,a,c){if(arguments.length===1)Tu(e),delete e[fi];else if(r&&typeof r=="object")for(var f in r)ea(e,f,r[f],a);else if(r=S(r),arguments.length===2)Tu(e,function(E){return D(r,E)!==-1});else for(var g=0,w=r.length;g<w;g++)ea(e,r[g],a,c);return this}function Tu(e,r){for(var a in e[fi]){var c=a.split(/\d/)[0];(!r||r(c))&&ea(e,c,null,null,a)}}var Qo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ta(e,r,a,c){var f=r+d(a)+(c?"_"+d(c):"");if(e[fi]&&e[fi][f])return this;var g=function(E){return a.call(c||e,E||window.event)},w=g;!nt.touchNative&&nt.pointer&&r.indexOf("touch")===0?g=Cp(e,r,g):nt.touch&&r==="dblclick"?g=Bp(e,g):"addEventListener"in e?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?e.addEventListener(Qo[r]||r,g,nt.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(g=function(E){E=E||window.event,na(e,E)&&w(E)},e.addEventListener(Qo[r],g,!1)):e.addEventListener(r,w,!1):e.attachEvent("on"+r,g),e[fi]=e[fi]||{},e[fi][f]=g}function ea(e,r,a,c,f){f=f||r+d(a)+(c?"_"+d(c):"");var g=e[fi]&&e[fi][f];if(!g)return this;!nt.touchNative&&nt.pointer&&r.indexOf("touch")===0?Ip(e,r,g):nt.touch&&r==="dblclick"?zp(e,g):"removeEventListener"in e?e.removeEventListener(Qo[r]||r,g,!1):e.detachEvent("on"+r,g),e[fi][f]=null}function _n(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function ia(e){return ta(e,"wheel",_n),this}function ws(e){return mt(e,"mousedown touchstart dblclick contextmenu",_n),e._leaflet_disable_click=!0,this}function ce(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function gn(e){return ce(e),_n(e),this}function Lu(e){if(e.composedPath)return e.composedPath();for(var r=[],a=e.target;a;)r.push(a),a=a.parentNode;return r}function ku(e,r){if(!r)return new U(e.clientX,e.clientY);var a=Xo(r),c=a.boundingClientRect;return new U((e.clientX-c.left)/a.x-r.clientLeft,(e.clientY-c.top)/a.y-r.clientTop)}var Hp=nt.linux&&nt.chrome?window.devicePixelRatio:nt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Mu(e){return nt.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Hp:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function na(e,r){var a=r.relatedTarget;if(!a)return!0;try{for(;a&&a!==e;)a=a.parentNode}catch{return!1}return a!==e}var Up={__proto__:null,on:mt,off:Bt,stopPropagation:_n,disableScrollPropagation:ia,disableClickPropagation:ws,preventDefault:ce,stop:gn,getPropagationPath:Lu,getMousePosition:ku,getWheelDelta:Mu,isExternalTarget:na,addListener:mt,removeListener:Bt},Cu=pt.extend({run:function(e,r,a,c){this.stop(),this._el=e,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=pn(e),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=st(this._animate,this),this._step()},_step:function(e){var r=+new Date-this._startTime,a=this._duration*1e3;r<a?this._runFrame(this._easeOut(r/a),e):(this._runFrame(1),this._complete())},_runFrame:function(e,r){var a=this._startPos.add(this._offset.multiplyBy(e));r&&a._round(),Xt(this._el,a),this.fire("step")},_complete:function(){$(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Mt=pt.extend({options:{crs:b,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,r){r=x(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(ut(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=gs&&nt.any3d&&!nt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),mt(this._proxy,Pu,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,r,a){if(r=r===void 0?this._zoom:this._limitZoom(r),e=this._limitCenter(ut(e),r,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=o({animate:a.animate},a.zoom),a.pan=o({animate:a.animate,duration:a.duration},a.pan));var c=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,r,a.zoom):this._tryAnimatedPan(e,a.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(e,r,a.pan&&a.pan.noMoveStart),this},setZoom:function(e,r){return this._loaded?this.setView(this.getCenter(),e,{zoom:r}):(this._zoom=e,this)},zoomIn:function(e,r){return e=e||(nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,r)},zoomOut:function(e,r){return e=e||(nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,r)},setZoomAround:function(e,r,a){var c=this.getZoomScale(r),f=this.getSize().divideBy(2),g=e instanceof U?e:this.latLngToContainerPoint(e),w=g.subtract(f).multiplyBy(1-1/c),E=this.containerPointToLatLng(f.add(w));return this.setView(E,r,{zoom:a})},_getBoundsCenterZoom:function(e,r){r=r||{},e=e.getBounds?e.getBounds():xt(e);var a=J(r.paddingTopLeft||r.padding||[0,0]),c=J(r.paddingBottomRight||r.padding||[0,0]),f=this.getBoundsZoom(e,!1,a.add(c));if(f=typeof r.maxZoom=="number"?Math.min(r.maxZoom,f):f,f===1/0)return{center:e.getCenter(),zoom:f};var g=c.subtract(a).divideBy(2),w=this.project(e.getSouthWest(),f),E=this.project(e.getNorthEast(),f),k=this.unproject(w.add(E).divideBy(2).add(g),f);return{center:k,zoom:f}},fitBounds:function(e,r){if(e=xt(e),!e.isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(e,r);return this.setView(a.center,a.zoom,r)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,r){return this.setView(e,this._zoom,{pan:r})},panBy:function(e,r){if(e=J(e).round(),r=r||{},!e.x&&!e.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Cu,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){Pt(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,a,r.duration||.25,r.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,r,a){if(a=a||{},a.animate===!1||!nt.any3d)return this.setView(e,r,a);this._stop();var c=this.project(this.getCenter()),f=this.project(e),g=this.getSize(),w=this._zoom;e=ut(e),r=r===void 0?w:r;var E=Math.max(g.x,g.y),k=E*this.getZoomScale(w,r),R=f.distanceTo(c)||1,G=1.42,dt=G*G;function St(Qt){var Ar=Qt?-1:1,I_=Qt?k:E,A_=k*k-E*E+Ar*dt*dt*R*R,O_=2*I_*dt*R,pa=A_/O_,cc=Math.sqrt(pa*pa+1)-pa,R_=cc<1e-9?-18:Math.log(cc);return R_}function Le(Qt){return(Math.exp(Qt)-Math.exp(-Qt))/2}function le(Qt){return(Math.exp(Qt)+Math.exp(-Qt))/2}function Ke(Qt){return Le(Qt)/le(Qt)}var Oe=St(0);function Kn(Qt){return E*(le(Oe)/le(Oe+G*Qt))}function L_(Qt){return E*(le(Oe)*Ke(Oe+G*Qt)-Le(Oe))/dt}function k_(Qt){return 1-Math.pow(1-Qt,1.5)}var M_=Date.now(),lc=(St(1)-Oe)/G,C_=a.duration?1e3*a.duration:1e3*lc*.8;function uc(){var Qt=(Date.now()-M_)/C_,Ar=k_(Qt)*lc;Qt<=1?(this._flyToFrame=st(uc,this),this._move(this.unproject(c.add(f.subtract(c).multiplyBy(L_(Ar)/R)),w),this.getScaleZoom(E/Kn(Ar),w),{flyTo:!0})):this._move(e,r)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),uc.call(this),this},flyToBounds:function(e,r){var a=this._getBoundsCenterZoom(e,r);return this.flyTo(a.center,a.zoom,r)},setMaxBounds:function(e){return e=xt(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var r=this.options.minZoom;return this.options.minZoom=e,this._loaded&&r!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var r=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&r!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,r){this._enforcingBounds=!0;var a=this.getCenter(),c=this._limitCenter(a,this._zoom,xt(e));return a.equals(c)||this.panTo(c,r),this._enforcingBounds=!1,this},panInside:function(e,r){r=r||{};var a=J(r.paddingTopLeft||r.padding||[0,0]),c=J(r.paddingBottomRight||r.padding||[0,0]),f=this.project(this.getCenter()),g=this.project(e),w=this.getPixelBounds(),E=et([w.min.add(a),w.max.subtract(c)]),k=E.getSize();if(!E.contains(g)){this._enforcingBounds=!0;var R=g.subtract(E.getCenter()),G=E.extend(g).getSize().subtract(k);f.x+=R.x<0?-G.x:G.x,f.y+=R.y<0?-G.y:G.y,this.panTo(this.unproject(f),r),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=o({animate:!1,pan:!0},e===!0?{animate:!0}:e);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),c=r.divideBy(2).round(),f=a.divideBy(2).round(),g=c.subtract(f);return!g.x&&!g.y?this:(e.animate&&e.pan?this.panBy(g):(e.pan&&this._rawPanBy(g),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=o({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=u(this._handleGeolocationResponse,this),a=u(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,a,e):navigator.geolocation.getCurrentPosition(r,a,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var r=e.code,a=e.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+a+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var r=e.coords.latitude,a=e.coords.longitude,c=new bt(r,a),f=c.toBounds(e.coords.accuracy*2),g=this._locateOptions;if(g.setView){var w=this.getBoundsZoom(f);this.setView(c,g.maxZoom?Math.min(w,g.maxZoom):w)}var E={latlng:c,bounds:f,timestamp:e.timestamp};for(var k in e.coords)typeof e.coords[k]=="number"&&(E[k]=e.coords[k]);this.fire("locationfound",E)}},addHandler:function(e,r){if(!r)return this;var a=this[e]=new r(this);return this._handlers.push(a),this.options[e]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Wt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)Wt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,r){var a="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),c=Ct("div",a,r||this._mapPane);return e&&(this._panes[e]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),r=this.unproject(e.getBottomLeft()),a=this.unproject(e.getTopRight());return new kt(r,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,r,a){e=xt(e),a=J(a||[0,0]);var c=this.getZoom()||0,f=this.getMinZoom(),g=this.getMaxZoom(),w=e.getNorthWest(),E=e.getSouthEast(),k=this.getSize().subtract(a),R=et(this.project(E,c),this.project(w,c)).getSize(),G=nt.any3d?this.options.zoomSnap:1,dt=k.x/R.x,St=k.y/R.y,Le=r?Math.max(dt,St):Math.min(dt,St);return c=this.getScaleZoom(Le,c),G&&(c=Math.round(c/(G/100))*(G/100),c=r?Math.ceil(c/G)*G:Math.floor(c/G)*G),Math.max(f,Math.min(g,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new U(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,r){var a=this._getTopLeftPoint(e,r);return new yt(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,r){var a=this.options.crs;return r=r===void 0?this._zoom:r,a.scale(e)/a.scale(r)},getScaleZoom:function(e,r){var a=this.options.crs;r=r===void 0?this._zoom:r;var c=a.zoom(e*a.scale(r));return isNaN(c)?1/0:c},project:function(e,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(ut(e),r)},unproject:function(e,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(J(e),r)},layerPointToLatLng:function(e){var r=J(e).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(e){var r=this.project(ut(e))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(ut(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(xt(e))},distance:function(e,r){return this.options.crs.distance(ut(e),ut(r))},containerPointToLayerPoint:function(e){return J(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return J(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var r=this.containerPointToLayerPoint(J(e));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ut(e)))},mouseEventToContainerPoint:function(e){return ku(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var r=this._container=Eu(e);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");mt(r,"scroll",this._onScroll,this),this._containerId=d(r)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&nt.any3d,Pt(e,"leaflet-container"+(nt.touch?" leaflet-touch":"")+(nt.retina?" leaflet-retina":"")+(nt.ielt9?" leaflet-oldie":"")+(nt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=ms(e,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Xt(this._mapPane,new U(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Pt(e.markerPane,"leaflet-zoom-hide"),Pt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,r,a){Xt(this._mapPane,new U(0,0));var c=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var f=this._zoom!==r;this._moveStart(f,a)._move(e,r)._moveEnd(f),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(e,r){return e&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(e,r,a,c){r===void 0&&(r=this._zoom);var f=this._zoom!==r;return this._zoom=r,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),c?a&&a.pinch&&this.fire("zoom",a):((f||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Xt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[d(this._container)]=this;var r=e?Bt:mt;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),nt.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$(this._resizeRequest),this._resizeRequest=st(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,r){for(var a=[],c,f=r==="mouseout"||r==="mouseover",g=e.target||e.srcElement,w=!1;g;){if(c=this._targets[d(g)],c&&(r==="click"||r==="preclick")&&this._draggableMoved(c)){w=!0;break}if(c&&c.listens(r,!0)&&(f&&!na(g,e)||(a.push(c),f))||g===this._container)break;g=g.parentNode}return!a.length&&!w&&!f&&this.listens(r,!0)&&(a=[this]),a},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var r=e.target||e.srcElement;if(!(!this._loaded||r._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(r))){var a=e.type;a==="mousedown"&&Jo(r),this._fireDOMEvent(e,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,r,a){if(e.type==="click"){var c=o({},e);c.type="preclick",this._fireDOMEvent(c,c.type,a)}var f=this._findEventTargets(e,r);if(a){for(var g=[],w=0;w<a.length;w++)a[w].listens(r,!0)&&g.push(a[w]);f=g.concat(f)}if(f.length){r==="contextmenu"&&ce(e);var E=f[0],k={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var R=E.getLatLng&&(!E._radius||E._radius<=10);k.containerPoint=R?this.latLngToContainerPoint(E.getLatLng()):this.mouseEventToContainerPoint(e),k.layerPoint=this.containerPointToLayerPoint(k.containerPoint),k.latlng=R?E.getLatLng():this.layerPointToLatLng(k.layerPoint)}for(w=0;w<f.length;w++)if(f[w].fire(r,k,!0),k.originalEvent._stopped||f[w].options.bubblingMouseEvents===!1&&D(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,r=this._handlers.length;e<r;e++)this._handlers[e].disable()},whenReady:function(e,r){return this._loaded?e.call(r||this,{target:this}):this.on("load",e,r),this},_getMapPanePos:function(){return pn(this._mapPane)||new U(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,r){var a=e&&r!==void 0?this._getNewPixelOrigin(e,r):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,r){var a=this.getSize()._divideBy(2);return this.project(e,r)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,r,a){var c=this._getNewPixelOrigin(a,r);return this.project(e,r)._subtract(c)},_latLngBoundsToNewLayerBounds:function(e,r,a){var c=this._getNewPixelOrigin(a,r);return et([this.project(e.getSouthWest(),r)._subtract(c),this.project(e.getNorthWest(),r)._subtract(c),this.project(e.getSouthEast(),r)._subtract(c),this.project(e.getNorthEast(),r)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,r,a){if(!a)return e;var c=this.project(e,r),f=this.getSize().divideBy(2),g=new yt(c.subtract(f),c.add(f)),w=this._getBoundsOffset(g,a,r);return Math.abs(w.x)<=1&&Math.abs(w.y)<=1?e:this.unproject(c.add(w),r)},_limitOffset:function(e,r){if(!r)return e;var a=this.getPixelBounds(),c=new yt(a.min.add(e),a.max.add(e));return e.add(this._getBoundsOffset(c,r))},_getBoundsOffset:function(e,r,a){var c=et(this.project(r.getNorthEast(),a),this.project(r.getSouthWest(),a)),f=c.min.subtract(e.min),g=c.max.subtract(e.max),w=this._rebound(f.x,-g.x),E=this._rebound(f.y,-g.y);return new U(w,E)},_rebound:function(e,r){return e+r>0?Math.round(e-r)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(r))},_limitZoom:function(e){var r=this.getMinZoom(),a=this.getMaxZoom(),c=nt.any3d?this.options.zoomSnap:1;return c&&(e=Math.round(e/c)*c),Math.max(r,Math.min(a,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Kt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,r){var a=this._getCenterOffset(e)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,r),!0)},_createAnimProxy:function(){var e=this._proxy=Ct("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(r){var a=Wo,c=this._proxy.style[a];fn(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),c===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Wt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),r=this.getZoom();fn(this._proxy,this.project(e,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,r,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(r),f=this._getCenterOffset(e)._divideBy(1-1/c);return a.animate!==!0&&!this.getSize().contains(f)?!1:(st(function(){this._moveStart(!0,a.noMoveStart||!1)._animateZoom(e,r,!0)},this),!0)},_animateZoom:function(e,r,a,c){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=r,Pt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:r,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Kt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Wp(e,r){return new Mt(e,r)}var si=_t.extend({options:{position:"topright"},initialize:function(e){x(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var r=this._map;return r&&r.removeControl(this),this.options.position=e,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var r=this._container=this.onAdd(e),a=this.getPosition(),c=e._controlCorners[a];return Pt(r,"leaflet-control"),a.indexOf("bottom")!==-1?c.insertBefore(r,c.firstChild):c.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Wt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),xs=function(e){return new si(e)};Mt.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},r="leaflet-",a=this._controlContainer=Ct("div",r+"control-container",this._container);function c(f,g){var w=r+f+" "+r+g;e[f+g]=Ct("div",w,a)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)Wt(this._controlCorners[e]);Wt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Iu=si.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,r,a,c){return a<c?-1:c<a?1:0}},initialize:function(e,r,a){x(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in e)this._addLayer(e[c],c);for(c in r)this._addLayer(r[c],c,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return si.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,r){return this._addLayer(e,r),this._map?this._update():this},addOverlay:function(e,r){return this._addLayer(e,r,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var r=this._getLayer(d(e));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){Pt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(Pt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):Kt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Kt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",r=this._container=Ct("div",e),a=this.options.collapsed;r.setAttribute("aria-haspopup",!0),ws(r),ia(r);var c=this._section=Ct("section",e+"-list");a&&(this._map.on("click",this.collapse,this),mt(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=Ct("a",e+"-toggle",r);f.href="#",f.title="Layers",f.setAttribute("role","button"),mt(f,{keydown:function(g){g.keyCode===13&&this._expandSafely()},click:function(g){ce(g),this._expandSafely()}},this),a||this.expand(),this._baseLayersList=Ct("div",e+"-base",c),this._separator=Ct("div",e+"-separator",c),this._overlaysList=Ct("div",e+"-overlays",c),r.appendChild(c)},_getLayer:function(e){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&d(this._layers[r].layer)===e)return this._layers[r]},_addLayer:function(e,r,a){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:r,overlay:a}),this.options.sortLayers&&this._layers.sort(u(function(c,f){return this.options.sortFunction(c.layer,f.layer,c.name,f.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;gr(this._baseLayersList),gr(this._overlaysList),this._layerControlInputs=[];var e,r,a,c,f=0;for(a=0;a<this._layers.length;a++)c=this._layers[a],this._addItem(c),r=r||c.overlay,e=e||!c.overlay,f+=c.overlay?0:1;return this.options.hideSingleBase&&(e=e&&f>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=r&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var r=this._getLayer(d(e.target)),a=r.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;a&&this._map.fire(a,r)},_createRadioElement:function(e,r){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(r?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=a,c.firstChild},_addItem:function(e){var r=document.createElement("label"),a=this._map.hasLayer(e.layer),c;e.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=a):c=this._createRadioElement("leaflet-base-layers_"+d(this),a),this._layerControlInputs.push(c),c.layerId=d(e.layer),mt(c,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+e.name;var g=document.createElement("span");r.appendChild(g),g.appendChild(c),g.appendChild(f);var w=e.overlay?this._overlaysList:this._baseLayersList;return w.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,r,a,c=[],f=[];this._handlingClick=!0;for(var g=e.length-1;g>=0;g--)r=e[g],a=this._getLayer(r.layerId).layer,r.checked?c.push(a):r.checked||f.push(a);for(g=0;g<f.length;g++)this._map.hasLayer(f[g])&&this._map.removeLayer(f[g]);for(g=0;g<c.length;g++)this._map.hasLayer(c[g])||this._map.addLayer(c[g]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,r,a,c=this._map.getZoom(),f=e.length-1;f>=0;f--)r=e[f],a=this._getLayer(r.layerId).layer,r.disabled=a.options.minZoom!==void 0&&c<a.options.minZoom||a.options.maxZoom!==void 0&&c>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,mt(e,"click",ce),this.expand();var r=this;setTimeout(function(){Bt(e,"click",ce),r._preventClick=!1})}}),jp=function(e,r,a){return new Iu(e,r,a)},sa=si.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var r="leaflet-control-zoom",a=Ct("div",r+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,r+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,r+"-out",a,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,r,a,c,f){var g=Ct("a",a,c);return g.innerHTML=e,g.href="#",g.title=r,g.setAttribute("role","button"),g.setAttribute("aria-label",r),ws(g),mt(g,"click",gn),mt(g,"click",f,this),mt(g,"click",this._refocusOnMap,this),g},_updateDisabled:function(){var e=this._map,r="leaflet-disabled";Kt(this._zoomInButton,r),Kt(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(Pt(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(Pt(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});Mt.mergeOptions({zoomControl:!0}),Mt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new sa,this.addControl(this.zoomControl))});var qp=function(e){return new sa(e)},Au=si.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var r="leaflet-control-scale",a=Ct("div",r),c=this.options;return this._addScales(c,r+"-line",a),e.on(c.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),a},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,r,a){e.metric&&(this._mScale=Ct("div",r,a)),e.imperial&&(this._iScale=Ct("div",r,a))},_update:function(){var e=this._map,r=e.getSize().y/2,a=e.distance(e.containerPointToLatLng([0,r]),e.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(a)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var r=this._getRoundNum(e),a=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,a,r/e)},_updateImperial:function(e){var r=e*3.2808399,a,c,f;r>5280?(a=r/5280,c=this._getRoundNum(a),this._updateScale(this._iScale,c+" mi",c/a)):(f=this._getRoundNum(r),this._updateScale(this._iScale,f+" ft",f/r))},_updateScale:function(e,r,a){e.style.width=Math.round(this.options.maxWidth*a)+"px",e.innerHTML=r},_getRoundNum:function(e){var r=Math.pow(10,(Math.floor(e)+"").length-1),a=e/r;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,r*a}}),Vp=function(e){return new Au(e)},Gp='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ra=si.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(nt.inlineSvg?Gp+" ":"")+"Leaflet</a>"},initialize:function(e){x(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=Ct("div","leaflet-control-attribution"),ws(this._container);for(var r in e._layers)e._layers[r].getAttribution&&this.addAttribution(e._layers[r].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var r in this._attributions)this._attributions[r]&&e.push(r);var a=[];this.options.prefix&&a.push(this.options.prefix),e.length&&a.push(e.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}});Mt.mergeOptions({attributionControl:!0}),Mt.addInitHook(function(){this.options.attributionControl&&new ra().addTo(this)});var Kp=function(e){return new ra(e)};si.Layers=Iu,si.Zoom=sa,si.Scale=Au,si.Attribution=ra,xs.layers=jp,xs.zoom=qp,xs.scale=Vp,xs.attribution=Kp;var pi=_t.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});pi.addTo=function(e,r){return e.addHandler(r,this),this};var Yp={Events:gt},Ou=nt.touch?"touchstart mousedown":"mousedown",Ui=pt.extend({options:{clickTolerance:3},initialize:function(e,r,a,c){x(this,c),this._element=e,this._dragStartTarget=r||e,this._preventOutline=a},enable:function(){this._enabled||(mt(this._dragStartTarget,Ou,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ui._dragging===this&&this.finishDrag(!0),Bt(this._dragStartTarget,Ou,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!jo(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){Ui._dragging===this&&this.finishDrag();return}if(!(Ui._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(Ui._dragging=this,this._preventOutline&&Jo(this._element),Go(),vs(),!this._moving)){this.fire("down");var r=e.touches?e.touches[0]:e,a=Su(this._element);this._startPoint=new U(r.clientX,r.clientY),this._startPos=pn(this._element),this._parentScale=Xo(a);var c=e.type==="mousedown";mt(document,c?"mousemove":"touchmove",this._onMove,this),mt(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var r=e.touches&&e.touches.length===1?e.touches[0]:e,a=new U(r.clientX,r.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,ce(e),this._moved||(this.fire("dragstart"),this._moved=!0,Pt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Pt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Xt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){Kt(document.body,"leaflet-dragging"),this._lastTarget&&(Kt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Bt(document,"mousemove touchmove",this._onMove,this),Bt(document,"mouseup touchend touchcancel",this._onUp,this),Ko(),ys();var r=this._moved&&this._moving;this._moving=!1,Ui._dragging=!1,r&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function Ru(e,r,a){var c,f=[1,4,2,8],g,w,E,k,R,G,dt,St;for(g=0,G=e.length;g<G;g++)e[g]._code=mn(e[g],r);for(E=0;E<4;E++){for(dt=f[E],c=[],g=0,G=e.length,w=G-1;g<G;w=g++)k=e[g],R=e[w],k._code&dt?R._code&dt||(St=wr(R,k,dt,r,a),St._code=mn(St,r),c.push(St)):(R._code&dt&&(St=wr(R,k,dt,r,a),St._code=mn(St,r),c.push(St)),c.push(k));e=c}return e}function Du(e,r){var a,c,f,g,w,E,k,R,G;if(!e||e.length===0)throw new Error("latlngs not passed");Ge(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var dt=ut([0,0]),St=xt(e),Le=St.getNorthWest().distanceTo(St.getSouthWest())*St.getNorthEast().distanceTo(St.getNorthWest());Le<1700&&(dt=oa(e));var le=e.length,Ke=[];for(a=0;a<le;a++){var Oe=ut(e[a]);Ke.push(r.project(ut([Oe.lat-dt.lat,Oe.lng-dt.lng])))}for(E=k=R=0,a=0,c=le-1;a<le;c=a++)f=Ke[a],g=Ke[c],w=f.y*g.x-g.y*f.x,k+=(f.x+g.x)*w,R+=(f.y+g.y)*w,E+=w*3;E===0?G=Ke[0]:G=[k/E,R/E];var Kn=r.unproject(J(G));return ut([Kn.lat+dt.lat,Kn.lng+dt.lng])}function oa(e){for(var r=0,a=0,c=0,f=0;f<e.length;f++){var g=ut(e[f]);r+=g.lat,a+=g.lng,c++}return ut([r/c,a/c])}var Jp={__proto__:null,clipPolygon:Ru,polygonCenter:Du,centroid:oa};function Fu(e,r){if(!r||!e.length)return e.slice();var a=r*r;return e=t_(e,a),e=Qp(e,a),e}function Nu(e,r,a){return Math.sqrt(Ps(e,r,a,!0))}function Xp(e,r,a){return Ps(e,r,a)}function Qp(e,r){var a=e.length,c=typeof Uint8Array!=void 0+""?Uint8Array:Array,f=new c(a);f[0]=f[a-1]=1,aa(e,f,r,0,a-1);var g,w=[];for(g=0;g<a;g++)f[g]&&w.push(e[g]);return w}function aa(e,r,a,c,f){var g=0,w,E,k;for(E=c+1;E<=f-1;E++)k=Ps(e[E],e[c],e[f],!0),k>g&&(w=E,g=k);g>a&&(r[w]=1,aa(e,r,a,c,w),aa(e,r,a,w,f))}function t_(e,r){for(var a=[e[0]],c=1,f=0,g=e.length;c<g;c++)e_(e[c],e[f])>r&&(a.push(e[c]),f=c);return f<g-1&&a.push(e[g-1]),a}var Bu;function zu(e,r,a,c,f){var g=c?Bu:mn(e,a),w=mn(r,a),E,k,R;for(Bu=w;;){if(!(g|w))return[e,r];if(g&w)return!1;E=g||w,k=wr(e,r,E,a,f),R=mn(k,a),E===g?(e=k,g=R):(r=k,w=R)}}function wr(e,r,a,c,f){var g=r.x-e.x,w=r.y-e.y,E=c.min,k=c.max,R,G;return a&8?(R=e.x+g*(k.y-e.y)/w,G=k.y):a&4?(R=e.x+g*(E.y-e.y)/w,G=E.y):a&2?(R=k.x,G=e.y+w*(k.x-e.x)/g):a&1&&(R=E.x,G=e.y+w*(E.x-e.x)/g),new U(R,G,f)}function mn(e,r){var a=0;return e.x<r.min.x?a|=1:e.x>r.max.x&&(a|=2),e.y<r.min.y?a|=4:e.y>r.max.y&&(a|=8),a}function e_(e,r){var a=r.x-e.x,c=r.y-e.y;return a*a+c*c}function Ps(e,r,a,c){var f=r.x,g=r.y,w=a.x-f,E=a.y-g,k=w*w+E*E,R;return k>0&&(R=((e.x-f)*w+(e.y-g)*E)/k,R>1?(f=a.x,g=a.y):R>0&&(f+=w*R,g+=E*R)),w=e.x-f,E=e.y-g,c?w*w+E*E:new U(f,g)}function Ge(e){return!M(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function $u(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ge(e)}function Zu(e,r){var a,c,f,g,w,E,k,R;if(!e||e.length===0)throw new Error("latlngs not passed");Ge(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var G=ut([0,0]),dt=xt(e),St=dt.getNorthWest().distanceTo(dt.getSouthWest())*dt.getNorthEast().distanceTo(dt.getNorthWest());St<1700&&(G=oa(e));var Le=e.length,le=[];for(a=0;a<Le;a++){var Ke=ut(e[a]);le.push(r.project(ut([Ke.lat-G.lat,Ke.lng-G.lng])))}for(a=0,c=0;a<Le-1;a++)c+=le[a].distanceTo(le[a+1])/2;if(c===0)R=le[0];else for(a=0,g=0;a<Le-1;a++)if(w=le[a],E=le[a+1],f=w.distanceTo(E),g+=f,g>c){k=(g-c)/f,R=[E.x-k*(E.x-w.x),E.y-k*(E.y-w.y)];break}var Oe=r.unproject(J(R));return ut([Oe.lat+G.lat,Oe.lng+G.lng])}var i_={__proto__:null,simplify:Fu,pointToSegmentDistance:Nu,closestPointOnSegment:Xp,clipSegment:zu,_getEdgeIntersection:wr,_getBitCode:mn,_sqClosestPointOnSegment:Ps,isFlat:Ge,_flat:$u,polylineCenter:Zu},la={project:function(e){return new U(e.lng,e.lat)},unproject:function(e){return new bt(e.y,e.x)},bounds:new yt([-180,-90],[180,90])},ua={R:6378137,R_MINOR:6356752314245179e-9,bounds:new yt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var r=Math.PI/180,a=this.R,c=e.lat*r,f=this.R_MINOR/a,g=Math.sqrt(1-f*f),w=g*Math.sin(c),E=Math.tan(Math.PI/4-c/2)/Math.pow((1-w)/(1+w),g/2);return c=-a*Math.log(Math.max(E,1e-10)),new U(e.lng*r*a,c)},unproject:function(e){for(var r=180/Math.PI,a=this.R,c=this.R_MINOR/a,f=Math.sqrt(1-c*c),g=Math.exp(-e.y/a),w=Math.PI/2-2*Math.atan(g),E=0,k=.1,R;E<15&&Math.abs(k)>1e-7;E++)R=f*Math.sin(w),R=Math.pow((1-R)/(1+R),f/2),k=Math.PI/2-2*Math.atan(g*R)-w,w+=k;return new bt(w*r,e.x*r/a)}},n_={__proto__:null,LonLat:la,Mercator:ua,SphericalMercator:ie},s_=o({},Ae,{code:"EPSG:3395",projection:ua,transformation:function(){var e=.5/(Math.PI*ua.R);return qe(e,.5,-e,.5)}()}),Hu=o({},Ae,{code:"EPSG:4326",projection:la,transformation:qe(1/180,1,-1/180,.5)}),r_=o({},ae,{projection:la,transformation:qe(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,r){var a=r.lng-e.lng,c=r.lat-e.lat;return Math.sqrt(a*a+c*c)},infinite:!0});ae.Earth=Ae,ae.EPSG3395=s_,ae.EPSG3857=b,ae.EPSG900913=P,ae.EPSG4326=Hu,ae.Simple=r_;var ri=pt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[d(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[d(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var r=e.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var a=this.getEvents();r.on(a,this),this.once("remove",function(){r.off(a,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});Mt.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var r=d(e);return this._layers[r]?this:(this._layers[r]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var r=d(e);return this._layers[r]?(this._loaded&&e.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return d(e)in this._layers},eachLayer:function(e,r){for(var a in this._layers)e.call(r,this._layers[a]);return this},_addLayers:function(e){e=e?M(e)?e:[e]:[];for(var r=0,a=e.length;r<a;r++)this.addLayer(e[r])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[d(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var r=d(e);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,r=-1/0,a=this._getZoomSpan();for(var c in this._zoomBoundLayers){var f=this._zoomBoundLayers[c].options;e=f.minZoom===void 0?e:Math.min(e,f.minZoom),r=f.maxZoom===void 0?r:Math.max(r,f.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=e===1/0?void 0:e,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Wn=ri.extend({initialize:function(e,r){x(this,r),this._layers={};var a,c;if(e)for(a=0,c=e.length;a<c;a++)this.addLayer(e[a])},addLayer:function(e){var r=this.getLayerId(e);return this._layers[r]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var r=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(e){var r=typeof e=="number"?e:this.getLayerId(e);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var r=Array.prototype.slice.call(arguments,1),a,c;for(a in this._layers)c=this._layers[a],c[e]&&c[e].apply(c,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,r){for(var a in this._layers)e.call(r,this._layers[a]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return d(e)}}),o_=function(e,r){return new Wn(e,r)},Si=Wn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Wn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Wn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new kt;for(var r in this._layers){var a=this._layers[r];e.extend(a.getBounds?a.getBounds():a.getLatLng())}return e}}),a_=function(e,r){return new Si(e,r)},jn=_t.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){x(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,r){var a=this._getIconUrl(e);if(!a){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(a,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(c,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(e,r){var a=this.options,c=a[r+"Size"];typeof c=="number"&&(c=[c,c]);var f=J(c),g=J(r==="shadow"&&a.shadowAnchor||a.iconAnchor||f&&f.divideBy(2,!0));e.className="leaflet-marker-"+r+" "+(a.className||""),g&&(e.style.marginLeft=-g.x+"px",e.style.marginTop=-g.y+"px"),f&&(e.style.width=f.x+"px",e.style.height=f.y+"px")},_createImg:function(e,r){return r=r||document.createElement("img"),r.src=e,r},_getIconUrl:function(e){return nt.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function l_(e){return new jn(e)}var Es=jn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof Es.imagePath!="string"&&(Es.imagePath=this._detectIconPath()),(this.options.imagePath||Es.imagePath)+jn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var r=function(a,c,f){var g=c.exec(a);return g&&g[f]};return e=r(e,/^url\((['"])?(.+)\1\)$/,2),e&&r(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=Ct("div","leaflet-default-icon-path",document.body),r=ms(e,"background-image")||ms(e,"backgroundImage");if(document.body.removeChild(e),r=this._stripUrl(r),r)return r;var a=document.querySelector('link[href$="leaflet.css"]');return a?a.href.substring(0,a.href.length-11-1):""}}),Uu=pi.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new Ui(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Pt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Kt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var r=this._marker,a=r._map,c=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,g=pn(r._icon),w=a.getPixelBounds(),E=a.getPixelOrigin(),k=et(w.min._subtract(E).add(f),w.max._subtract(E).subtract(f));if(!k.contains(g)){var R=J((Math.max(k.max.x,g.x)-k.max.x)/(w.max.x-k.max.x)-(Math.min(k.min.x,g.x)-k.min.x)/(w.min.x-k.min.x),(Math.max(k.max.y,g.y)-k.max.y)/(w.max.y-k.max.y)-(Math.min(k.min.y,g.y)-k.min.y)/(w.min.y-k.min.y)).multiplyBy(c);a.panBy(R,{animate:!1}),this._draggable._newPos._add(R),this._draggable._startPos._add(R),Xt(r._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=st(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&($(this._panRequest),this._panRequest=st(this._adjustPan.bind(this,e)))},_onDrag:function(e){var r=this._marker,a=r._shadow,c=pn(r._icon),f=r._map.layerPointToLatLng(c);a&&Xt(a,c),r._latlng=f,e.latlng=f,e.oldLatLng=this._oldLatLng,r.fire("move",e).fire("drag",e)},_onDragEnd:function(e){$(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),xr=ri.extend({options:{icon:new Es,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,r){x(this,r),this._latlng=ut(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var r=this._latlng;return this._latlng=ut(e),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=e.icon.createIcon(this._icon),c=!1;a!==this._icon&&(this._icon&&this._removeIcon(),c=!0,e.title&&(a.title=e.title),a.tagName==="IMG"&&(a.alt=e.alt||"")),Pt(a,r),e.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&mt(a,"focus",this._panOnFocus,this);var f=e.icon.createShadow(this._shadow),g=!1;f!==this._shadow&&(this._removeShadow(),g=!0),f&&(Pt(f,r),f.alt=""),this._shadow=f,e.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&g&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Bt(this._icon,"focus",this._panOnFocus,this),Wt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Wt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Xt(this._icon,e),this._shadow&&Xt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var r=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(Pt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Uu)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Uu(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&Ve(this._icon,e),this._shadow&&Ve(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var r=this.options.icon.options,a=r.iconSize?J(r.iconSize):J(0,0),c=r.iconAnchor?J(r.iconAnchor):J(0,0);e.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:a.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function u_(e,r){return new xr(e,r)}var Wi=ri.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return x(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Pr=Wi.extend({options:{fill:!0,radius:10},initialize:function(e,r){x(this,r),this._latlng=ut(e),this._radius=this.options.radius},setLatLng:function(e){var r=this._latlng;return this._latlng=ut(e),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var r=e&&e.radius||this._radius;return Wi.prototype.setStyle.call(this,e),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,r=this._radiusY||e,a=this._clickTolerance(),c=[e+a,r+a];this._pxBounds=new yt(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function c_(e,r){return new Pr(e,r)}var ca=Pr.extend({initialize:function(e,r,a){if(typeof r=="number"&&(r=o({},a,{radius:r})),x(this,r),this._latlng=ut(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new kt(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Wi.prototype.setStyle,_project:function(){var e=this._latlng.lng,r=this._latlng.lat,a=this._map,c=a.options.crs;if(c.distance===Ae.distance){var f=Math.PI/180,g=this._mRadius/Ae.R/f,w=a.project([r+g,e]),E=a.project([r-g,e]),k=w.add(E).divideBy(2),R=a.unproject(k).lat,G=Math.acos((Math.cos(g*f)-Math.sin(r*f)*Math.sin(R*f))/(Math.cos(r*f)*Math.cos(R*f)))/f;(isNaN(G)||G===0)&&(G=g/Math.cos(Math.PI/180*r)),this._point=k.subtract(a.getPixelOrigin()),this._radius=isNaN(G)?0:k.x-a.project([R,e-G]).x,this._radiusY=k.y-w.y}else{var dt=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(dt).x}this._updateBounds()}});function h_(e,r,a){return new ca(e,r,a)}var Ti=Wi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,r){x(this,r),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var r=1/0,a=null,c=Ps,f,g,w=0,E=this._parts.length;w<E;w++)for(var k=this._parts[w],R=1,G=k.length;R<G;R++){f=k[R-1],g=k[R];var dt=c(e,f,g,!0);dt<r&&(r=dt,a=c(e,f,g))}return a&&(a.distance=Math.sqrt(r)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Zu(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,r){return r=r||this._defaultShape(),e=ut(e),r.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new kt,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Ge(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var r=[],a=Ge(e),c=0,f=e.length;c<f;c++)a?(r[c]=ut(e[c]),this._bounds.extend(r[c])):r[c]=this._convertLatLngs(e[c]);return r},_project:function(){var e=new yt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),r=new U(e,e);this._rawPxBounds&&(this._pxBounds=new yt([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(e,r,a){var c=e[0]instanceof bt,f=e.length,g,w;if(c){for(w=[],g=0;g<f;g++)w[g]=this._map.latLngToLayerPoint(e[g]),a.extend(w[g]);r.push(w)}else for(g=0;g<f;g++)this._projectLatlngs(e[g],r,a)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,a,c,f,g,w,E,k;for(a=0,f=0,g=this._rings.length;a<g;a++)for(k=this._rings[a],c=0,w=k.length;c<w-1;c++)E=zu(k[c],k[c+1],e,c,!0),E&&(r[f]=r[f]||[],r[f].push(E[0]),(E[1]!==k[c+1]||c===w-2)&&(r[f].push(E[1]),f++))}},_simplifyPoints:function(){for(var e=this._parts,r=this.options.smoothFactor,a=0,c=e.length;a<c;a++)e[a]=Fu(e[a],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,r){var a,c,f,g,w,E,k=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(a=0,g=this._parts.length;a<g;a++)for(E=this._parts[a],c=0,w=E.length,f=w-1;c<w;f=c++)if(!(!r&&c===0)&&Nu(e,E[f],E[c])<=k)return!0;return!1}});function d_(e,r){return new Ti(e,r)}Ti._flat=$u;var qn=Ti.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Du(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var r=Ti.prototype._convertLatLngs.call(this,e),a=r.length;return a>=2&&r[0]instanceof bt&&r[0].equals(r[a-1])&&r.pop(),r},_setLatLngs:function(e){Ti.prototype._setLatLngs.call(this,e),Ge(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ge(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,r=this.options.weight,a=new U(r,r);if(e=new yt(e.min.subtract(a),e.max.add(a)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,f=this._rings.length,g;c<f;c++)g=Ru(this._rings[c],e,!0),g.length&&this._parts.push(g)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var r=!1,a,c,f,g,w,E,k,R;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(g=0,k=this._parts.length;g<k;g++)for(a=this._parts[g],w=0,R=a.length,E=R-1;w<R;E=w++)c=a[w],f=a[E],c.y>e.y!=f.y>e.y&&e.x<(f.x-c.x)*(e.y-c.y)/(f.y-c.y)+c.x&&(r=!r);return r||Ti.prototype._containsPoint.call(this,e,!0)}});function f_(e,r){return new qn(e,r)}var Li=Si.extend({initialize:function(e,r){x(this,r),this._layers={},e&&this.addData(e)},addData:function(e){var r=M(e)?e:e.features,a,c,f;if(r){for(a=0,c=r.length;a<c;a++)f=r[a],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var g=this.options;if(g.filter&&!g.filter(e))return this;var w=Er(e,g);return w?(w.feature=Lr(e),w.defaultOptions=w.options,this.resetStyle(w),g.onEachFeature&&g.onEachFeature(e,w),this.addLayer(w)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=o({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(r){this._setLayerStyle(r,e)},this)},_setLayerStyle:function(e,r){e.setStyle&&(typeof r=="function"&&(r=r(e.feature)),e.setStyle(r))}});function Er(e,r){var a=e.type==="Feature"?e.geometry:e,c=a?a.coordinates:null,f=[],g=r&&r.pointToLayer,w=r&&r.coordsToLatLng||ha,E,k,R,G;if(!c&&!a)return null;switch(a.type){case"Point":return E=w(c),Wu(g,e,E,r);case"MultiPoint":for(R=0,G=c.length;R<G;R++)E=w(c[R]),f.push(Wu(g,e,E,r));return new Si(f);case"LineString":case"MultiLineString":return k=Sr(c,a.type==="LineString"?0:1,w),new Ti(k,r);case"Polygon":case"MultiPolygon":return k=Sr(c,a.type==="Polygon"?1:2,w),new qn(k,r);case"GeometryCollection":for(R=0,G=a.geometries.length;R<G;R++){var dt=Er({geometry:a.geometries[R],type:"Feature",properties:e.properties},r);dt&&f.push(dt)}return new Si(f);case"FeatureCollection":for(R=0,G=a.features.length;R<G;R++){var St=Er(a.features[R],r);St&&f.push(St)}return new Si(f);default:throw new Error("Invalid GeoJSON object.")}}function Wu(e,r,a,c){return e?e(r,a):new xr(a,c&&c.markersInheritOptions&&c)}function ha(e){return new bt(e[1],e[0],e[2])}function Sr(e,r,a){for(var c=[],f=0,g=e.length,w;f<g;f++)w=r?Sr(e[f],r-1,a):(a||ha)(e[f]),c.push(w);return c}function da(e,r){return e=ut(e),e.alt!==void 0?[v(e.lng,r),v(e.lat,r),v(e.alt,r)]:[v(e.lng,r),v(e.lat,r)]}function Tr(e,r,a,c){for(var f=[],g=0,w=e.length;g<w;g++)f.push(r?Tr(e[g],Ge(e[g])?0:r-1,a,c):da(e[g],c));return!r&&a&&f.length>0&&f.push(f[0].slice()),f}function Vn(e,r){return e.feature?o({},e.feature,{geometry:r}):Lr(r)}function Lr(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var fa={toGeoJSON:function(e){return Vn(this,{type:"Point",coordinates:da(this.getLatLng(),e)})}};xr.include(fa),ca.include(fa),Pr.include(fa),Ti.include({toGeoJSON:function(e){var r=!Ge(this._latlngs),a=Tr(this._latlngs,r?1:0,!1,e);return Vn(this,{type:(r?"Multi":"")+"LineString",coordinates:a})}}),qn.include({toGeoJSON:function(e){var r=!Ge(this._latlngs),a=r&&!Ge(this._latlngs[0]),c=Tr(this._latlngs,a?2:r?1:0,!0,e);return r||(c=[c]),Vn(this,{type:(a?"Multi":"")+"Polygon",coordinates:c})}}),Wn.include({toMultiPoint:function(e){var r=[];return this.eachLayer(function(a){r.push(a.toGeoJSON(e).geometry.coordinates)}),Vn(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(e){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(e);var a=r==="GeometryCollection",c=[];return this.eachLayer(function(f){if(f.toGeoJSON){var g=f.toGeoJSON(e);if(a)c.push(g.geometry);else{var w=Lr(g);w.type==="FeatureCollection"?c.push.apply(c,w.features):c.push(w)}}}),a?Vn(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function ju(e,r){return new Li(e,r)}var p_=ju,kr=ri.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,r,a){this._url=e,this._bounds=xt(r),x(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Pt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Wt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&Hn(this._image),this},bringToBack:function(){return this._map&&Un(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=xt(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",r=this._image=e?this._url:Ct("img");if(Pt(r,"leaflet-image-layer"),this._zoomAnimated&&Pt(r,"leaflet-zoom-animated"),this.options.className&&Pt(r,this.options.className),r.onselectstart=m,r.onmousemove=m,r.onload=u(this.fire,this,"load"),r.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(e){var r=this._map.getZoomScale(e.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;fn(this._image,a,r)},_reset:function(){var e=this._image,r=new yt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=r.getSize();Xt(e,r.min),e.style.width=a.x+"px",e.style.height=a.y+"px"},_updateOpacity:function(){Ve(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),__=function(e,r,a){return new kr(e,r,a)},qu=kr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",r=this._image=e?this._url:Ct("video");if(Pt(r,"leaflet-image-layer"),this._zoomAnimated&&Pt(r,"leaflet-zoom-animated"),this.options.className&&Pt(r,this.options.className),r.onselectstart=m,r.onmousemove=m,r.onloadeddata=u(this.fire,this,"load"),e){for(var a=r.getElementsByTagName("source"),c=[],f=0;f<a.length;f++)c.push(a[f].src);this._url=a.length>0?c:[r.src];return}M(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var g=0;g<this._url.length;g++){var w=Ct("source");w.src=this._url[g],r.appendChild(w)}}});function g_(e,r,a){return new qu(e,r,a)}var Vu=kr.extend({_initImage:function(){var e=this._image=this._url;Pt(e,"leaflet-image-layer"),this._zoomAnimated&&Pt(e,"leaflet-zoom-animated"),this.options.className&&Pt(e,this.options.className),e.onselectstart=m,e.onmousemove=m}});function m_(e,r,a){return new Vu(e,r,a)}var _i=ri.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,r){e&&(e instanceof bt||M(e))?(this._latlng=ut(e),x(this,r)):(x(this,e),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&Ve(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&Ve(this._container,1),this.bringToFront(),this.options.interactive&&(Pt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(Ve(this._container,0),this._removeTimeout=setTimeout(u(Wt,void 0,this._container),200)):Wt(this._container),this.options.interactive&&(Kt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=ut(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Hn(this._container),this},bringToBack:function(){return this._map&&Un(this._container),this},_prepareOpen:function(e){var r=this._source;if(!r._map)return!1;if(r instanceof Si){r=null;var a=this._source._layers;for(var c in a)if(a[c]._map){r=a[c];break}if(!r)return!1;this._source=r}if(!e)if(r.getCenter)e=r.getCenter();else if(r.getLatLng)e=r.getLatLng();else if(r.getBounds)e=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")e.innerHTML=r;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),r=J(this.options.offset),a=this._getAnchor();this._zoomAnimated?Xt(this._container,e.add(a)):r=r.add(e).add(a);var c=this._containerBottom=-r.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=c+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});Mt.include({_initOverlay:function(e,r,a,c){var f=r;return f instanceof e||(f=new e(c).setContent(r)),a&&f.setLatLng(a),f}}),ri.include({_initOverlay:function(e,r,a,c){var f=a;return f instanceof e?(x(f,c),f._source=this):(f=r&&!c?r:new e(c,this),f.setContent(a)),f}});var Mr=_i.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,_i.prototype.openOn.call(this,e)},onAdd:function(e){_i.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Wi||this._source.on("preclick",_n))},onRemove:function(e){_i.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Wi||this._source.off("preclick",_n))},getEvents:function(){var e=_i.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",r=this._container=Ct("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=Ct("div",e+"-content-wrapper",r);if(this._contentNode=Ct("div",e+"-content",a),ws(r),ia(this._contentNode),mt(r,"contextmenu",_n),this._tipContainer=Ct("div",e+"-tip-container",r),this._tip=Ct("div",e+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=Ct("a",e+"-close-button",r);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',mt(c,"click",function(f){ce(f),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,r=e.style;r.width="",r.whiteSpace="nowrap";var a=e.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),r.width=a+1+"px",r.whiteSpace="",r.height="";var c=e.offsetHeight,f=this.options.maxHeight,g="leaflet-popup-scrolled";f&&c>f?(r.height=f+"px",Pt(e,g)):Kt(e,g),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var r=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),a=this._getAnchor();Xt(this._container,r.add(a))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,r=parseInt(ms(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+r,c=this._containerWidth,f=new U(this._containerLeft,-a-this._containerBottom);f._add(pn(this._container));var g=e.layerPointToContainerPoint(f),w=J(this.options.autoPanPadding),E=J(this.options.autoPanPaddingTopLeft||w),k=J(this.options.autoPanPaddingBottomRight||w),R=e.getSize(),G=0,dt=0;g.x+c+k.x>R.x&&(G=g.x+c-R.x+k.x),g.x-G-E.x<0&&(G=g.x-E.x),g.y+a+k.y>R.y&&(dt=g.y+a-R.y+k.y),g.y-dt-E.y<0&&(dt=g.y-E.y),(G||dt)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([G,dt]))}},_getAnchor:function(){return J(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),v_=function(e,r){return new Mr(e,r)};Mt.mergeOptions({closePopupOnClick:!0}),Mt.include({openPopup:function(e,r,a){return this._initOverlay(Mr,e,r,a).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),ri.include({bindPopup:function(e,r){return this._popup=this._initOverlay(Mr,this._popup,e,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Si||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){gn(e);var r=e.layer||e.target;if(this._popup._source===r&&!(r instanceof Wi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=r,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Cr=_i.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){_i.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){_i.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=_i.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",r=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ct("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var r,a,c=this._map,f=this._container,g=c.latLngToContainerPoint(c.getCenter()),w=c.layerPointToContainerPoint(e),E=this.options.direction,k=f.offsetWidth,R=f.offsetHeight,G=J(this.options.offset),dt=this._getAnchor();E==="top"?(r=k/2,a=R):E==="bottom"?(r=k/2,a=0):E==="center"?(r=k/2,a=R/2):E==="right"?(r=0,a=R/2):E==="left"?(r=k,a=R/2):w.x<g.x?(E="right",r=0,a=R/2):(E="left",r=k+(G.x+dt.x)*2,a=R/2),e=e.subtract(J(r,a,!0)).add(G).add(dt),Kt(f,"leaflet-tooltip-right"),Kt(f,"leaflet-tooltip-left"),Kt(f,"leaflet-tooltip-top"),Kt(f,"leaflet-tooltip-bottom"),Pt(f,"leaflet-tooltip-"+E),Xt(f,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&Ve(this._container,e)},_animateZoom:function(e){var r=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(r)},_getAnchor:function(){return J(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),y_=function(e,r){return new Cr(e,r)};Mt.include({openTooltip:function(e,r,a){return this._initOverlay(Cr,e,r,a).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),ri.include({bindTooltip:function(e,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Cr,this._tooltip,e,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var r=e?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip,this._map?this._addFocusListeners():a.add=this._addFocusListeners),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[r](a),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Si||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var r=typeof e.getElement=="function"&&e.getElement();r&&(mt(r,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),mt(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var r=typeof e.getElement=="function"&&e.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var r=e.latlng,a,c;this._tooltip.options.sticky&&e.originalEvent&&(a=this._map.mouseEventToContainerPoint(e.originalEvent),c=this._map.containerPointToLayerPoint(a),r=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(r)}});var Gu=jn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var r=e&&e.tagName==="DIV"?e:document.createElement("div"),a=this.options;if(a.html instanceof Element?(gr(r),r.appendChild(a.html)):r.innerHTML=a.html!==!1?a.html:"",a.bgPos){var c=J(a.bgPos);r.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function b_(e){return new Gu(e)}jn.Default=Es;var Ss=ri.extend({options:{tileSize:256,opacity:1,updateWhenIdle:nt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){x(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),Wt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Hn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Un(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof U?e:new U(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var r=this.getPane().children,a=-e(-1/0,1/0),c=0,f=r.length,g;c<f;c++)g=r[c].style.zIndex,r[c]!==this._container&&g&&(a=e(a,+g));isFinite(a)&&(this.options.zIndex=a+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!nt.ielt9){Ve(this._container,this.options.opacity);var e=+new Date,r=!1,a=!1;for(var c in this._tiles){var f=this._tiles[c];if(!(!f.current||!f.loaded)){var g=Math.min(1,(e-f.loaded)/200);Ve(f.el,g),g<1?r=!0:(f.active?a=!0:this._onOpaqueTile(f),f.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),r&&($(this._fadeFrame),this._fadeFrame=st(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=Ct("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,r=this.options.maxZoom;if(e!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===e?(this._levels[a].el.style.zIndex=r-Math.abs(e-a),this._onUpdateLevel(a)):(Wt(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var c=this._levels[e],f=this._map;return c||(c=this._levels[e]={},c.el=Ct("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=r,c.origin=f.project(f.unproject(f.getPixelOrigin()),e).round(),c.zoom=e,this._setZoomTransform(c,f.getCenter(),f.getZoom()),m(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var e,r,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)r=this._tiles[e],r.retain=r.current;for(e in this._tiles)if(r=this._tiles[e],r.current&&!r.active){var c=r.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var r in this._tiles)this._tiles[r].coords.z===e&&this._removeTile(r)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)Wt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,r,a,c){var f=Math.floor(e/2),g=Math.floor(r/2),w=a-1,E=new U(+f,+g);E.z=+w;var k=this._tileCoordsToKey(E),R=this._tiles[k];return R&&R.active?(R.retain=!0,!0):(R&&R.loaded&&(R.retain=!0),w>c?this._retainParent(f,g,w,c):!1)},_retainChildren:function(e,r,a,c){for(var f=2*e;f<2*e+2;f++)for(var g=2*r;g<2*r+2;g++){var w=new U(f,g);w.z=a+1;var E=this._tileCoordsToKey(w),k=this._tiles[E];if(k&&k.active){k.retain=!0;continue}else k&&k.loaded&&(k.retain=!0);a+1<c&&this._retainChildren(f,g,a+1,c)}},_resetView:function(e){var r=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var r=this.options;return r.minNativeZoom!==void 0&&e<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<e?r.maxNativeZoom:e},_setView:function(e,r,a,c){var f=Math.round(r);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var g=this.options.updateWhenZooming&&f!==this._tileZoom;(!c||g)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(e),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(e,r)},_setZoomTransforms:function(e,r){for(var a in this._levels)this._setZoomTransform(this._levels[a],e,r)},_setZoomTransform:function(e,r,a){var c=this._map.getZoomScale(a,e.zoom),f=e.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(r,a)).round();nt.any3d?fn(e.el,f,c):Xt(e.el,f)},_resetGrid:function(){var e=this._map,r=e.options.crs,a=this._tileSize=this.getTileSize(),c=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,r.wrapLng[0]],c).x/a.x),Math.ceil(e.project([0,r.wrapLng[1]],c).x/a.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([r.wrapLat[0],0],c).y/a.x),Math.ceil(e.project([r.wrapLat[1],0],c).y/a.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var r=this._map,a=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),c=r.getZoomScale(a,this._tileZoom),f=r.project(e,this._tileZoom).floor(),g=r.getSize().divideBy(c*2);return new yt(f.subtract(g),f.add(g))},_update:function(e){var r=this._map;if(r){var a=this._clampZoom(r.getZoom());if(e===void 0&&(e=r.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(e),f=this._pxBoundsToTileRange(c),g=f.getCenter(),w=[],E=this.options.keepBuffer,k=new yt(f.getBottomLeft().subtract([E,-E]),f.getTopRight().add([E,-E]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var R in this._tiles){var G=this._tiles[R].coords;(G.z!==this._tileZoom||!k.contains(new U(G.x,G.y)))&&(this._tiles[R].current=!1)}if(Math.abs(a-this._tileZoom)>1){this._setView(e,a);return}for(var dt=f.min.y;dt<=f.max.y;dt++)for(var St=f.min.x;St<=f.max.x;St++){var Le=new U(St,dt);if(Le.z=this._tileZoom,!!this._isValidTile(Le)){var le=this._tiles[this._tileCoordsToKey(Le)];le?le.current=!0:w.push(Le)}}if(w.sort(function(Oe,Kn){return Oe.distanceTo(g)-Kn.distanceTo(g)}),w.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ke=document.createDocumentFragment();for(St=0;St<w.length;St++)this._addTile(w[St],Ke);this._level.el.appendChild(Ke)}}}},_isValidTile:function(e){var r=this._map.options.crs;if(!r.infinite){var a=this._globalTileRange;if(!r.wrapLng&&(e.x<a.min.x||e.x>a.max.x)||!r.wrapLat&&(e.y<a.min.y||e.y>a.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(e);return xt(this.options.bounds).overlaps(c)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var r=this._map,a=this.getTileSize(),c=e.scaleBy(a),f=c.add(a),g=r.unproject(c,e.z),w=r.unproject(f,e.z);return[g,w]},_tileCoordsToBounds:function(e){var r=this._tileCoordsToNwSe(e),a=new kt(r[0],r[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var r=e.split(":"),a=new U(+r[0],+r[1]);return a.z=+r[2],a},_removeTile:function(e){var r=this._tiles[e];r&&(Wt(r.el),delete this._tiles[e],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){Pt(e,"leaflet-tile");var r=this.getTileSize();e.style.width=r.x+"px",e.style.height=r.y+"px",e.onselectstart=m,e.onmousemove=m,nt.ielt9&&this.options.opacity<1&&Ve(e,this.options.opacity)},_addTile:function(e,r){var a=this._getTilePos(e),c=this._tileCoordsToKey(e),f=this.createTile(this._wrapCoords(e),u(this._tileReady,this,e));this._initTile(f),this.createTile.length<2&&st(u(this._tileReady,this,e,null,f)),Xt(f,a),this._tiles[c]={el:f,coords:e,current:!0},r.appendChild(f),this.fire("tileloadstart",{tile:f,coords:e})},_tileReady:function(e,r,a){r&&this.fire("tileerror",{error:r,tile:a,coords:e});var c=this._tileCoordsToKey(e);a=this._tiles[c],a&&(a.loaded=+new Date,this._map._fadeAnimated?(Ve(a.el,0),$(this._fadeFrame),this._fadeFrame=st(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),r||(Pt(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),nt.ielt9||!this._map._fadeAnimated?st(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var r=new U(this._wrapX?p(e.x,this._wrapX):e.x,this._wrapY?p(e.y,this._wrapY):e.y);return r.z=e.z,r},_pxBoundsToTileRange:function(e){var r=this.getTileSize();return new yt(e.min.unscaleBy(r).floor(),e.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function w_(e){return new Ss(e)}var Gn=Ss.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,r){this._url=e,r=x(this,r),r.detectRetina&&nt.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,r){return this._url===e&&r===void 0&&(r=!0),this._url=e,r||this.redraw(),this},createTile:function(e,r){var a=document.createElement("img");return mt(a,"load",u(this._tileOnLoad,this,r,a)),mt(a,"error",u(this._tileOnError,this,r,a)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.src=this.getTileUrl(e),a},getTileUrl:function(e){var r={r:nt.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-e.y;this.options.tms&&(r.y=a),r["-y"]=a}return A(this._url,o(r,this.options))},_tileOnLoad:function(e,r){nt.ielt9?setTimeout(u(e,this,null,r),0):e(null,r)},_tileOnError:function(e,r,a){var c=this.options.errorTileUrl;c&&r.getAttribute("src")!==c&&(r.src=c),e(a,r)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,r=this.options.maxZoom,a=this.options.zoomReverse,c=this.options.zoomOffset;return a&&(e=r-e),e+c},_getSubdomain:function(e){var r=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var e,r;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(r=this._tiles[e].el,r.onload=m,r.onerror=m,!r.complete)){r.src=W;var a=this._tiles[e].coords;Wt(r),delete this._tiles[e],this.fire("tileabort",{tile:r,coords:a})}},_removeTile:function(e){var r=this._tiles[e];if(r)return r.el.setAttribute("src",W),Ss.prototype._removeTile.call(this,e)},_tileReady:function(e,r,a){if(!(!this._map||a&&a.getAttribute("src")===W))return Ss.prototype._tileReady.call(this,e,r,a)}});function Ku(e,r){return new Gn(e,r)}var Yu=Gn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,r){this._url=e;var a=o({},this.defaultWmsParams);for(var c in r)c in this.options||(a[c]=r[c]);r=x(this,r);var f=r.detectRetina&&nt.retina?2:1,g=this.getTileSize();a.width=g.x*f,a.height=g.y*f,this.wmsParams=a},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,Gn.prototype.onAdd.call(this,e)},getTileUrl:function(e){var r=this._tileCoordsToNwSe(e),a=this._crs,c=et(a.project(r[0]),a.project(r[1])),f=c.min,g=c.max,w=(this._wmsVersion>=1.3&&this._crs===Hu?[f.y,f.x,g.y,g.x]:[f.x,f.y,g.x,g.y]).join(","),E=Gn.prototype.getTileUrl.call(this,e);return E+z(this.wmsParams,E,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+w},setParams:function(e,r){return o(this.wmsParams,e),r||this.redraw(),this}});function x_(e,r){return new Yu(e,r)}Gn.WMS=Yu,Ku.wms=x_;var ki=ri.extend({options:{padding:.1},initialize:function(e){x(this,e),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Pt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,r){var a=this._map.getZoomScale(r,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,r),g=c.multiplyBy(-a).add(f).subtract(this._map._getNewPixelOrigin(e,r));nt.any3d?fn(this._container,g,a):Xt(this._container,g)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,r=this._map.getSize(),a=this._map.containerPointToLayerPoint(r.multiplyBy(-e)).round();this._bounds=new yt(a,a.add(r.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ju=ki.extend({options:{tolerance:0},getEvents:function(){var e=ki.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ki.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");mt(e,"mousemove",this._onMouseMove,this),mt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),mt(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){$(this._redrawRequest),delete this._ctx,Wt(this._container),Bt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var r in this._layers)e=this._layers[r],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ki.prototype._update.call(this);var e=this._bounds,r=this._container,a=e.getSize(),c=nt.retina?2:1;Xt(r,e.min),r.width=c*a.x,r.height=c*a.y,r.style.width=a.x+"px",r.style.height=a.y+"px",nt.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){ki.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[d(e)]=e;var r=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var r=e._order,a=r.next,c=r.prev;a?a.prev=c:this._drawLast=c,c?c.next=a:this._drawFirst=a,delete e._order,delete this._layers[d(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var r=e.options.dashArray.split(/[, ]+/),a=[],c,f;for(f=0;f<r.length;f++){if(c=Number(r[f]),isNaN(c))return;a.push(c)}e.options._dashArray=a}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||st(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var r=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new yt,this._redrawBounds.extend(e._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(e._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var r=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,r=this._redrawBounds;if(this._ctx.save(),r){var a=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)e=c.layer,(!r||e._pxBounds&&e._pxBounds.intersects(r))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,r){if(this._drawing){var a,c,f,g,w=e._parts,E=w.length,k=this._ctx;if(E){for(k.beginPath(),a=0;a<E;a++){for(c=0,f=w[a].length;c<f;c++)g=w[a][c],k[c?"lineTo":"moveTo"](g.x,g.y);r&&k.closePath()}this._fillStroke(k,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var r=e._point,a=this._ctx,c=Math.max(Math.round(e._radius),1),f=(Math.max(Math.round(e._radiusY),1)||c)/c;f!==1&&(a.save(),a.scale(1,f)),a.beginPath(),a.arc(r.x,r.y/f,c,0,Math.PI*2,!1),f!==1&&a.restore(),this._fillStroke(a,e)}},_fillStroke:function(e,r){var a=r.options;a.fill&&(e.globalAlpha=a.fillOpacity,e.fillStyle=a.fillColor||a.color,e.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(e.setLineDash&&e.setLineDash(r.options&&r.options._dashArray||[]),e.globalAlpha=a.opacity,e.lineWidth=a.weight,e.strokeStyle=a.color,e.lineCap=a.lineCap,e.lineJoin=a.lineJoin,e.stroke())},_onClick:function(e){for(var r=this._map.mouseEventToLayerPoint(e),a,c,f=this._drawFirst;f;f=f.next)a=f.layer,a.options.interactive&&a._containsPoint(r)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(a))&&(c=a);this._fireEvent(c?[c]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,r)}},_handleMouseOut:function(e){var r=this._hoveredLayer;r&&(Kt(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,r){if(!this._mouseHoverThrottled){for(var a,c,f=this._drawFirst;f;f=f.next)a=f.layer,a.options.interactive&&a._containsPoint(r)&&(c=a);c!==this._hoveredLayer&&(this._handleMouseOut(e),c&&(Pt(this._container,"leaflet-interactive"),this._fireEvent([c],e,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,r,a){this._map._fireDOMEvent(r,a||r.type,e)},_bringToFront:function(e){var r=e._order;if(r){var a=r.next,c=r.prev;if(a)a.prev=c;else return;c?c.next=a:a&&(this._drawFirst=a),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(e)}},_bringToBack:function(e){var r=e._order;if(r){var a=r.next,c=r.prev;if(c)c.next=a;else return;a?a.prev=c:c&&(this._drawLast=c),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(e)}}});function Xu(e){return nt.canvas?new Ju(e):null}var Ts=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),P_={_initContainer:function(){this._container=Ct("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ki.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var r=e._container=Ts("shape");Pt(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",e._path=Ts("path"),r.appendChild(e._path),this._updateStyle(e),this._layers[d(e)]=e},_addPath:function(e){var r=e._container;this._container.appendChild(r),e.options.interactive&&e.addInteractiveTarget(r)},_removePath:function(e){var r=e._container;Wt(r),e.removeInteractiveTarget(r),delete this._layers[d(e)]},_updateStyle:function(e){var r=e._stroke,a=e._fill,c=e.options,f=e._container;f.stroked=!!c.stroke,f.filled=!!c.fill,c.stroke?(r||(r=e._stroke=Ts("stroke")),f.appendChild(r),r.weight=c.weight+"px",r.color=c.color,r.opacity=c.opacity,c.dashArray?r.dashStyle=M(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=c.lineCap.replace("butt","flat"),r.joinstyle=c.lineJoin):r&&(f.removeChild(r),e._stroke=null),c.fill?(a||(a=e._fill=Ts("fill")),f.appendChild(a),a.color=c.fillColor||c.color,a.opacity=c.fillOpacity):a&&(f.removeChild(a),e._fill=null)},_updateCircle:function(e){var r=e._point.round(),a=Math.round(e._radius),c=Math.round(e._radiusY||a);this._setPath(e,e._empty()?"M0 0":"AL "+r.x+","+r.y+" "+a+","+c+" 0,"+65535*360)},_setPath:function(e,r){e._path.v=r},_bringToFront:function(e){Hn(e._container)},_bringToBack:function(e){Un(e._container)}},Ir=nt.vml?Ts:C,Ls=ki.extend({_initContainer:function(){this._container=Ir("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ir("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Wt(this._container),Bt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ki.prototype._update.call(this);var e=this._bounds,r=e.getSize(),a=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,a.setAttribute("width",r.x),a.setAttribute("height",r.y)),Xt(a,e.min),a.setAttribute("viewBox",[e.min.x,e.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(e){var r=e._path=Ir("path");e.options.className&&Pt(r,e.options.className),e.options.interactive&&Pt(r,"leaflet-interactive"),this._updateStyle(e),this._layers[d(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){Wt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[d(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var r=e._path,a=e.options;r&&(a.stroke?(r.setAttribute("stroke",a.color),r.setAttribute("stroke-opacity",a.opacity),r.setAttribute("stroke-width",a.weight),r.setAttribute("stroke-linecap",a.lineCap),r.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?r.setAttribute("stroke-dasharray",a.dashArray):r.removeAttribute("stroke-dasharray"),a.dashOffset?r.setAttribute("stroke-dashoffset",a.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),a.fill?(r.setAttribute("fill",a.fillColor||a.color),r.setAttribute("fill-opacity",a.fillOpacity),r.setAttribute("fill-rule",a.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(e,r){this._setPath(e,N(e._parts,r))},_updateCircle:function(e){var r=e._point,a=Math.max(Math.round(e._radius),1),c=Math.max(Math.round(e._radiusY),1)||a,f="a"+a+","+c+" 0 1,0 ",g=e._empty()?"M0 0":"M"+(r.x-a)+","+r.y+f+a*2+",0 "+f+-a*2+",0 ";this._setPath(e,g)},_setPath:function(e,r){e._path.setAttribute("d",r)},_bringToFront:function(e){Hn(e._path)},_bringToBack:function(e){Un(e._path)}});nt.vml&&Ls.include(P_);function Qu(e){return nt.svg||nt.vml?new Ls(e):null}Mt.include({getRenderer:function(e){var r=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var r=this._paneRenderers[e];return r===void 0&&(r=this._createRenderer({pane:e}),this._paneRenderers[e]=r),r},_createRenderer:function(e){return this.options.preferCanvas&&Xu(e)||Qu(e)}});var tc=qn.extend({initialize:function(e,r){qn.prototype.initialize.call(this,this._boundsToLatLngs(e),r)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=xt(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function E_(e,r){return new tc(e,r)}Ls.create=Ir,Ls.pointsToPath=N,Li.geometryToLayer=Er,Li.coordsToLatLng=ha,Li.coordsToLatLngs=Sr,Li.latLngToCoords=da,Li.latLngsToCoords=Tr,Li.getFeature=Vn,Li.asFeature=Lr,Mt.mergeOptions({boxZoom:!0});var ec=pi.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){mt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Bt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Wt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),vs(),Go(),this._startPoint=this._map.mouseEventToContainerPoint(e),mt(document,{contextmenu:gn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=Ct("div","leaflet-zoom-box",this._container),Pt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var r=new yt(this._point,this._startPoint),a=r.getSize();Xt(this._box,r.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(Wt(this._box),Kt(this._container,"leaflet-crosshair")),ys(),Ko(),Bt(document,{contextmenu:gn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var r=new kt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Mt.addInitHook("addHandler","boxZoom",ec),Mt.mergeOptions({doubleClickZoom:!0});var ic=pi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var r=this._map,a=r.getZoom(),c=r.options.zoomDelta,f=e.originalEvent.shiftKey?a-c:a+c;r.options.doubleClickZoom==="center"?r.setZoom(f):r.setZoomAround(e.containerPoint,f)}});Mt.addInitHook("addHandler","doubleClickZoom",ic),Mt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var nc=pi.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new Ui(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}Pt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Kt(this._map._container,"leaflet-grab"),Kt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=xt(this._map.options.maxBounds);this._offsetLimit=et(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var r=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(r),this._prunePositions(r)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,r){return e-(e-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;e.x<r.min.x&&(e.x=this._viscousLimit(e.x,r.min.x)),e.y<r.min.y&&(e.y=this._viscousLimit(e.y,r.min.y)),e.x>r.max.x&&(e.x=this._viscousLimit(e.x,r.max.x)),e.y>r.max.y&&(e.y=this._viscousLimit(e.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,r=Math.round(e/2),a=this._initialWorldOffset,c=this._draggable._newPos.x,f=(c-r+a)%e+r-a,g=(c+r+a)%e-r-a,w=Math.abs(f+a)<Math.abs(g+a)?f:g;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=w},_onDragEnd:function(e){var r=this._map,a=r.options,c=!a.inertia||e.noInertia||this._times.length<2;if(r.fire("dragend",e),c)r.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),g=(this._lastTime-this._times[0])/1e3,w=a.easeLinearity,E=f.multiplyBy(w/g),k=E.distanceTo([0,0]),R=Math.min(a.inertiaMaxSpeed,k),G=E.multiplyBy(R/k),dt=R/(a.inertiaDeceleration*w),St=G.multiplyBy(-dt/2).round();!St.x&&!St.y?r.fire("moveend"):(St=r._limitOffset(St,r.options.maxBounds),st(function(){r.panBy(St,{duration:dt,easeLinearity:w,noMoveStart:!0,animate:!0})}))}}});Mt.addInitHook("addHandler","dragging",nc),Mt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var sc=pi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),mt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Bt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,r=document.documentElement,a=e.scrollTop||r.scrollTop,c=e.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(c,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var r=this._panKeys={},a=this.keyCodes,c,f;for(c=0,f=a.left.length;c<f;c++)r[a.left[c]]=[-1*e,0];for(c=0,f=a.right.length;c<f;c++)r[a.right[c]]=[e,0];for(c=0,f=a.down.length;c<f;c++)r[a.down[c]]=[0,e];for(c=0,f=a.up.length;c<f;c++)r[a.up[c]]=[0,-1*e]},_setZoomDelta:function(e){var r=this._zoomKeys={},a=this.keyCodes,c,f;for(c=0,f=a.zoomIn.length;c<f;c++)r[a.zoomIn[c]]=e;for(c=0,f=a.zoomOut.length;c<f;c++)r[a.zoomOut[c]]=-e},_addHooks:function(){mt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Bt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var r=e.keyCode,a=this._map,c;if(r in this._panKeys){if(!a._panAnim||!a._panAnim._inProgress)if(c=this._panKeys[r],e.shiftKey&&(c=J(c).multiplyBy(3)),a.options.maxBounds&&(c=a._limitOffset(J(c),a.options.maxBounds)),a.options.worldCopyJump){var f=a.wrapLatLng(a.unproject(a.project(a.getCenter()).add(c)));a.panTo(f)}else a.panBy(c)}else if(r in this._zoomKeys)a.setZoom(a.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&a._popup&&a._popup.options.closeOnEscapeKey)a.closePopup();else return;gn(e)}}});Mt.addInitHook("addHandler","keyboard",sc),Mt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var rc=pi.extend({addHooks:function(){mt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Bt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var r=Mu(e),a=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var c=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),c),gn(e)},_performZoom:function(){var e=this._map,r=e.getZoom(),a=this._map.options.zoomSnap||0;e._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,g=a?Math.ceil(f/a)*a:f,w=e._limitZoom(r+(this._delta>0?g:-g))-r;this._delta=0,this._startTime=null,w&&(e.options.scrollWheelZoom==="center"?e.setZoom(r+w):e.setZoomAround(this._lastMousePos,r+w))}});Mt.addInitHook("addHandler","scrollWheelZoom",rc);var S_=600;Mt.mergeOptions({tapHold:nt.touchNative&&nt.safari&&nt.mobile,tapTolerance:15});var oc=pi.extend({addHooks:function(){mt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Bt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var r=e.touches[0];this._startPos=this._newPos=new U(r.clientX,r.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(mt(document,"touchend",ce),mt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),S_),mt(document,"touchend touchcancel contextmenu",this._cancel,this),mt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Bt(document,"touchend",ce),Bt(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Bt(document,"touchend touchcancel contextmenu",this._cancel,this),Bt(document,"touchmove",this._onMove,this)},_onMove:function(e){var r=e.touches[0];this._newPos=new U(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,r){var a=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});a._simulated=!0,r.target.dispatchEvent(a)}});Mt.addInitHook("addHandler","tapHold",oc),Mt.mergeOptions({touchZoom:nt.touch,bounceAtZoomLimits:!0});var ac=pi.extend({addHooks:function(){Pt(this._map._container,"leaflet-touch-zoom"),mt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Kt(this._map._container,"leaflet-touch-zoom"),Bt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var r=this._map;if(!(!e.touches||e.touches.length!==2||r._animatingZoom||this._zooming)){var a=r.mouseEventToContainerPoint(e.touches[0]),c=r.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(a.add(c)._divideBy(2))),this._startDist=a.distanceTo(c),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),mt(document,"touchmove",this._onTouchMove,this),mt(document,"touchend touchcancel",this._onTouchEnd,this),ce(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var r=this._map,a=r.mouseEventToContainerPoint(e.touches[0]),c=r.mouseEventToContainerPoint(e.touches[1]),f=a.distanceTo(c)/this._startDist;if(this._zoom=r.getScaleZoom(f,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&f<1||this._zoom>r.getMaxZoom()&&f>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var g=a._add(c)._divideBy(2)._subtract(this._centerPoint);if(f===1&&g.x===0&&g.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(g),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),$(this._animRequest);var w=u(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=st(w,this,!0),ce(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$(this._animRequest),Bt(document,"touchmove",this._onTouchMove,this),Bt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Mt.addInitHook("addHandler","touchZoom",ac),Mt.BoxZoom=ec,Mt.DoubleClickZoom=ic,Mt.Drag=nc,Mt.Keyboard=sc,Mt.ScrollWheelZoom=rc,Mt.TapHold=oc,Mt.TouchZoom=ac,n.Bounds=yt,n.Browser=nt,n.CRS=ae,n.Canvas=Ju,n.Circle=ca,n.CircleMarker=Pr,n.Class=_t,n.Control=si,n.DivIcon=Gu,n.DivOverlay=_i,n.DomEvent=Up,n.DomUtil=Zp,n.Draggable=Ui,n.Evented=pt,n.FeatureGroup=Si,n.GeoJSON=Li,n.GridLayer=Ss,n.Handler=pi,n.Icon=jn,n.ImageOverlay=kr,n.LatLng=bt,n.LatLngBounds=kt,n.Layer=ri,n.LayerGroup=Wn,n.LineUtil=i_,n.Map=Mt,n.Marker=xr,n.Mixin=Yp,n.Path=Wi,n.Point=U,n.PolyUtil=Jp,n.Polygon=qn,n.Polyline=Ti,n.Popup=Mr,n.PosAnimation=Cu,n.Projection=n_,n.Rectangle=tc,n.Renderer=ki,n.SVG=Ls,n.SVGOverlay=Vu,n.TileLayer=Gn,n.Tooltip=Cr,n.Transformation=Pi,n.Util=Et,n.VideoOverlay=qu,n.bind=u,n.bounds=et,n.canvas=Xu,n.circle=h_,n.circleMarker=c_,n.control=xs,n.divIcon=b_,n.extend=o,n.featureGroup=a_,n.geoJSON=ju,n.geoJson=p_,n.gridLayer=w_,n.icon=l_,n.imageOverlay=__,n.latLng=ut,n.latLngBounds=xt,n.layerGroup=o_,n.map=Wp,n.marker=u_,n.point=J,n.polygon=f_,n.polyline=d_,n.popup=v_,n.rectangle=E_,n.setOptions=x,n.stamp=d,n.svg=Qu,n.svgOverlay=m_,n.tileLayer=Ku,n.tooltip=y_,n.transformation=qe,n.version=s,n.videoOverlay=g_;var T_=window.L;n.noConflict=function(){return window.L=T_,this},window.L=n})})(nl,nl.exports);var gv=nl.exports;const Cs=_v(gv);var ai,T=typeof window<"u"?window:void 0,Be=typeof globalThis<"u"?globalThis:T,hf=Array.prototype,qc=hf.forEach,Vc=hf.indexOf,je=Be==null?void 0:Be.navigator,Y=Be==null?void 0:Be.document,De=Be==null?void 0:Be.location,sl=Be==null?void 0:Be.fetch,rl=Be!=null&&Be.XMLHttpRequest&&"withCredentials"in new Be.XMLHttpRequest?Be.XMLHttpRequest:void 0,Gc=Be==null?void 0:Be.AbortController,Re=je==null?void 0:je.userAgent,wt=T??{},Ni={DEBUG:!1,LIB_VERSION:"1.242.0"},ka="$copy_autocapture",mv=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];(function(i){i.GZipJS="gzip-js",i.Base64="base64"})(ai||(ai={}));var vv=["fatal","error","warning","log","info","debug"];function Lt(i,t){return i.indexOf(t)!==-1}var Do=function(i){return i.trim()},ol=function(i){return i.replace(/^\$/,"")},yv=Array.isArray,df=Object.prototype,ff=df.hasOwnProperty,Fo=df.toString,qt=yv||function(i){return Fo.call(i)==="[object Array]"},ti=i=>typeof i=="function",Vt=i=>i===Object(i)&&!qt(i),es=i=>{if(Vt(i)){for(var t in i)if(ff.call(i,t))return!1;return!0}return!1},q=i=>i===void 0,ee=i=>Fo.call(i)=="[object String]",al=i=>ee(i)&&i.trim().length===0,hn=i=>i===null,Ot=i=>q(i)||hn(i),xe=i=>Fo.call(i)=="[object Number]",zi=i=>Fo.call(i)==="[object Boolean]",bv=i=>i instanceof FormData,wv=i=>Lt(mv,i),pf=i=>{var t={t:function(n){if(T&&(Ni.DEBUG||wt.POSTHOG_DEBUG)&&!q(T.console)&&T.console){for(var s=("__rrweb_original__"in T.console[n])?T.console[n].__rrweb_original__:T.console[n],o=arguments.length,l=new Array(o>1?o-1:0),u=1;u<o;u++)l[u-1]=arguments[u];s(i,...l)}},info:function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];t.t("log",...s)},warn:function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];t.t("warn",...s)},error:function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];t.t("error",...s)},critical:function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];console.error(i,...s)},uninitializedWarning:n=>{t.error("You must initialize PostHog before calling "+n)},createLogger:n=>pf(i+" "+n)};return t},Q=pf("[PostHog.js]"),Se=Q.createLogger,xv=Se("[ExternalScriptsLoader]"),Kc=(i,t,n)=>{if(i.config.disable_external_dependency_loading)return xv.warn(t+" was requested but loading of external scripts is disabled."),n("Loading of external scripts is disabled");var s=Y==null?void 0:Y.querySelectorAll("script");if(s){for(var o=0;o<s.length;o++)if(s[o].src===t)return n()}var l=()=>{if(!Y)return n("document not found");var u=Y.createElement("script");if(u.type="text/javascript",u.crossOrigin="anonymous",u.src=t,u.onload=_=>n(void 0,_),u.onerror=_=>n(_),i.config.prepare_external_dependency_script&&(u=i.config.prepare_external_dependency_script(u)),!u)return n("prepare_external_dependency_script returned null");var h,d=Y.querySelectorAll("body > script");d.length>0?(h=d[0].parentNode)==null||h.insertBefore(u,d[0]):Y.body.appendChild(u)};Y!=null&&Y.body?l():Y==null||Y.addEventListener("DOMContentLoaded",l)};function K(){return K=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},K.apply(this,arguments)}function _f(i,t){if(i==null)return{};var n,s,o={},l=Object.keys(i);for(s=0;s<l.length;s++)n=l[s],t.indexOf(n)>=0||(o[n]=i[n]);return o}wt.__PosthogExtensions__=wt.__PosthogExtensions__||{},wt.__PosthogExtensions__.loadExternalDependency=(i,t,n)=>{var s="/static/"+t+".js?v="+i.version;if(t==="remote-config"&&(s="/array/"+i.config.token+"/config.js"),t==="toolbar"){var o=3e5;s=s+"&t="+Math.floor(Date.now()/o)*o}var l=i.requestRouter.endpointFor("assets",s);Kc(i,l,n)},wt.__PosthogExtensions__.loadSiteApp=(i,t,n)=>{var s=i.requestRouter.endpointFor("api",t);Kc(i,s,n)};var ao={};function nn(i,t,n){if(qt(i)){if(qc&&i.forEach===qc)i.forEach(t,n);else if("length"in i&&i.length===+i.length){for(var s=0,o=i.length;s<o;s++)if(s in i&&t.call(n,i[s],s)===ao)return}}}function Nt(i,t,n){if(!Ot(i)){if(qt(i))return nn(i,t,n);if(bv(i)){for(var s of i.entries())if(t.call(n,s[1],s[0])===ao)return}else for(var o in i)if(ff.call(i,o)&&t.call(n,i[o],o)===ao)return}}var te=function(i){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return nn(n,function(o){for(var l in o)o[l]!==void 0&&(i[l]=o[l])}),i},No=function(i){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return nn(n,function(o){nn(o,function(l){i.push(l)})}),i};function Jr(i){for(var t=Object.keys(i),n=t.length,s=new Array(n);n--;)s[n]=[t[n],i[t[n]]];return s}var Yc=function(i){try{return i()}catch{return}},Pv=function(i){return function(){try{for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return i.apply(this,n)}catch(o){Q.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),Q.critical(o)}}},Ql=function(i){var t={};return Nt(i,function(n,s){(ee(n)&&n.length>0||xe(n))&&(t[s]=n)}),t};function Ev(i,t){return n=i,s=l=>ee(l)&&!hn(t)?l.slice(0,t):l,o=new Set,function l(u,h){return u!==Object(u)?s?s(u,h):u:o.has(u)?void 0:(o.add(u),qt(u)?(d=[],nn(u,_=>{d.push(l(_))})):(d={},Nt(u,(_,p)=>{o.has(_)||(d[p]=l(_,p))})),d);var d}(n);var n,s,o}var Sv=["herokuapp.com","vercel.app","netlify.app"];function Tv(i){var t=i==null?void 0:i.hostname;if(!ee(t))return!1;var n=t.split(".").slice(-2).join(".");for(var s of Sv)if(n===s)return!1;return!0}function gf(i,t){for(var n=0;n<i.length;n++)if(t(i[n]))return i[n]}function jt(i,t,n,s){var{capture:o=!1,passive:l=!0}=s??{};i==null||i.addEventListener(t,n,{capture:o,passive:l})}var mf="$people_distinct_id",Ns="__alias",Bs="__timers",Jc="$autocapture_disabled_server_side",ll="$heatmaps_enabled_server_side",Xc="$exception_capture_enabled_server_side",Qc="$web_vitals_enabled_server_side",vf="$dead_clicks_enabled_server_side",th="$web_vitals_allowed_metrics",ul="$session_recording_enabled_server_side",eh="$console_log_recording_enabled_server_side",ih="$session_recording_network_payload_capture",nh="$session_recording_masking",sh="$session_recording_canvas_recording",rh="$replay_sample_rate",oh="$replay_minimum_duration",ah="$replay_script_config",lo="$sesid",zs="$session_is_sampled",cl="$session_recording_url_trigger_activated_session",hl="$session_recording_event_trigger_activated_session",is="$enabled_feature_flags",Xr="$early_access_features",dl="$feature_flag_details",$s="$stored_person_properties",Ln="$stored_group_properties",fl="$surveys",Nr="$surveys_activated",uo="$flag_call_reported",Ri="$user_state",pl="$client_session_props",_l="$capture_rate_limit",gl="$initial_campaign_params",ml="$initial_referrer_info",co="$initial_person_info",ho="$epp",yf="__POSTHOG_TOOLBAR__",lh="$posthog_cookieless",Lv=[mf,Ns,"__cmpns",Bs,ul,ll,lo,is,Ri,Xr,dl,Ln,$s,fl,uo,pl,_l,gl,ml,ho,co];function uh(i){return i instanceof Element&&(i.id===yf||!(i.closest==null||!i.closest(".toolbar-global-fade-container")))}function Bo(i){return!!i&&i.nodeType===1}function sn(i,t){return!!i&&!!i.tagName&&i.tagName.toLowerCase()===t.toLowerCase()}function bf(i){return!!i&&i.nodeType===3}function wf(i){return!!i&&i.nodeType===11}function tu(i){return i?Do(i).split(/\s+/):[]}function ch(i){var t=T==null?void 0:T.location.href;return!!(t&&i&&i.some(n=>t.match(n)))}function fo(i){var t="";switch(typeof i.className){case"string":t=i.className;break;case"object":t=(i.className&&"baseVal"in i.className?i.className.baseVal:null)||i.getAttribute("class")||"";break;default:t=""}return tu(t)}function xf(i){return Ot(i)?null:Do(i).split(/(\s+)/).filter(t=>hs(t)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function zo(i){var t="";return yl(i)&&!Sf(i)&&i.childNodes&&i.childNodes.length&&Nt(i.childNodes,function(n){var s;bf(n)&&n.textContent&&(t+=(s=xf(n.textContent))!==null&&s!==void 0?s:"")}),Do(t)}function Pf(i){return q(i.target)?i.srcElement||null:(t=i.target)!=null&&t.shadowRoot?i.composedPath()[0]||null:i.target||null;var t}var vl=["a","button","form","input","select","textarea","label"];function Ef(i){var t=i.parentNode;return!(!t||!Bo(t))&&t}function kv(i,t,n,s,o){var l,u,h;if(n===void 0&&(n=void 0),!T||!i||sn(i,"html")||!Bo(i)||(l=n)!=null&&l.url_allowlist&&!ch(n.url_allowlist)||(u=n)!=null&&u.url_ignorelist&&ch(n.url_ignorelist))return!1;if((h=n)!=null&&h.dom_event_allowlist){var d=n.dom_event_allowlist;if(d&&!d.some(z=>t.type===z))return!1}for(var _=!1,p=[i],m=!0,v=i;v.parentNode&&!sn(v,"body");)if(wf(v.parentNode))p.push(v.parentNode.host),v=v.parentNode.host;else{if(!(m=Ef(v)))break;if(s||vl.indexOf(m.tagName.toLowerCase())>-1)_=!0;else{var y=T.getComputedStyle(m);y&&y.getPropertyValue("cursor")==="pointer"&&(_=!0)}p.push(m),v=m}if(!function(z,I){var A=I==null?void 0:I.element_allowlist;if(q(A))return!0;var M=function(at){if(A.some(ot=>at.tagName.toLowerCase()===ot))return{v:!0}};for(var D of z){var W=M(D);if(typeof W=="object")return W.v}return!1}(p,n)||!function(z,I){var A=I==null?void 0:I.css_selector_allowlist;if(q(A))return!0;var M=function(at){if(A.some(ot=>at.matches(ot)))return{v:!0}};for(var D of z){var W=M(D);if(typeof W=="object")return W.v}return!1}(p,n))return!1;var S=T.getComputedStyle(i);if(S&&S.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var x=i.tagName.toLowerCase();switch(x){case"html":return!1;case"form":return(o||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(o||["change","click"]).indexOf(t.type)>=0;default:return _?(o||["click"]).indexOf(t.type)>=0:(o||["click"]).indexOf(t.type)>=0&&(vl.indexOf(x)>-1||i.getAttribute("contenteditable")==="true")}}function yl(i){for(var t=i;t.parentNode&&!sn(t,"body");t=t.parentNode){var n=fo(t);if(Lt(n,"ph-sensitive")||Lt(n,"ph-no-capture"))return!1}if(Lt(fo(i),"ph-include"))return!0;var s=i.type||"";if(ee(s))switch(s.toLowerCase()){case"hidden":case"password":return!1}var o=i.name||i.id||"";return!(ee(o)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(o.replace(/[^a-zA-Z0-9]/g,"")))}function Sf(i){return!!(sn(i,"input")&&!["button","checkbox","submit","reset"].includes(i.type)||sn(i,"select")||sn(i,"textarea")||i.getAttribute("contenteditable")==="true")}var Tf="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",Mv=new RegExp("^(?:"+Tf+")$"),Cv=new RegExp(Tf),Lf="\\d{3}-?\\d{2}-?\\d{4}",Iv=new RegExp("^("+Lf+")$"),Av=new RegExp("("+Lf+")");function hs(i,t){return t===void 0&&(t=!0),!(Ot(i)||ee(i)&&(i=Do(i),(t?Mv:Cv).test((i||"").replace(/[- ]/g,""))||(t?Iv:Av).test(i)))}function kf(i){var t=zo(i);return hs(t=(t+" "+Mf(i)).trim())?t:""}function Mf(i){var t="";return i&&i.childNodes&&i.childNodes.length&&Nt(i.childNodes,function(n){var s;if(n&&((s=n.tagName)==null?void 0:s.toLowerCase())==="span")try{var o=zo(n);t=(t+" "+o).trim(),n.childNodes&&n.childNodes.length&&(t=(t+" "+Mf(n)).trim())}catch(l){Q.error("[AutoCapture]",l)}}),t}function Ov(i){return function(t){var n=t.map(s=>{var o,l,u="";if(s.tag_name&&(u+=s.tag_name),s.attr_class)for(var h of(s.attr_class.sort(),s.attr_class))u+="."+h.replace(/"/g,"");var d=K({},s.text?{text:s.text}:{},{"nth-child":(o=s.nth_child)!==null&&o!==void 0?o:0,"nth-of-type":(l=s.nth_of_type)!==null&&l!==void 0?l:0},s.href?{href:s.href}:{},s.attr_id?{attr_id:s.attr_id}:{},s.attributes),_={};return Jr(d).sort((p,m)=>{var[v]=p,[y]=m;return v.localeCompare(y)}).forEach(p=>{var[m,v]=p;return _[hh(m.toString())]=hh(v.toString())}),u+=":",u+=Jr(d).map(p=>{var[m,v]=p;return m+'="'+v+'"'}).join("")});return n.join(";")}(function(t){return t.map(n=>{var s,o,l={text:(s=n.$el_text)==null?void 0:s.slice(0,400),tag_name:n.tag_name,href:(o=n.attr__href)==null?void 0:o.slice(0,2048),attr_class:Rv(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return Jr(n).filter(u=>{var[h]=u;return h.indexOf("attr__")===0}).forEach(u=>{var[h,d]=u;return l.attributes[h]=d}),l})}(i))}function hh(i){return i.replace(/"|\\"/g,'\\"')}function Rv(i){var t=i.attr__class;return t?qt(t)?t:tu(t):void 0}class Cf{constructor(){this.clicks=[]}isRageClick(t,n,s){var o=this.clicks[this.clicks.length-1];if(o&&Math.abs(t-o.x)+Math.abs(n-o.y)<30&&s-o.timestamp<1e3){if(this.clicks.push({x:t,y:n,timestamp:s}),this.clicks.length===3)return!0}else this.clicks=[{x:t,y:n,timestamp:s}];return!1}}var Dv=["localhost","127.0.0.1"],ds=i=>{var t=Y==null?void 0:Y.createElement("a");return q(t)?null:(t.href=i,t)},Fv=function(i,t){var n,s;t===void 0&&(t="&");var o=[];return Nt(i,function(l,u){q(l)||q(u)||u==="undefined"||(n=encodeURIComponent((h=>h instanceof File)(l)?l.name:l.toString()),s=encodeURIComponent(u),o[o.length]=s+"="+n)}),o.join(t)},po=function(i,t){for(var n,s=((i.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),o=0;o<s.length;o++){var l=s[o].split("=");if(l[0]===t){n=l;break}}if(!qt(n)||n.length<2)return"";var u=n[1];try{u=decodeURIComponent(u)}catch{Q.error("Skipping decoding for malformed query param: "+u)}return u.replace(/\+/g," ")},eu=function(i,t,n){if(!i||!t||!t.length)return i;for(var s=i.split("#"),o=s[0]||"",l=s[1],u=o.split("?"),h=u[1],d=u[0],_=(h||"").split("&"),p=[],m=0;m<_.length;m++){var v=_[m].split("=");qt(v)&&(t.includes(v[0])?p.push(v[0]+"="+n):p.push(_[m]))}var y=d;return h!=null&&(y+="?"+p.join("&")),l!=null&&(y+="#"+l),y},_o=function(i,t){var n=i.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},dh=Se("[AutoCapture]");function Ma(i,t){return t.length>i?t.slice(0,i)+"...":t}function Nv(i){if(i.previousElementSibling)return i.previousElementSibling;var t=i;do t=t.previousSibling;while(t&&!Bo(t));return t}function Bv(i,t,n,s){var o=i.tagName.toLowerCase(),l={tag_name:o};vl.indexOf(o)>-1&&!n&&(o.toLowerCase()==="a"||o.toLowerCase()==="button"?l.$el_text=Ma(1024,kf(i)):l.$el_text=Ma(1024,zo(i)));var u=fo(i);u.length>0&&(l.classes=u.filter(function(p){return p!==""})),Nt(i.attributes,function(p){var m;if((!Sf(i)||["name","id","class","aria-label"].indexOf(p.name)!==-1)&&(s==null||!s.includes(p.name))&&!t&&hs(p.value)&&(m=p.name,!ee(m)||m.substring(0,10)!=="_ngcontent"&&m.substring(0,7)!=="_nghost")){var v=p.value;p.name==="class"&&(v=tu(v).join(" ")),l["attr__"+p.name]=Ma(1024,v)}});for(var h=1,d=1,_=i;_=Nv(_);)h++,_.tagName===i.tagName&&d++;return l.nth_child=h,l.nth_of_type=d,l}function zv(i,t){for(var n,s,{e:o,maskAllElementAttributes:l,maskAllText:u,elementAttributeIgnoreList:h,elementsChainAsString:d}=t,_=[i],p=i;p.parentNode&&!sn(p,"body");)wf(p.parentNode)?(_.push(p.parentNode.host),p=p.parentNode.host):(_.push(p.parentNode),p=p.parentNode);var m,v=[],y={},S=!1,x=!1;if(Nt(_,D=>{var W=yl(D);D.tagName.toLowerCase()==="a"&&(S=D.getAttribute("href"),S=W&&S&&hs(S)&&S),Lt(fo(D),"ph-no-capture")&&(x=!0),v.push(Bv(D,l,u,h));var at=function(ot){if(!yl(ot))return{};var X={};return Nt(ot.attributes,function(tt){if(tt.name&&tt.name.indexOf("data-ph-capture-attribute")===0){var ct=tt.name.replace("data-ph-capture-attribute-",""),st=tt.value;ct&&st&&hs(st)&&(X[ct]=st)}}),X}(D);te(y,at)}),x)return{props:{},explicitNoCapture:x};if(u||(i.tagName.toLowerCase()==="a"||i.tagName.toLowerCase()==="button"?v[0].$el_text=kf(i):v[0].$el_text=zo(i)),S){var z,I;v[0].attr__href=S;var A=(z=ds(S))==null?void 0:z.host,M=T==null||(I=T.location)==null?void 0:I.host;A&&M&&A!==M&&(m=S)}return{props:te({$event_type:o.type,$ce_version:1},d?{}:{$elements:v},{$elements_chain:Ov(v)},(n=v[0])!=null&&n.$el_text?{$el_text:(s=v[0])==null?void 0:s.$el_text}:{},m&&o.type==="click"?{$external_click_url:m}:{},y)}}class $v{constructor(t){this.i=!1,this.o=null,this.rageclicks=new Cf,this.h=!1,this.instance=t,this.m=null}get S(){var t,n,s=Vt(this.instance.config.autocapture)?this.instance.config.autocapture:{};return s.url_allowlist=(t=s.url_allowlist)==null?void 0:t.map(o=>new RegExp(o)),s.url_ignorelist=(n=s.url_ignorelist)==null?void 0:n.map(o=>new RegExp(o)),s}$(){if(this.isBrowserSupported()){if(T&&Y){var t=s=>{s=s||(T==null?void 0:T.event);try{this.k(s)}catch(o){dh.error("Failed to capture event",o)}};if(jt(Y,"submit",t,{capture:!0}),jt(Y,"change",t,{capture:!0}),jt(Y,"click",t,{capture:!0}),this.S.capture_copied_text){var n=s=>{s=s||(T==null?void 0:T.event),this.k(s,ka)};jt(Y,"copy",n,{capture:!0}),jt(Y,"cut",n,{capture:!0})}}}else dh.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.i&&(this.$(),this.i=!0)}onRemoteConfig(t){t.elementsChainAsString&&(this.h=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[Jc]:!!t.autocapture_opt_out}),this.o=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this.m=t}getElementSelectors(t){var n,s=[];return(n=this.m)==null||n.forEach(o=>{var l=Y==null?void 0:Y.querySelectorAll(o);l==null||l.forEach(u=>{t===u&&s.push(o)})}),s}get isEnabled(){var t,n,s=(t=this.instance.persistence)==null?void 0:t.props[Jc],o=this.o;if(hn(o)&&!zi(s)&&!this.instance.config.advanced_disable_decide)return!1;var l=(n=this.o)!==null&&n!==void 0?n:!!s;return!!this.instance.config.autocapture&&!l}k(t,n){if(n===void 0&&(n="$autocapture"),this.isEnabled){var s,o=Pf(t);bf(o)&&(o=o.parentNode||null),n==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(s=this.rageclicks)!=null&&s.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this.k(t,"$rageclick");var l=n===ka;if(o&&kv(o,t,this.S,l,l?["copy","cut"]:void 0)){var{props:u,explicitNoCapture:h}=zv(o,{e:t,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.S.element_attribute_ignorelist,elementsChainAsString:this.h});if(h)return!1;var d=this.getElementSelectors(o);if(d&&d.length>0&&(u.$element_selectors=d),n===ka){var _,p=xf(T==null||(_=T.getSelection())==null?void 0:_.toString()),m=t.type||"clipboard";if(!p)return!1;u.$selected_content=p,u.$copy_type=m}return this.instance.capture(n,u),!0}}}isBrowserSupported(){return ti(Y==null?void 0:Y.querySelectorAll)}}Math.trunc||(Math.trunc=function(i){return i<0?Math.ceil(i):Math.floor(i)}),Number.isInteger||(Number.isInteger=function(i){return xe(i)&&isFinite(i)&&Math.floor(i)===i});var fh="0123456789abcdef";class go{constructor(t){if(this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(t,n,s,o){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(s)||!Number.isInteger(o)||t<0||n<0||s<0||o<0||t>0xffffffffffff||n>4095||s>1073741823||o>4294967295)throw new RangeError("invalid field value");var l=new Uint8Array(16);return l[0]=t/Math.pow(2,40),l[1]=t/Math.pow(2,32),l[2]=t/Math.pow(2,24),l[3]=t/Math.pow(2,16),l[4]=t/Math.pow(2,8),l[5]=t,l[6]=112|n>>>8,l[7]=n,l[8]=128|s>>>24,l[9]=s>>>16,l[10]=s>>>8,l[11]=s,l[12]=o>>>24,l[13]=o>>>16,l[14]=o>>>8,l[15]=o,new go(l)}toString(){for(var t="",n=0;n<this.bytes.length;n++)t=t+fh.charAt(this.bytes[n]>>>4)+fh.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}clone(){return new go(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(var n=0;n<16;n++){var s=this.bytes[n]-t.bytes[n];if(s!==0)return Math.sign(s)}return 0}}class Zv{constructor(){this.I=0,this.P=0,this.R=new Hv}generate(){var t=this.generateOrAbort();if(q(t)){this.I=0;var n=this.generateOrAbort();if(q(n))throw new Error("Could not generate UUID after timestamp reset");return n}return t}generateOrAbort(){var t=Date.now();if(t>this.I)this.I=t,this.T();else{if(!(t+1e4>this.I))return;this.P++,this.P>4398046511103&&(this.I++,this.T())}return go.fromFieldsV7(this.I,Math.trunc(this.P/Math.pow(2,30)),this.P&Math.pow(2,30)-1,this.R.nextUint32())}T(){this.P=1024*this.R.nextUint32()+(1023&this.R.nextUint32())}}var ph,If=i=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<i.length;t++)i[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return i};T&&!q(T.crypto)&&crypto.getRandomValues&&(If=i=>crypto.getRandomValues(i));class Hv{constructor(){this.M=new Uint32Array(8),this.C=1/0}nextUint32(){return this.C>=this.M.length&&(If(this.M),this.C=0),this.M[this.C++]}}var tn=()=>Uv().toString(),Uv=()=>(ph||(ph=new Zv)).generate(),Wv="Thu, 01 Jan 1970 00:00:00 GMT",Is="",jv=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function qv(i,t){if(t){var n=function(o,l){if(l===void 0&&(l=Y),Is)return Is;if(!l||["localhost","127.0.0.1"].includes(o))return"";for(var u=o.split("."),h=Math.min(u.length,8),d="dmn_chk_"+tn(),_=new RegExp("(^|;)\\s*"+d+"=1");!Is&&h--;){var p=u.slice(h).join("."),m=d+"=1;domain=."+p;l.cookie=m,_.test(l.cookie)&&(l.cookie=m+";expires="+Wv,Is=p)}return Is}(i);if(!n){var s=(o=>{var l=o.match(jv);return l?l[0]:""})(i);s!==n&&Q.info("Warning: cookie subdomain discovery mismatch",s,n),n=s}return n?"; domain=."+n:""}return""}var Ji,Zi={O:()=>!!Y,F:function(i){Q.error("cookieStore error: "+i)},A:function(i){if(Y){try{for(var t=i+"=",n=Y.cookie.split(";").filter(l=>l.length),s=0;s<n.length;s++){for(var o=n[s];o.charAt(0)==" ";)o=o.substring(1,o.length);if(o.indexOf(t)===0)return decodeURIComponent(o.substring(t.length,o.length))}}catch{}return null}},D:function(i){var t;try{t=JSON.parse(Zi.A(i))||{}}catch{}return t},j:function(i,t,n,s,o){if(Y)try{var l="",u="",h=qv(Y.location.hostname,s);if(n){var d=new Date;d.setTime(d.getTime()+24*n*60*60*1e3),l="; expires="+d.toUTCString()}o&&(u="; secure");var _=i+"="+encodeURIComponent(JSON.stringify(t))+l+"; SameSite=Lax; path=/"+h+u;return _.length>3686.4&&Q.warn("cookieStore warning: large cookie, len="+_.length),Y.cookie=_,_}catch{return}},L:function(i,t){try{Zi.j(i,"",-1,t)}catch{return}}},Ca=null,re={O:function(){if(!hn(Ca))return Ca;var i=!0;if(q(T))i=!1;else try{var t="__mplssupport__";re.j(t,"xyz"),re.A(t)!=='"xyz"'&&(i=!1),re.L(t)}catch{i=!1}return i||Q.error("localStorage unsupported; falling back to cookie store"),Ca=i,i},F:function(i){Q.error("localStorage error: "+i)},A:function(i){try{return T==null?void 0:T.localStorage.getItem(i)}catch(t){re.F(t)}return null},D:function(i){try{return JSON.parse(re.A(i))||{}}catch{}return null},j:function(i,t){try{T==null||T.localStorage.setItem(i,JSON.stringify(t))}catch(n){re.F(n)}},L:function(i){try{T==null||T.localStorage.removeItem(i)}catch(t){re.F(t)}}},Vv=["distinct_id",lo,zs,ho,co],Br=K({},re,{D:function(i){try{var t={};try{t=Zi.D(i)||{}}catch{}var n=te(t,JSON.parse(re.A(i)||"{}"));return re.j(i,n),n}catch{}return null},j:function(i,t,n,s,o,l){try{re.j(i,t,void 0,void 0,l);var u={};Vv.forEach(h=>{t[h]&&(u[h]=t[h])}),Object.keys(u).length&&Zi.j(i,u,n,s,o,l)}catch(h){re.F(h)}},L:function(i,t){try{T==null||T.localStorage.removeItem(i),Zi.L(i,t)}catch(n){re.F(n)}}}),zr={},Gv={O:function(){return!0},F:function(i){Q.error("memoryStorage error: "+i)},A:function(i){return zr[i]||null},D:function(i){return zr[i]||null},j:function(i,t){zr[i]=t},L:function(i){delete zr[i]}},xn=null,he={O:function(){if(!hn(xn))return xn;if(xn=!0,q(T))xn=!1;else try{var i="__support__";he.j(i,"xyz"),he.A(i)!=='"xyz"'&&(xn=!1),he.L(i)}catch{xn=!1}return xn},F:function(i){Q.error("sessionStorage error: ",i)},A:function(i){try{return T==null?void 0:T.sessionStorage.getItem(i)}catch(t){he.F(t)}return null},D:function(i){try{return JSON.parse(he.A(i))||null}catch{}return null},j:function(i,t){try{T==null||T.sessionStorage.setItem(i,JSON.stringify(t))}catch(n){he.F(n)}},L:function(i){try{T==null||T.sessionStorage.removeItem(i)}catch(t){he.F(t)}}};(function(i){i[i.PENDING=-1]="PENDING",i[i.DENIED=0]="DENIED",i[i.GRANTED=1]="GRANTED"})(Ji||(Ji={}));class Kv{constructor(t){this._instance=t}get S(){return this._instance.config}get consent(){return this.N()?Ji.DENIED:this.U}isOptedOut(){return this.consent===Ji.DENIED||this.consent===Ji.PENDING&&this.S.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(t){this.q.j(this.B,t?1:0,this.S.cookie_expiration,this.S.cross_subdomain_cookie,this.S.secure_cookie)}reset(){this.q.L(this.B,this.S.cross_subdomain_cookie)}get B(){var{token:t,opt_out_capturing_cookie_prefix:n}=this._instance.config;return(n||"__ph_opt_in_out_")+t}get U(){var t=this.q.A(this.B);return t==="1"?Ji.GRANTED:t==="0"?Ji.DENIED:Ji.PENDING}get q(){if(!this.H){var t=this.S.opt_out_capturing_persistence_type;this.H=t==="localStorage"?re:Zi;var n=t==="localStorage"?Zi:re;n.A(this.B)&&(this.H.A(this.B)||this.optInOut(n.A(this.B)==="1"),n.L(this.B,this.S.cross_subdomain_cookie))}return this.H}N(){return!!this.S.respect_dnt&&!!gf([je==null?void 0:je.doNotTrack,je==null?void 0:je.msDoNotTrack,wt.doNotTrack],t=>Lt([!0,1,"1","yes"],t))}}var $r=Se("[Dead Clicks]"),Yv=()=>!0,Jv=i=>{var t,n=!((t=i.instance.persistence)==null||!t.get_property(vf)),s=i.instance.config.capture_dead_clicks;return zi(s)?s:n};class Af{get lazyLoadedDeadClicksAutocapture(){return this.W}constructor(t,n,s){this.instance=t,this.isEnabled=n,this.onCapture=s,this.startIfEnabled()}onRemoteConfig(t){this.instance.persistence&&this.instance.persistence.register({[vf]:t==null?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.G(()=>{this.J()})}G(t){var n,s;(n=wt.__PosthogExtensions__)!=null&&n.initDeadClicksAutocapture&&t(),(s=wt.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this.instance,"dead-clicks-autocapture",o=>{o?$r.error("failed to load script",o):t()})}J(){var t;if(Y){if(!this.W&&(t=wt.__PosthogExtensions__)!=null&&t.initDeadClicksAutocapture){var n=Vt(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};n.__onCapture=this.onCapture,this.W=wt.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,n),this.W.start(Y),$r.info("starting...")}}else $r.error("`document` not found. Cannot start.")}stop(){this.W&&(this.W.stop(),this.W=void 0,$r.info("stopping..."))}}var Ia=Se("[ExceptionAutocapture]");class Xv{constructor(t){var n;this.V=()=>{var s;if(T&&this.isEnabled&&(s=wt.__PosthogExtensions__)!=null&&s.errorWrappingFunctions){var o=wt.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,l=wt.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,u=wt.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.K&&this.S.capture_unhandled_errors&&(this.K=o(this.captureException.bind(this))),!this.Y&&this.S.capture_unhandled_rejections&&(this.Y=l(this.captureException.bind(this))),!this.X&&this.S.capture_console_errors&&(this.X=u(this.captureException.bind(this)))}catch(h){Ia.error("failed to start",h),this.Z()}}},this._instance=t,this.tt=!((n=this._instance.persistence)==null||!n.props[Xc]),this.S=this.it(),this.startIfEnabled()}it(){var t=this._instance.config.capture_exceptions,n={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return Vt(t)?n=K({},n,t):(q(t)?this.tt:t)&&(n=K({},n,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),n}get isEnabled(){return this.S.capture_console_errors||this.S.capture_unhandled_errors||this.S.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(Ia.info("enabled"),this.G(this.V))}G(t){var n,s;(n=wt.__PosthogExtensions__)!=null&&n.errorWrappingFunctions&&t(),(s=wt.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this._instance,"exception-autocapture",o=>{if(o)return Ia.error("failed to load script",o);t()})}Z(){var t,n,s;(t=this.K)==null||t.call(this),this.K=void 0,(n=this.Y)==null||n.call(this),this.Y=void 0,(s=this.X)==null||s.call(this),this.X=void 0}onRemoteConfig(t){var n=t.autocaptureExceptions;this.tt=!!n||!1,this.S=this.it(),this._instance.persistence&&this._instance.persistence.register({[Xc]:this.tt}),this.startIfEnabled()}captureException(t){var n=this._instance.requestRouter.endpointFor("ui");t.$exception_personURL=n+"/project/"+this._instance.config.token+"/person/"+this._instance.get_distinct_id(),this._instance.exceptions.sendExceptionEvent(t)}}function Of(i){return!q(Event)&&Rf(i,Event)}function Rf(i,t){try{return i instanceof t}catch{return!1}}function Df(i){switch(Object.prototype.toString.call(i)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object DOMError]":return!0;default:return Rf(i,Error)}}function Qr(i,t){return Object.prototype.toString.call(i)==="[object "+t+"]"}function Aa(i){return Qr(i,"DOMError")}var _h=/\(error: (.*)\)/,gh=50,ns="?";function Oa(i,t,n,s){var o={platform:"web:javascript",filename:i,function:t==="<anonymous>"?ns:t,in_app:!0};return q(n)||(o.lineno=n),q(s)||(o.colno=s),o}var Qv=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,ty=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ey=/\((\S*)(?::(\d+))(?::(\d+))\)/,iy=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ny=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,sy=function(){for(var i=arguments.length,t=new Array(i),n=0;n<i;n++)t[n]=arguments[n];var s=t.sort((o,l)=>o[0]-l[0]).map(o=>o[1]);return function(o,l){l===void 0&&(l=0);for(var u=[],h=o.split(`
`),d=l;d<h.length;d++){var _=h[d];if(!(_.length>1024)){var p=_h.test(_)?_.replace(_h,"$1"):_;if(!p.match(/\S*Error: /)){for(var m of s){var v=m(p);if(v){u.push(v);break}}if(u.length>=gh)break}}}return function(y){if(!y.length)return[];var S=Array.from(y);return S.reverse(),S.slice(0,gh).map(x=>K({},x,{filename:x.filename||ry(S).filename,function:x.function||ns}))}(u)}}([30,i=>{var t=Qv.exec(i);if(t){var[,n,s,o]=t;return Oa(n,ns,+s,+o)}var l=ty.exec(i);if(l){if(l[2]&&l[2].indexOf("eval")===0){var u=ey.exec(l[2]);u&&(l[2]=u[1],l[3]=u[2],l[4]=u[3])}var[h,d]=vh(l[1]||ns,l[2]);return Oa(d,h,l[3]?+l[3]:void 0,l[4]?+l[4]:void 0)}}],[50,i=>{var t=iy.exec(i);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var n=ny.exec(t[3]);n&&(t[1]=t[1]||"eval",t[3]=n[1],t[4]=n[2],t[5]="")}var s=t[3],o=t[1]||ns;return[o,s]=vh(o,s),Oa(s,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]);function ry(i){return i[i.length-1]||{}}var Zr,mh,Ra,vh=(i,t)=>{var n=i.indexOf("safari-extension")!==-1,s=i.indexOf("safari-web-extension")!==-1;return n||s?[i.indexOf("@")!==-1?i.split("@")[0]:ns,n?"safari-extension:"+t:"safari-web-extension:"+t]:[i,t]},oy=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function iu(i,t){t===void 0&&(t=0);var n=i.stacktrace||i.stack||"",s=function(u){return u&&ay.test(u.message)?1:0}(i);try{var o=sy,l=function(u,h){var d=function(_){var p=globalThis._posthogChunkIds;if(!p)return{};var m=Object.keys(p);return Ra&&m.length===mh||(mh=m.length,Ra=m.reduce((v,y)=>{Zr||(Zr={});var S=Zr[y];if(S)v[S[0]]=S[1];else for(var x=_(y),z=x.length-1;z>=0;z--){var I=x[z],A=I==null?void 0:I.filename,M=p[y];if(A&&M){v[A]=M,Zr[y]=[A,M];break}}return v},{})),Ra}(h);return u.forEach(_=>{_.filename&&(_.chunk_id=d[_.filename])}),u}(o(n,s),o);return l.slice(0,l.length-t)}catch{}return[]}var ay=/Minified React error #\d+;/i;function ly(i,t){var n,s,o=iu(i),l=(n=t==null?void 0:t.handled)===null||n===void 0||n,u=(s=t==null?void 0:t.synthetic)!==null&&s!==void 0&&s;return{type:t!=null&&t.overrideExceptionType?t.overrideExceptionType:i.name,value:function(h){var d=h.message;return d.error&&typeof d.error.message=="string"?String(d.error.message):String(d)}(i),stacktrace:{frames:o,type:"raw"},mechanism:{handled:l,synthetic:u}}}function Ff(i,t){var n=ly(i,t);return i.cause&&Df(i.cause)&&i.cause!==i?[n,...Ff(i.cause,{handled:t==null?void 0:t.handled,synthetic:t==null?void 0:t.synthetic})]:[n]}function Da(i,t){return{$exception_list:Ff(i,t),$exception_level:"error"}}function Fa(i,t){var n,s,o,l=(n=t==null?void 0:t.handled)===null||n===void 0||n,u=(s=t==null?void 0:t.synthetic)===null||s===void 0||s,h={type:t!=null&&t.overrideExceptionType?t.overrideExceptionType:(o=t==null?void 0:t.defaultExceptionType)!==null&&o!==void 0?o:"Error",value:i||(t==null?void 0:t.defaultExceptionMessage),mechanism:{handled:l,synthetic:u}};if(t!=null&&t.syntheticException){var d=iu(t.syntheticException,1);d.length&&(h.stacktrace={frames:d,type:"raw"})}return{$exception_list:[h],$exception_level:"error"}}function uy(i){return ee(i)&&!al(i)&&vv.indexOf(i)>=0}function cy(i,t){var n,s,o=(n=t==null?void 0:t.handled)===null||n===void 0||n,l=(s=t==null?void 0:t.synthetic)===null||s===void 0||s,u=t!=null&&t.overrideExceptionType?t.overrideExceptionType:Of(i)?i.constructor.name:"Error",h="Non-Error 'exception' captured with keys: "+function(p,m){m===void 0&&(m=40);var v=Object.keys(p);if(v.sort(),!v.length)return"[object has no keys]";for(var y=v.length;y>0;y--){var S=v.slice(0,y).join(", ");if(!(S.length>m))return y===v.length||S.length<=m?S:S.slice(0,m)+"..."}return""}(i),d={type:u,value:h,mechanism:{handled:o,synthetic:l}};if(t!=null&&t.syntheticException){var _=iu(t==null?void 0:t.syntheticException,1);_.length&&(d.stacktrace={frames:_,type:"raw"})}return{$exception_list:[d],$exception_level:uy(i.level)?i.level:"error"}}function hy(i,t){var{error:n,event:s}=i,o={$exception_list:[]},l=n||s;if(Aa(l)||function(v){return Qr(v,"DOMException")}(l)){var u=l;if(function(v){return"stack"in v}(l))o=Da(l,t);else{var h=u.name||(Aa(u)?"DOMError":"DOMException"),d=u.message?h+": "+u.message:h;o=Fa(d,K({},t,{overrideExceptionType:Aa(u)?"DOMError":"DOMException",defaultExceptionMessage:d}))}return"code"in u&&(o.$exception_DOMException_code=""+u.code),o}if(function(v){return Qr(v,"ErrorEvent")}(l)&&l.error)return Da(l.error,t);if(Df(l))return Da(l,t);if(function(v){return Qr(v,"Object")}(l)||Of(l))return cy(l,t);if(q(n)&&ee(s)){var _="Error",p=s,m=s.match(oy);return m&&(_=m[1],p=m[2]),Fa(p,K({},t,{overrideExceptionType:_,defaultExceptionMessage:p}))}return Fa(l,t)}function yh(i,t,n){try{if(!(t in i))return()=>{};var s=i[t],o=n(s);return ti(o)&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__posthog_wrapped__:{enumerable:!1,value:!0}})),i[t]=o,()=>{i[t]=s}}catch{return()=>{}}}class dy{constructor(t){var n;this._instance=t,this.et=(T==null||(n=T.location)==null?void 0:n.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(Q.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.rt&&this.rt(),this.rt=void 0,Q.info("History API monitoring stopped")}monitorHistoryChanges(){var t,n;if(T&&T.history){var s=this;(t=T.history.pushState)!=null&&t.__posthog_wrapped__||yh(T.history,"pushState",o=>function(l,u,h){o.call(this,l,u,h),s.st("pushState")}),(n=T.history.replaceState)!=null&&n.__posthog_wrapped__||yh(T.history,"replaceState",o=>function(l,u,h){o.call(this,l,u,h),s.st("replaceState")}),this.nt()}}st(t){try{var n,s=T==null||(n=T.location)==null?void 0:n.pathname;if(!s)return;s!==this.et&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:t}),this.et=s}catch(o){Q.error("Error capturing "+t+" pageview",o)}}nt(){if(!this.rt){var t=()=>{this.st("popstate")};jt(T,"popstate",t),this.rt=()=>{T&&T.removeEventListener("popstate",t)}}}}function mo(i){var t,n;return((t=JSON.stringify(i,(n=[],function(s,o){if(Vt(o)){for(;n.length>0&&n[n.length-1]!==this;)n.pop();return n.includes(o)?"[Circular]":(n.push(o),o)}return o})))==null?void 0:t.length)||0}function bl(i,t){if(t===void 0&&(t=66060288e-1),i.size>=t&&i.data.length>1){var n=Math.floor(i.data.length/2),s=i.data.slice(0,n),o=i.data.slice(n);return[bl({size:mo(s),data:s,sessionId:i.sessionId,windowId:i.windowId}),bl({size:mo(o),data:o,sessionId:i.sessionId,windowId:i.windowId})].flatMap(l=>l)}return[i]}var Di=(i=>(i[i.DomContentLoaded=0]="DomContentLoaded",i[i.Load=1]="Load",i[i.FullSnapshot=2]="FullSnapshot",i[i.IncrementalSnapshot=3]="IncrementalSnapshot",i[i.Meta=4]="Meta",i[i.Custom=5]="Custom",i[i.Plugin=6]="Plugin",i))(Di||{}),oi=(i=>(i[i.Mutation=0]="Mutation",i[i.MouseMove=1]="MouseMove",i[i.MouseInteraction=2]="MouseInteraction",i[i.Scroll=3]="Scroll",i[i.ViewportResize=4]="ViewportResize",i[i.Input=5]="Input",i[i.TouchMove=6]="TouchMove",i[i.MediaInteraction=7]="MediaInteraction",i[i.StyleSheetRule=8]="StyleSheetRule",i[i.CanvasMutation=9]="CanvasMutation",i[i.Font=10]="Font",i[i.Log=11]="Log",i[i.Drag=12]="Drag",i[i.StyleDeclaration=13]="StyleDeclaration",i[i.Selection=14]="Selection",i[i.AdoptedStyleSheet=15]="AdoptedStyleSheet",i[i.CustomElement=16]="CustomElement",i))(oi||{}),wl="[SessionRecording]",xl="redacted",Hr={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:i=>i,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io",".clarity.ms","analytics.google.com"]},fy=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],py=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],_y=["/s/","/e/","/i/"];function bh(i,t,n,s){if(Ot(i))return i;var o=(t==null?void 0:t["content-length"])||function(l){return new Blob([l]).size}(i);return ee(o)&&(o=parseInt(o)),o>n?wl+" "+s+" body too large to record ("+o+" bytes)":i}function wh(i,t){if(Ot(i))return i;var n=i;return hs(n,!1)||(n=wl+" "+t+" body "+xl),Nt(py,s=>{var o,l;(o=n)!=null&&o.length&&((l=n)==null?void 0:l.indexOf(s))!==-1&&(n=wl+" "+t+" body "+xl+" as might contain: "+s)}),n}var gy=(i,t)=>{var n,s,o,l={payloadSizeLimitBytes:Hr.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...Hr.performanceEntryTypeToObserve],payloadHostDenyList:[...t.payloadHostDenyList||[],...Hr.payloadHostDenyList]},u=i.session_recording.recordHeaders!==!1&&t.recordHeaders,h=i.session_recording.recordBody!==!1&&t.recordBody,d=i.capture_performance!==!1&&t.recordPerformance,_=(n=l,o=Math.min(1e6,(s=n.payloadSizeLimitBytes)!==null&&s!==void 0?s:1e6),v=>(v!=null&&v.requestBody&&(v.requestBody=bh(v.requestBody,v.requestHeaders,o,"Request")),v!=null&&v.responseBody&&(v.responseBody=bh(v.responseBody,v.responseHeaders,o,"Response")),v)),p=v=>{return _(((x,z)=>{var I,A=ds(x.name),M=z.indexOf("http")===0?(I=ds(z))==null?void 0:I.pathname:z;M==="/"&&(M="");var D=A==null?void 0:A.pathname.replace(M||"","");if(!(A&&D&&_y.some(W=>D.indexOf(W)===0)))return x})((S=(y=v).requestHeaders,Ot(S)||Nt(Object.keys(S??{}),x=>{fy.includes(x.toLowerCase())&&(S[x]=xl)}),y),i.api_host));var y,S},m=ti(i.session_recording.maskNetworkRequestFn);return m&&ti(i.session_recording.maskCapturedNetworkRequestFn)&&Q.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),m&&(i.session_recording.maskCapturedNetworkRequestFn=v=>{var y=i.session_recording.maskNetworkRequestFn({url:v.name});return K({},v,{name:y==null?void 0:y.url})}),l.maskRequestFn=ti(i.session_recording.maskCapturedNetworkRequestFn)?v=>{var y,S=p(v);return S&&(y=i.session_recording.maskCapturedNetworkRequestFn==null?void 0:i.session_recording.maskCapturedNetworkRequestFn(S))!==null&&y!==void 0?y:void 0}:v=>function(y){if(!q(y))return y.requestBody=wh(y.requestBody,"Request"),y.responseBody=wh(y.responseBody,"Response"),y}(p(v)),K({},Hr,l,{recordHeaders:u,recordBody:h,recordPerformance:d,recordInitialRequests:d})};function Xe(i,t,n,s,o){return t>n&&(Q.warn("min cannot be greater than max."),t=n),xe(i)?i>n?(s&&Q.warn(s+" cannot be  greater than max: "+n+". Using max value instead."),n):i<t?(s&&Q.warn(s+" cannot be less than min: "+t+". Using min value instead."),t):i:(s&&Q.warn(s+" must be a number. using max or fallback. max: "+n+", fallback: "+o),Xe(o||n,t,n,s))}class my{constructor(t,n){var s,o;n===void 0&&(n={}),this.ot=100,this.lt=10,this.ht={},this.ut={},this.dt=()=>{Object.keys(this.ht).forEach(l=>{this.ht[l]=this.ht[l]+this.lt,this.ht[l]>=this.ot&&delete this.ht[l]})},this.vt=l=>{var u=this._rrweb.mirror.getNode(l);if((u==null?void 0:u.nodeName)!=="svg"&&u instanceof Element){var h=u.closest("svg");if(h)return[this._rrweb.mirror.getId(h),h]}return[l,u]},this.ct=l=>{var u,h,d,_,p,m,v,y;return((u=(h=l.removes)==null?void 0:h.length)!==null&&u!==void 0?u:0)+((d=(_=l.attributes)==null?void 0:_.length)!==null&&d!==void 0?d:0)+((p=(m=l.texts)==null?void 0:m.length)!==null&&p!==void 0?p:0)+((v=(y=l.adds)==null?void 0:y.length)!==null&&v!==void 0?v:0)},this.throttleMutations=l=>{if(l.type!==3||l.data.source!==0)return l;var u=l.data,h=this.ct(u);u.attributes&&(u.attributes=u.attributes.filter(_=>{var p,m,v,[y,S]=this.vt(_.id);return this.ht[y]===0?!1:(this.ht[y]=(p=this.ht[y])!==null&&p!==void 0?p:this.ot,this.ht[y]=Math.max(this.ht[y]-1,0),this.ht[y]===0&&(this.ut[y]||(this.ut[y]=!0,(m=(v=this.ft).onBlockedNode)==null||m.call(v,y,S))),_)}));var d=this.ct(u);return d!==0||h===d?l:void 0},this._rrweb=t,this.ft=n,this.lt=Xe((s=this.ft.refillRate)!==null&&s!==void 0?s:this.lt,0,100,"mutation throttling refill rate"),this.ot=Xe((o=this.ft.bucketSize)!==null&&o!==void 0?o:this.ot,0,100,"mutation throttling bucket size"),setInterval(()=>{this.dt()},1e3)}}var ei=Uint8Array,Ie=Uint16Array,fs=Uint32Array,nu=new ei([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),su=new ei([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),xh=new ei([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Nf=function(i,t){for(var n=new Ie(31),s=0;s<31;++s)n[s]=t+=1<<i[s-1];var o=new fs(n[30]);for(s=1;s<30;++s)for(var l=n[s];l<n[s+1];++l)o[l]=l-n[s]<<5|s;return[n,o]},Bf=Nf(nu,2),vy=Bf[0],Pl=Bf[1];vy[28]=258,Pl[258]=28;for(var Ph=Nf(su,0)[1],El=new Ie(32768),Zt=0;Zt<32768;++Zt){var Pn=(43690&Zt)>>>1|(21845&Zt)<<1;Pn=(61680&(Pn=(52428&Pn)>>>2|(13107&Pn)<<2))>>>4|(3855&Pn)<<4,El[Zt]=((65280&Pn)>>>8|(255&Pn)<<8)>>>1}var Ys=function(i,t,n){for(var s=i.length,o=0,l=new Ie(t);o<s;++o)++l[i[o]-1];var u,h=new Ie(t);for(o=0;o<t;++o)h[o]=h[o-1]+l[o-1]<<1;if(n){u=new Ie(1<<t);var d=15-t;for(o=0;o<s;++o)if(i[o])for(var _=o<<4|i[o],p=t-i[o],m=h[i[o]-1]++<<p,v=m|(1<<p)-1;m<=v;++m)u[El[m]>>>d]=_}else for(u=new Ie(s),o=0;o<s;++o)u[o]=El[h[i[o]-1]++]>>>15-i[o];return u},Fn=new ei(288);for(Zt=0;Zt<144;++Zt)Fn[Zt]=8;for(Zt=144;Zt<256;++Zt)Fn[Zt]=9;for(Zt=256;Zt<280;++Zt)Fn[Zt]=7;for(Zt=280;Zt<288;++Zt)Fn[Zt]=8;var vo=new ei(32);for(Zt=0;Zt<32;++Zt)vo[Zt]=5;var yy=Ys(Fn,9,0),by=Ys(vo,5,0),zf=function(i){return(i/8>>0)+(7&i&&1)},$f=function(i,t,n){(n==null||n>i.length)&&(n=i.length);var s=new(i instanceof Ie?Ie:i instanceof fs?fs:ei)(n-t);return s.set(i.subarray(t,n)),s},Ii=function(i,t,n){n<<=7&t;var s=t/8>>0;i[s]|=n,i[s+1]|=n>>>8},As=function(i,t,n){n<<=7&t;var s=t/8>>0;i[s]|=n,i[s+1]|=n>>>8,i[s+2]|=n>>>16},Na=function(i,t){for(var n=[],s=0;s<i.length;++s)i[s]&&n.push({s,f:i[s]});var o=n.length,l=n.slice();if(!o)return[new ei(0),0];if(o==1){var u=new ei(n[0].s+1);return u[n[0].s]=1,[u,1]}n.sort(function(W,at){return W.f-at.f}),n.push({s:-1,f:25001});var h=n[0],d=n[1],_=0,p=1,m=2;for(n[0]={s:-1,f:h.f+d.f,l:h,r:d};p!=o-1;)h=n[n[_].f<n[m].f?_++:m++],d=n[_!=p&&n[_].f<n[m].f?_++:m++],n[p++]={s:-1,f:h.f+d.f,l:h,r:d};var v=l[0].s;for(s=1;s<o;++s)l[s].s>v&&(v=l[s].s);var y=new Ie(v+1),S=Sl(n[p-1],y,0);if(S>t){s=0;var x=0,z=S-t,I=1<<z;for(l.sort(function(W,at){return y[at.s]-y[W.s]||W.f-at.f});s<o;++s){var A=l[s].s;if(!(y[A]>t))break;x+=I-(1<<S-y[A]),y[A]=t}for(x>>>=z;x>0;){var M=l[s].s;y[M]<t?x-=1<<t-y[M]++-1:++s}for(;s>=0&&x;--s){var D=l[s].s;y[D]==t&&(--y[D],++x)}S=t}return[new ei(y),S]},Sl=function(i,t,n){return i.s==-1?Math.max(Sl(i.l,t,n+1),Sl(i.r,t,n+1)):t[i.s]=n},Eh=function(i){for(var t=i.length;t&&!i[--t];);for(var n=new Ie(++t),s=0,o=i[0],l=1,u=function(d){n[s++]=d},h=1;h<=t;++h)if(i[h]==o&&h!=t)++l;else{if(!o&&l>2){for(;l>138;l-=138)u(32754);l>2&&(u(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(u(o),--l;l>6;l-=6)u(8304);l>2&&(u(l-3<<5|8208),l=0)}for(;l--;)u(o);l=1,o=i[h]}return[n.subarray(0,s),t]},Os=function(i,t){for(var n=0,s=0;s<t.length;++s)n+=i[s]*t[s];return n},Tl=function(i,t,n){var s=n.length,o=zf(t+2);i[o]=255&s,i[o+1]=s>>>8,i[o+2]=255^i[o],i[o+3]=255^i[o+1];for(var l=0;l<s;++l)i[o+l+4]=n[l];return 8*(o+4+s)},Sh=function(i,t,n,s,o,l,u,h,d,_,p){Ii(t,p++,n),++o[256];for(var m=Na(o,15),v=m[0],y=m[1],S=Na(l,15),x=S[0],z=S[1],I=Eh(v),A=I[0],M=I[1],D=Eh(x),W=D[0],at=D[1],ot=new Ie(19),X=0;X<A.length;++X)ot[31&A[X]]++;for(X=0;X<W.length;++X)ot[31&W[X]]++;for(var tt=Na(ot,7),ct=tt[0],st=tt[1],$=19;$>4&&!ct[xh[$-1]];--$);var Et,_t,Ft,gt,pt=_+5<<3,U=Os(o,Fn)+Os(l,vo)+u,Ut=Os(o,v)+Os(l,x)+u+14+3*$+Os(ot,ct)+(2*ot[16]+3*ot[17]+7*ot[18]);if(pt<=U&&pt<=Ut)return Tl(t,p,i.subarray(d,d+_));if(Ii(t,p,1+(Ut<U)),p+=2,Ut<U){Et=Ys(v,y,0),_t=v,Ft=Ys(x,z,0),gt=x;var J=Ys(ct,st,0);for(Ii(t,p,M-257),Ii(t,p+5,at-1),Ii(t,p+10,$-4),p+=14,X=0;X<$;++X)Ii(t,p+3*X,ct[xh[X]]);p+=3*$;for(var yt=[A,W],et=0;et<2;++et){var kt=yt[et];for(X=0;X<kt.length;++X){var xt=31&kt[X];Ii(t,p,J[xt]),p+=ct[xt],xt>15&&(Ii(t,p,kt[X]>>>5&127),p+=kt[X]>>>12)}}}else Et=yy,_t=Fn,Ft=by,gt=vo;for(X=0;X<h;++X)if(s[X]>255){xt=s[X]>>>18&31,As(t,p,Et[xt+257]),p+=_t[xt+257],xt>7&&(Ii(t,p,s[X]>>>23&31),p+=nu[xt]);var bt=31&s[X];As(t,p,Ft[bt]),p+=gt[bt],bt>3&&(As(t,p,s[X]>>>5&8191),p+=su[bt])}else As(t,p,Et[s[X]]),p+=_t[s[X]];return As(t,p,Et[256]),p+_t[256]},wy=new fs([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),xy=function(){for(var i=new fs(256),t=0;t<256;++t){for(var n=t,s=9;--s;)n=(1&n&&3988292384)^n>>>1;i[t]=n}return i}(),Py=function(){var i=4294967295;return{p:function(t){for(var n=i,s=0;s<t.length;++s)n=xy[255&n^t[s]]^n>>>8;i=n},d:function(){return 4294967295^i}}},Ey=function(i,t,n,s,o){return function(l,u,h,d,_,p){var m=l.length,v=new ei(d+m+5*(1+Math.floor(m/7e3))+_),y=v.subarray(d,v.length-_),S=0;if(!u||m<8)for(var x=0;x<=m;x+=65535){var z=x+65535;z<m?S=Tl(y,S,l.subarray(x,z)):(y[x]=p,S=Tl(y,S,l.subarray(x,m)))}else{for(var I=wy[u-1],A=I>>>13,M=8191&I,D=(1<<h)-1,W=new Ie(32768),at=new Ie(D+1),ot=Math.ceil(h/3),X=2*ot,tt=function(O){return(l[O]^l[O+1]<<ot^l[O+2]<<X)&D},ct=new fs(25e3),st=new Ie(288),$=new Ie(32),Et=0,_t=0,Ft=(x=0,0),gt=0,pt=0;x<m;++x){var U=tt(x),Ut=32767&x,J=at[U];if(W[Ut]=J,at[U]=Ut,gt<=x){var yt=m-x;if((Et>7e3||Ft>24576)&&yt>423){S=Sh(l,y,0,ct,st,$,_t,Ft,pt,x-pt,S),Ft=Et=_t=0,pt=x;for(var et=0;et<286;++et)st[et]=0;for(et=0;et<30;++et)$[et]=0}var kt=2,xt=0,bt=M,ut=Ut-J&32767;if(yt>2&&U==tt(x-ut))for(var ae=Math.min(A,yt)-1,Ae=Math.min(32767,x),dn=Math.min(258,yt);ut<=Ae&&--bt&&Ut!=J;){if(l[x+kt]==l[x+kt-ut]){for(var ie=0;ie<dn&&l[x+ie]==l[x+ie-ut];++ie);if(ie>kt){if(kt=ie,xt=ut,ie>ae)break;var Pi=Math.min(ut,ie-2),qe=0;for(et=0;et<Pi;++et){var b=x-ut+et+32768&32767,P=b-W[b]+32768&32767;P>qe&&(qe=P,J=b)}}}ut+=(Ut=J)-(J=W[Ut])+32768&32767}if(xt){ct[Ft++]=268435456|Pl[kt]<<18|Ph[xt];var C=31&Pl[kt],N=31&Ph[xt];_t+=nu[C]+su[N],++st[257+C],++$[N],gt=x+kt,++Et}else ct[Ft++]=l[x],++st[l[x]]}}S=Sh(l,y,p,ct,st,$,_t,Ft,pt,x-pt,S)}return $f(v,0,d+zf(S)+_)}(i,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(i.length)))):12+t.mem,n,s,!o)},Ll=function(i,t,n){for(;n;++t)i[t]=n,n>>>=8},Sy=function(i,t){var n=t.filename;if(i[0]=31,i[1]=139,i[2]=8,i[8]=t.level<2?4:t.level==9?2:0,i[9]=3,t.mtime!=0&&Ll(i,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){i[3]=8;for(var s=0;s<=n.length;++s)i[s+10]=n.charCodeAt(s)}},Ty=function(i){return 10+(i.filename&&i.filename.length+1||0)};function Zf(i,t){t===void 0&&(t={});var n=Py(),s=i.length;n.p(i);var o=Ey(i,t,Ty(t),8),l=o.length;return Sy(o,t),Ll(o,l-8,n.d()),Ll(o,l-4,s),o}function Hf(i,t){var n=i.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(i);for(var s=new ei(i.length+(i.length>>>1)),o=0,l=function(_){s[o++]=_},u=0;u<n;++u){if(o+5>s.length){var h=new ei(o+8+(n-u<<1));h.set(s),s=h}var d=i.charCodeAt(u);d<128||t?l(d):d<2048?(l(192|d>>>6),l(128|63&d)):d>55295&&d<57344?(l(240|(d=65536+(1047552&d)|1023&i.charCodeAt(++u))>>>18),l(128|d>>>12&63),l(128|d>>>6&63),l(128|63&d)):(l(224|d>>>12),l(128|d>>>6&63),l(128|63&d))}return $f(s,0,o)}function Ly(i,t){return function(n){for(var s=0,o=0;o<n.length;o++)s=(s<<5)-s+n.charCodeAt(o),s|=0;return Math.abs(s)}(i)%100<Xe(100*t,0,100)}var an="disabled",ru="sampled",yo="active",Nn="buffering",ou="paused",au="trigger",wi=au+"_activated",Ee=au+"_pending",xi=au+"_"+an;function Th(i,t){return t.some(n=>n.matching==="regex"&&new RegExp(n.url).test(i))}class Uf{constructor(t){this.gt=t}triggerStatus(t){var n=this.gt.map(s=>s.triggerStatus(t));return n.includes(wi)?wi:n.includes(Ee)?Ee:xi}stop(){this.gt.forEach(t=>t.stop())}}class Wf{constructor(t){this.gt=t}triggerStatus(t){var n=new Set;for(var s of this.gt)n.add(s.triggerStatus(t));switch(n.delete(xi),n.size){case 0:return xi;case 1:return Array.from(n)[0];default:return Ee}}stop(){this.gt.forEach(t=>t.stop())}}class ky{triggerStatus(){return Ee}stop(){}}class My{constructor(t){this._t=[],this.bt=[],this.urlBlocked=!1,this._instance=t}onRemoteConfig(t){var n,s;this._t=((n=t.sessionRecording)==null?void 0:n.urlTriggers)||[],this.bt=((s=t.sessionRecording)==null?void 0:s.urlBlocklist)||[]}wt(t){var n;return this._t.length===0?xi:((n=this._instance)==null?void 0:n.get_property(cl))===t?wi:Ee}triggerStatus(t){var n=this.wt(t),s=n===wi?wi:n===Ee?Ee:xi;return this._instance.register_for_session({$sdk_debug_replay_url_trigger_status:s}),s}checkUrlTriggerConditions(t,n,s){if(T!==void 0&&T.location.href){var o=T.location.href,l=this.urlBlocked,u=Th(o,this.bt);l&&u||(u&&!l?t():!u&&l&&n(),Th(o,this._t)&&s("url"))}}stop(){}}class Cy{constructor(t){this.linkedFlag=null,this.linkedFlagSeen=!1,this.yt=()=>{},this._instance=t}triggerStatus(){var t=Ee;return Ot(this.linkedFlag)&&(t=xi),this.linkedFlagSeen&&(t=wi),this._instance.register_for_session({$sdk_debug_replay_linked_flag_trigger_status:t}),t}onRemoteConfig(t,n){var s;if(this.linkedFlag=((s=t.sessionRecording)==null?void 0:s.linkedFlag)||null,!Ot(this.linkedFlag)&&!this.linkedFlagSeen){var o=ee(this.linkedFlag)?this.linkedFlag:this.linkedFlag.flag,l=ee(this.linkedFlag)?null:this.linkedFlag.variant;this.yt=this._instance.onFeatureFlags((u,h)=>{var d=Vt(h)&&o in h&&(l?h[o]===l:h[o]===!0);d&&n(o,l),this.linkedFlagSeen=d})}}stop(){this.yt()}}class Iy{constructor(t){this.St=[],this._instance=t}onRemoteConfig(t){var n;this.St=((n=t.sessionRecording)==null?void 0:n.eventTriggers)||[]}$t(t){var n;return this.St.length===0?xi:((n=this._instance)==null?void 0:n.get_property(hl))===t?wi:Ee}triggerStatus(t){var n=this.$t(t),s=n===wi?wi:n===Ee?Ee:xi;return this._instance.register_for_session({$sdk_debug_replay_event_trigger_status:s}),s}stop(){}}function Ay(i){return i.isRecordingEnabled?Nn:an}function Oy(i){if(!i.receivedDecide)return Nn;if(!i.isRecordingEnabled)return an;if(i.urlTriggerMatching.urlBlocked)return ou;var t=i.isSampled===!0,n=new Uf([i.eventTriggerMatching,i.urlTriggerMatching,i.linkedFlagMatching]).triggerStatus(i.sessionId);return t?ru:n===wi?yo:n===Ee?Nn:i.isSampled===!1?an:yo}function Ry(i){if(!i.receivedDecide)return Nn;if(!i.isRecordingEnabled)return an;if(i.urlTriggerMatching.urlBlocked)return ou;var t=new Wf([i.eventTriggerMatching,i.urlTriggerMatching,i.linkedFlagMatching]).triggerStatus(i.sessionId),n=t!==xi,s=zi(i.isSampled);return n&&t===Ee?Nn:n&&t===xi||s&&!i.isSampled?an:i.isSampled===!0?ru:yo}var Zs="[SessionRecording]",ve=Se(Zs);function Ur(){var i,t;return wt==null||(i=wt.__PosthogExtensions__)==null||(t=i.rrweb)==null?void 0:t.record}var Dy=3e5,Fy=[oi.MouseMove,oi.MouseInteraction,oi.Scroll,oi.ViewportResize,oi.Input,oi.TouchMove,oi.MediaInteraction,oi.Drag],Lh=i=>({rrwebMethod:i,enqueuedAt:Date.now(),attempt:1});function En(i){return function(t,n){for(var s="",o=0;o<t.length;){var l=t[o++];l<128||n?s+=String.fromCharCode(l):l<224?s+=String.fromCharCode((31&l)<<6|63&t[o++]):l<240?s+=String.fromCharCode((15&l)<<12|(63&t[o++])<<6|63&t[o++]):(l=((15&l)<<18|(63&t[o++])<<12|(63&t[o++])<<6|63&t[o++])-65536,s+=String.fromCharCode(55296|l>>10,56320|1023&l))}return s}(Zf(Hf(JSON.stringify(i))),!0)}function kh(i){return i.type===Di.Custom&&i.data.tag==="sessionIdle"}class Ny{get sessionId(){return this.kt}get xt(){return this._instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this.Et}get It(){if(!this._instance.sessionManager)throw new Error(Zs+" must be started with a valid sessionManager.");return this._instance.sessionManager}get Pt(){var t,n;return this.Rt.triggerStatus(this.sessionId)===Ee?6e4:(t=(n=this._instance.config.session_recording)==null?void 0:n.full_snapshot_interval_millis)!==null&&t!==void 0?t:Dy}get Tt(){var t=this._instance.get_property(zs);return zi(t)?t:null}get Mt(){var t,n,s=(t=this.M)==null?void 0:t.data[((n=this.M)==null?void 0:n.data.length)-1],{sessionStartTimestamp:o}=this.It.checkAndGetSessionAndWindowId(!0);return s?s.timestamp-o:null}get Ct(){var t=!!this._instance.get_property(ul),n=!this._instance.config.disable_session_recording;return T&&t&&n}get Ot(){var t=!!this._instance.get_property(eh),n=this._instance.config.enable_recording_console_log;return n??t}get Ft(){var t,n,s,o,l,u,h=this._instance.config.session_recording.captureCanvas,d=this._instance.get_property(sh),_=(t=(n=h==null?void 0:h.recordCanvas)!==null&&n!==void 0?n:d==null?void 0:d.enabled)!==null&&t!==void 0&&t,p=(s=(o=h==null?void 0:h.canvasFps)!==null&&o!==void 0?o:d==null?void 0:d.fps)!==null&&s!==void 0?s:4,m=(l=(u=h==null?void 0:h.canvasQuality)!==null&&u!==void 0?u:d==null?void 0:d.quality)!==null&&l!==void 0?l:.4;if(typeof m=="string"){var v=parseFloat(m);m=isNaN(v)?.4:v}return{enabled:_,fps:Xe(p,0,12,"canvas recording fps",4),quality:Xe(m,0,1,"canvas recording quality",.4)}}get At(){var t,n,s=this._instance.get_property(ih),o={recordHeaders:(t=this._instance.config.session_recording)==null?void 0:t.recordHeaders,recordBody:(n=this._instance.config.session_recording)==null?void 0:n.recordBody},l=(o==null?void 0:o.recordHeaders)||(s==null?void 0:s.recordHeaders),u=(o==null?void 0:o.recordBody)||(s==null?void 0:s.recordBody),h=Vt(this._instance.config.capture_performance)?this._instance.config.capture_performance.network_timing:this._instance.config.capture_performance,d=!!(zi(h)?h:s!=null&&s.capturePerformance);return l||u||d?{recordHeaders:l,recordBody:u,recordPerformance:d}:void 0}get Dt(){var t,n,s,o,l,u,h=this._instance.get_property(nh),d={maskAllInputs:(t=this._instance.config.session_recording)==null?void 0:t.maskAllInputs,maskTextSelector:(n=this._instance.config.session_recording)==null?void 0:n.maskTextSelector,blockSelector:(s=this._instance.config.session_recording)==null?void 0:s.blockSelector},_=(o=d==null?void 0:d.maskAllInputs)!==null&&o!==void 0?o:h==null?void 0:h.maskAllInputs,p=(l=d==null?void 0:d.maskTextSelector)!==null&&l!==void 0?l:h==null?void 0:h.maskTextSelector,m=(u=d==null?void 0:d.blockSelector)!==null&&u!==void 0?u:h==null?void 0:h.blockSelector;return q(_)&&q(p)&&q(m)?void 0:{maskAllInputs:_==null||_,maskTextSelector:p,blockSelector:m}}get jt(){var t=this._instance.get_property(rh);return xe(t)?t:null}get Lt(){var t=this._instance.get_property(oh);return xe(t)?t:null}get status(){return this.Nt?this.zt({receivedDecide:this.Nt,isRecordingEnabled:this.Ct,isSampled:this.Tt,urlTriggerMatching:this.Ut,eventTriggerMatching:this.qt,linkedFlagMatching:this.Bt,sessionId:this.sessionId}):Nn}constructor(t){if(this.zt=Ay,this.Nt=!1,this.Ht=[],this.Wt="unknown",this.Gt=Date.now(),this.Rt=new ky,this.Jt=void 0,this.Vt=void 0,this.Kt=void 0,this.Yt=void 0,this.Xt=void 0,this._forceAllowLocalhostNetworkCapture=!1,this.Qt=()=>{this.Zt()},this.ti=()=>{this.ii("browser offline",{})},this.ei=()=>{this.ii("browser online",{})},this.ri=()=>{if(Y!=null&&Y.visibilityState){var o="window "+Y.visibilityState;this.ii(o,{})}},this._instance=t,this.Et=!1,this.si="/s/",this.ni=void 0,this.Nt=!1,!this._instance.sessionManager)throw ve.error("started without valid sessionManager"),new Error(Zs+" started without valid sessionManager. This is a bug.");if(this._instance.config.__preview_experimental_cookieless_mode)throw new Error(Zs+" cannot be used with __preview_experimental_cookieless_mode.");this.Bt=new Cy(this._instance),this.Ut=new My(this._instance),this.qt=new Iy(this._instance);var{sessionId:n,windowId:s}=this.It.checkAndGetSessionAndWindowId();this.kt=n,this.oi=s,this.M=this.ai(),this.xt>=this.It.sessionTimeoutMs&&ve.warn("session_idle_threshold_ms ("+this.xt+") is greater than the session timeout ("+this.It.sessionTimeoutMs+"). Session will never be detected as idle")}startIfEnabledOrStop(t){this.Ct?(this.li(t),jt(T,"beforeunload",this.Qt),jt(T,"offline",this.ti),jt(T,"online",this.ei),jt(T,"visibilitychange",this.ri),this.hi(),this.ui(),Ot(this.Jt)&&(this.Jt=this._instance.on("eventCaptured",n=>{try{if(n.event==="$pageview"){var s=n!=null&&n.properties.$current_url?this.di(n==null?void 0:n.properties.$current_url):"";if(!s)return;this.ii("$pageview",{href:s})}}catch(o){ve.error("Could not add $pageview to rrweb session",o)}})),this.Vt||(this.Vt=this.It.onSessionId((n,s,o)=>{var l,u,h,d;o&&(this.ii("$session_id_change",{sessionId:n,windowId:s,changeReason:o}),(l=this._instance)==null||(u=l.persistence)==null||u.unregister(hl),(h=this._instance)==null||(d=h.persistence)==null||d.unregister(cl))}))):this.stopRecording()}stopRecording(){var t,n,s,o;this.Et&&this.ni&&(this.ni(),this.ni=void 0,this.Et=!1,T==null||T.removeEventListener("beforeunload",this.Qt),T==null||T.removeEventListener("offline",this.ti),T==null||T.removeEventListener("online",this.ei),T==null||T.removeEventListener("visibilitychange",this.ri),this.ai(),clearInterval(this.vi),(t=this.Jt)==null||t.call(this),this.Jt=void 0,(n=this.Xt)==null||n.call(this),this.Xt=void 0,(s=this.Vt)==null||s.call(this),this.Vt=void 0,(o=this.Yt)==null||o.call(this),this.Yt=void 0,this.qt.stop(),this.Ut.stop(),this.Bt.stop(),ve.info("stopped"))}ci(){var t;(t=this._instance.persistence)==null||t.unregister(zs)}fi(t){var n,s=this.kt!==t,o=this.jt;if(xe(o)){var l=this.Tt,u=s||!zi(l),h=u?Ly(t,o):l;u&&(h?this.pi(ru):ve.warn("Sample rate ("+o+") has determined that this sessionId ("+t+") will not be sent to the server."),this.ii("samplingDecisionMade",{sampleRate:o,isSampled:h})),(n=this._instance.persistence)==null||n.register({[zs]:h})}else this.ci()}onRemoteConfig(t){var n,s,o,l;this.ii("$remote_config_received",t),this.gi(t),(n=t.sessionRecording)!=null&&n.endpoint&&(this.si=(l=t.sessionRecording)==null?void 0:l.endpoint),this.hi(),((s=t.sessionRecording)==null?void 0:s.triggerMatchType)==="any"?(this.zt=Oy,this.Rt=new Uf([this.qt,this.Ut])):(this.zt=Ry,this.Rt=new Wf([this.qt,this.Ut])),this._instance.register_for_session({$sdk_debug_replay_remote_trigger_matching_config:(o=t.sessionRecording)==null?void 0:o.triggerMatchType}),this.Ut.onRemoteConfig(t),this.qt.onRemoteConfig(t),this.Bt.onRemoteConfig(t,(u,h)=>{this.pi("linked_flag_matched",{flag:u,variant:h})}),this.Nt=!0,this.startIfEnabledOrStop()}hi(){xe(this.jt)&&Ot(this.Yt)&&(this.Yt=this.It.onSessionId(t=>{this.fi(t)}))}gi(t){if(this._instance.persistence){var n,s=this._instance.persistence,o=()=>{var l,u,h,d,_,p,m,v,y,S=(l=t.sessionRecording)==null?void 0:l.sampleRate,x=Ot(S)?null:parseFloat(S);Ot(x)&&this.ci();var z=(u=t.sessionRecording)==null?void 0:u.minimumDurationMilliseconds;s.register({[ul]:!!t.sessionRecording,[eh]:(h=t.sessionRecording)==null?void 0:h.consoleLogRecordingEnabled,[ih]:K({capturePerformance:t.capturePerformance},(d=t.sessionRecording)==null?void 0:d.networkPayloadCapture),[nh]:(_=t.sessionRecording)==null?void 0:_.masking,[sh]:{enabled:(p=t.sessionRecording)==null?void 0:p.recordCanvas,fps:(m=t.sessionRecording)==null?void 0:m.canvasFps,quality:(v=t.sessionRecording)==null?void 0:v.canvasQuality},[rh]:x,[oh]:q(z)?null:z,[ah]:(y=t.sessionRecording)==null?void 0:y.scriptConfig})};o(),(n=this.Kt)==null||n.call(this),this.Kt=this.It.onSessionId(o)}}log(t,n){var s;n===void 0&&(n="log"),(s=this._instance.sessionRecording)==null||s.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:n,trace:[],payload:[JSON.stringify(t)]}},timestamp:Date.now()})}li(t){if(!q(Object.assign)&&!q(Array.from)&&!(this.Et||this._instance.config.disable_session_recording||this._instance.consent.isOptedOut())){var n;this.Et=!0,this.It.checkAndGetSessionAndWindowId(),Ur()?this.mi():(n=wt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,this.bi,s=>{if(s)return ve.error("could not load recorder",s);this.mi()}),ve.info("starting"),this.status===yo&&this.pi(t||"recording_initialized")}}get bi(){var t,n,s;return((t=this._instance)==null||(n=t.persistence)==null||(s=n.get_property(ah))==null?void 0:s.script)||"recorder"}wi(t){var n;return t.type===3&&Fy.indexOf((n=t.data)==null?void 0:n.source)!==-1}yi(t){var n=this.wi(t);n||this.Wt||t.timestamp-this.Gt>this.xt&&(this.Wt=!0,clearInterval(this.vi),this.ii("sessionIdle",{eventTimestamp:t.timestamp,lastActivityTimestamp:this.Gt,threshold:this.xt,bufferLength:this.M.data.length,bufferSize:this.M.size}),this.Zt());var s=!1;if(n&&(this.Gt=t.timestamp,this.Wt)){var o=this.Wt==="unknown";this.Wt=!1,o||(this.ii("sessionNoLongerIdle",{reason:"user activity",type:t.type}),s=!0)}if(!this.Wt){var{windowId:l,sessionId:u}=this.It.checkAndGetSessionAndWindowId(!n,t.timestamp),h=this.kt!==u,d=this.oi!==l;this.oi=l,this.kt=u,h||d?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):s&&this.Si()}}$i(t){try{return t.rrwebMethod(),!0}catch(n){return this.Ht.length<10?this.Ht.push({enqueuedAt:t.enqueuedAt||Date.now(),attempt:t.attempt++,rrwebMethod:t.rrwebMethod}):ve.warn("could not emit queued rrweb event.",n,t),!1}}ii(t,n){return this.$i(Lh(()=>Ur().addCustomEvent(t,n)))}ki(){return this.$i(Lh(()=>Ur().takeFullSnapshot()))}mi(){var t,n,s,o,l={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},u=this._instance.config.session_recording;for(var[h,d]of Object.entries(u||{}))h in l&&(h==="maskInputOptions"?l.maskInputOptions=K({password:!0},d):l[h]=d);this.Ft&&this.Ft.enabled&&(l.recordCanvas=!0,l.sampling={canvas:this.Ft.fps},l.dataURLOptions={type:"image/webp",quality:this.Ft.quality}),this.Dt&&(l.maskAllInputs=(n=this.Dt.maskAllInputs)===null||n===void 0||n,l.maskTextSelector=(s=this.Dt.maskTextSelector)!==null&&s!==void 0?s:void 0,l.blockSelector=(o=this.Dt.blockSelector)!==null&&o!==void 0?o:void 0);var _=Ur();if(_){this.xi=(t=this.xi)!==null&&t!==void 0?t:new my(_,{refillRate:this._instance.config.session_recording.__mutationRateLimiterRefillRate,bucketSize:this._instance.config.session_recording.__mutationRateLimiterBucketSize,onBlockedNode:(m,v)=>{var y="Too many mutations on node '"+m+"'. Rate limiting. This could be due to SVG animations or something similar";ve.info(y,{node:v}),this.log(Zs+" "+y,"warn")}});var p=this.Ei();this.ni=_(K({emit:m=>{this.onRRwebEmit(m)},plugins:p},l)),this.Gt=Date.now(),this.Wt=zi(this.Wt)?this.Wt:"unknown",this.ii("$session_options",{sessionRecordingOptions:l,activePlugins:p.map(m=>m==null?void 0:m.name)}),this.ii("$posthog_config",{config:this._instance.config})}else ve.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}Si(){if(this.vi&&clearInterval(this.vi),this.Wt!==!0){var t=this.Pt;t&&(this.vi=setInterval(()=>{this.ki()},t))}}Ei(){var t,n,s,o,l=[],u=(t=wt.__PosthogExtensions__)==null||(n=t.rrwebPlugins)==null?void 0:n.getRecordConsolePlugin;u&&this.Ot&&l.push(u());var h=(s=wt.__PosthogExtensions__)==null||(o=s.rrwebPlugins)==null?void 0:o.getRecordNetworkPlugin;return this.At&&ti(h)&&(!Dv.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?l.push(h(gy(this._instance.config,this.At))):ve.info("NetworkCapture not started because we are on localhost.")),l}onRRwebEmit(t){var n;if(this.Ii(),t&&Vt(t)){if(t.type===Di.Meta){var s=this.di(t.data.href);if(this.Pi=s,!s)return;t.data.href=s}else this.Ri();if(this.Ut.checkUrlTriggerConditions(()=>this.Ti(),()=>this.Mi(),v=>this.Ci(v)),!this.Ut.urlBlocked||(o=t).type===Di.Custom&&o.data.tag==="recording paused"){var o;t.type===Di.FullSnapshot&&this.Si(),t.type===Di.FullSnapshot&&this.Nt&&this.Rt.triggerStatus(this.sessionId)===Ee&&this.ai();var l=this.xi?this.xi.throttleMutations(t):t;if(l){var u=function(v){var y=v;if(y&&Vt(y)&&y.type===6&&Vt(y.data)&&y.data.plugin==="rrweb/console@1"){y.data.payload.payload.length>10&&(y.data.payload.payload=y.data.payload.payload.slice(0,10),y.data.payload.payload.push("...[truncated]"));for(var S=[],x=0;x<y.data.payload.payload.length;x++)y.data.payload.payload[x]&&y.data.payload.payload[x].length>2e3?S.push(y.data.payload.payload[x].slice(0,2e3)+"...[truncated]"):S.push(y.data.payload.payload[x]);return y.data.payload.payload=S,v}return v}(l);if(this.yi(u),this.Wt!==!0||kh(u)){if(kh(u)){var h=u.data.payload;if(h){var d=h.lastActivityTimestamp,_=h.threshold;u.timestamp=d+_}}var p=(n=this._instance.config.session_recording.compress_events)===null||n===void 0||n?function(v){if(mo(v)<1024)return v;try{if(v.type===Di.FullSnapshot)return K({},v,{data:En(v.data),cv:"2024-10"});if(v.type===Di.IncrementalSnapshot&&v.data.source===oi.Mutation)return K({},v,{cv:"2024-10",data:K({},v.data,{texts:En(v.data.texts),attributes:En(v.data.attributes),removes:En(v.data.removes),adds:En(v.data.adds)})});if(v.type===Di.IncrementalSnapshot&&v.data.source===oi.StyleSheetRule)return K({},v,{cv:"2024-10",data:K({},v.data,{adds:v.data.adds?En(v.data.adds):void 0,removes:v.data.removes?En(v.data.removes):void 0})})}catch(y){ve.error("could not compress event - will use uncompressed event",y)}return v}(u):u,m={$snapshot_bytes:mo(p),$snapshot_data:p,$session_id:this.kt,$window_id:this.oi};this.status!==an?this.Oi(m):this.ai()}}}}}Ri(){if(!this._instance.config.capture_pageview&&T){var t=this.di(T.location.href);this.Pi!==t&&(this.ii("$url_changed",{href:t}),this.Pi=t)}}Ii(){if(this.Ht.length){var t=[...this.Ht];this.Ht=[],t.forEach(n=>{Date.now()-n.enqueuedAt<=2e3&&this.$i(n)})}}di(t){var n=this._instance.config.session_recording;if(n.maskNetworkRequestFn){var s,o={url:t};return(s=o=n.maskNetworkRequestFn(o))==null?void 0:s.url}return t}ai(){return this.M={size:0,data:[],sessionId:this.kt,windowId:this.oi},this.M}Zt(){this.Fi&&(clearTimeout(this.Fi),this.Fi=void 0);var t=this.Lt,n=this.Mt,s=xe(n)&&n>=0,o=xe(t)&&s&&n<t;return this.status===Nn||this.status===ou||this.status===an||o?(this.Fi=setTimeout(()=>{this.Zt()},2e3),this.M):(this.M.data.length>0&&bl(this.M).forEach(l=>{this.Ai({$snapshot_bytes:l.size,$snapshot_data:l.data,$session_id:l.sessionId,$window_id:l.windowId,$lib:"web",$lib_version:Ni.LIB_VERSION})}),this.ai())}Oi(t){var n,s=2+(((n=this.M)==null?void 0:n.data.length)||0);!this.Wt&&(this.M.size+t.$snapshot_bytes+s>943718.4||this.M.sessionId!==this.kt)&&(this.M=this.Zt()),this.M.size+=t.$snapshot_bytes,this.M.data.push(t.$snapshot_data),this.Fi||this.Wt||(this.Fi=setTimeout(()=>{this.Zt()},2e3))}Ai(t){this._instance.capture("$snapshot",t,{_url:this._instance.requestRouter.endpointFor("api",this.si),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}Ci(t){var n,s;this.Rt.triggerStatus(this.sessionId)===Ee&&((n=this._instance)==null||(s=n.persistence)==null||s.register({[t==="url"?cl:hl]:this.kt}),this.Zt(),this.pi(t+"_trigger_matched"))}Ti(){this.Ut.urlBlocked||(this.Ut.urlBlocked=!0,clearInterval(this.vi),ve.info("recording paused due to URL blocker"),this.ii("recording paused",{reason:"url blocker"}))}Mi(){this.Ut.urlBlocked&&(this.Ut.urlBlocked=!1,this.ki(),this.Si(),this.ii("recording resumed",{reason:"left blocked url"}),ve.info("recording resumed"))}ui(){this.qt.St.length!==0&&Ot(this.Xt)&&(this.Xt=this._instance.on("eventCaptured",t=>{try{this.qt.St.includes(t.event)&&this.Ci("event")}catch(n){ve.error("Could not activate event trigger",n)}}))}overrideLinkedFlag(){this.Bt.linkedFlagSeen=!0,this.ki(),this.pi("linked_flag_overridden")}overrideSampling(){var t;(t=this._instance.persistence)==null||t.register({[zs]:!0}),this.ki(),this.pi("sampling_overridden")}overrideTrigger(t){this.Ci(t)}pi(t,n){this._instance.register_for_session({$session_recording_start_reason:t}),ve.info(t.replace("_"," "),n),Lt(["recording_initialized","session_id_changed"],t)||this.ii(t,n)}get sdkDebugProperties(){var{sessionStartTimestamp:t}=this.It.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.M.data.length,$sdk_debug_replay_internal_buffer_size:this.M.size,$sdk_debug_current_session_duration:this.Mt,$sdk_debug_session_start:t}}}var Ba=Se("[SegmentIntegration]");function By(i,t){var n=i.config.segment;if(!n)return t();(function(s,o){var l=s.config.segment;if(!l)return o();var u=d=>{var _=()=>d.anonymousId()||tn();s.config.get_device_id=_,d.id()&&(s.register({distinct_id:d.id(),$device_id:_()}),s.persistence.set_property(Ri,"identified")),o()},h=l.user();"then"in h&&ti(h.then)?h.then(d=>u(d)):u(h)})(i,()=>{n.register((s=>{Promise&&Promise.resolve||Ba.warn("This browser does not have Promise support, and can not use the segment integration");var o=(l,u)=>{if(!u)return l;l.event.userId||l.event.anonymousId===s.get_distinct_id()||(Ba.info("No userId set, resetting PostHog"),s.reset()),l.event.userId&&l.event.userId!==s.get_distinct_id()&&(Ba.info("UserId set, identifying with PostHog"),s.identify(l.event.userId));var h=s.calculateEventProperties(u,l.event.properties);return l.event.properties=Object.assign({},h,l.event.properties),l};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:l=>o(l,l.event.event),page:l=>o(l,"$pageview"),identify:l=>o(l,"$identify"),screen:l=>o(l,"$screen")}})(i)).then(()=>{t()})})}var jf="posthog-js";function qf(i,t){var{organization:n,projectId:s,prefix:o,severityAllowList:l=["error"]}=t===void 0?{}:t;return u=>{var h,d,_,p,m;if(!(l==="*"||l.includes(u.level))||!i.__loaded)return u;u.tags||(u.tags={});var v=i.requestRouter.endpointFor("ui","/project/"+i.config.token+"/person/"+i.get_distinct_id());u.tags["PostHog Person URL"]=v,i.sessionRecordingStarted()&&(u.tags["PostHog Recording URL"]=i.get_session_replay_url({withTimestamp:!0}));var y=((h=u.exception)==null?void 0:h.values)||[],S=y.map(z=>K({},z,{stacktrace:z.stacktrace?K({},z.stacktrace,{type:"raw",frames:(z.stacktrace.frames||[]).map(I=>K({},I,{platform:"web:javascript"}))}):void 0})),x={$exception_message:((d=y[0])==null?void 0:d.value)||u.message,$exception_type:(_=y[0])==null?void 0:_.type,$exception_personURL:v,$exception_level:u.level,$exception_list:S,$sentry_event_id:u.event_id,$sentry_exception:u.exception,$sentry_exception_message:((p=y[0])==null?void 0:p.value)||u.message,$sentry_exception_type:(m=y[0])==null?void 0:m.type,$sentry_tags:u.tags};return n&&s&&(x.$sentry_url=(o||"https://sentry.io/organizations/")+n+"/issues/?project="+s+"&query="+u.event_id),i.exceptions.sendExceptionEvent(x),u}}class zy{constructor(t,n,s,o,l){this.name=jf,this.setupOnce=function(u){u(qf(t,{organization:n,projectId:s,prefix:o,severityAllowList:l}))}}}var Fi,$y=T!=null&&T.location?_o(T.location.hash,"__posthog")||_o(location.hash,"state"):null,Mh="_postHogToolbarParams",Ch=Se("[Toolbar]");(function(i){i[i.UNINITIALIZED=0]="UNINITIALIZED",i[i.LOADING=1]="LOADING",i[i.LOADED=2]="LOADED"})(Fi||(Fi={}));class Zy{constructor(t){this.instance=t}Di(t){wt.ph_toolbar_state=t}ji(){var t;return(t=wt.ph_toolbar_state)!==null&&t!==void 0?t:Fi.UNINITIALIZED}maybeLoadToolbar(t,n,s){var o,l;if(t===void 0&&(t=void 0),n===void 0&&(n=void 0),s===void 0&&(s=void 0),!T||!Y)return!1;t=(o=t)!==null&&o!==void 0?o:T.location,s=(l=s)!==null&&l!==void 0?l:T.history;try{if(!n){try{T.localStorage.setItem("test","test"),T.localStorage.removeItem("test")}catch{return!1}n=T==null?void 0:T.localStorage}var u,h=$y||_o(t.hash,"__posthog")||_o(t.hash,"state"),d=h?Yc(()=>JSON.parse(atob(decodeURIComponent(h))))||Yc(()=>JSON.parse(decodeURIComponent(h))):null;return d&&d.action==="ph_authorize"?((u=d).source="url",u&&Object.keys(u).length>0&&(d.desiredHash?t.hash=d.desiredHash:s?s.replaceState(s.state,"",t.pathname+t.search):t.hash="")):((u=JSON.parse(n.getItem(Mh)||"{}")).source="localstorage",delete u.userIntent),!(!u.token||this.instance.config.token!==u.token)&&(this.loadToolbar(u),!0)}catch{return!1}}Li(t){var n=wt.ph_load_toolbar||wt.ph_load_editor;!Ot(n)&&ti(n)?n(t,this.instance):Ch.warn("No toolbar load function found")}loadToolbar(t){var n=!(Y==null||!Y.getElementById(yf));if(!T||n)return!1;var s=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,o=K({token:this.instance.config.token},t,{apiURL:this.instance.requestRouter.endpointFor("ui")},s?{instrument:!1}:{});if(T.localStorage.setItem(Mh,JSON.stringify(K({},o,{source:void 0}))),this.ji()===Fi.LOADED)this.Li(o);else if(this.ji()===Fi.UNINITIALIZED){var l;this.Di(Fi.LOADING),(l=wt.__PosthogExtensions__)==null||l.loadExternalDependency==null||l.loadExternalDependency(this.instance,"toolbar",u=>{if(u)return Ch.error("[Toolbar] Failed to load",u),void this.Di(Fi.UNINITIALIZED);this.Di(Fi.LOADED),this.Li(o)}),jt(T,"turbolinks:load",()=>{this.Di(Fi.UNINITIALIZED),this.loadToolbar(o)})}return!0}Ni(t){return this.loadToolbar(t)}maybeLoadEditor(t,n,s){return t===void 0&&(t=void 0),n===void 0&&(n=void 0),s===void 0&&(s=void 0),this.maybeLoadToolbar(t,n,s)}}var Hy=Se("[TracingHeaders]");class Uy{constructor(t){this.zi=void 0,this.Ui=void 0,this.V=()=>{var n,s,o,l;q(this.zi)&&((n=wt.__PosthogExtensions__)==null||(s=n.tracingHeadersPatchFns)==null||s._patchXHR(this._instance.sessionManager)),q(this.Ui)&&((o=wt.__PosthogExtensions__)==null||(l=o.tracingHeadersPatchFns)==null||l._patchFetch(this._instance.sessionManager))},this._instance=t}G(t){var n,s;(n=wt.__PosthogExtensions__)!=null&&n.tracingHeadersPatchFns&&t(),(s=wt.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this._instance,"tracing-headers",o=>{if(o)return Hy.error("failed to load script",o);t()})}startIfEnabledOrStop(){var t,n;this._instance.config.__add_tracing_headers?this.G(this.V):((t=this.zi)==null||t.call(this),(n=this.Ui)==null||n.call(this),this.zi=void 0,this.Ui=void 0)}}var qi=Se("[Web Vitals]"),Ih=9e5;class Wy{constructor(t){var n;this.qi=!1,this.i=!1,this.M={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Bi=()=>{clearTimeout(this.Hi),this.M.metrics.length!==0&&(this._instance.capture("$web_vitals",this.M.metrics.reduce((s,o)=>K({},s,{["$web_vitals_"+o.name+"_event"]:K({},o),["$web_vitals_"+o.name+"_value"]:o.value}),{})),this.M={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Wi=s=>{var o,l=(o=this._instance.sessionManager)==null?void 0:o.checkAndGetSessionAndWindowId(!0);if(q(l))qi.error("Could not read session ID. Dropping metrics!");else{this.M=this.M||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var u=this.Gi();q(u)||(Ot(s==null?void 0:s.name)||Ot(s==null?void 0:s.value)?qi.error("Invalid metric received",s):this.Ji&&s.value>=this.Ji?qi.error("Ignoring metric with value >= "+this.Ji,s):(this.M.url!==u&&(this.Bi(),this.Hi=setTimeout(this.Bi,this.flushToCaptureTimeoutMs)),q(this.M.url)&&(this.M.url=u),this.M.firstMetricTimestamp=q(this.M.firstMetricTimestamp)?Date.now():this.M.firstMetricTimestamp,s.attribution&&s.attribution.interactionTargetElement&&(s.attribution.interactionTargetElement=void 0),this.M.metrics.push(K({},s,{$current_url:u,$session_id:l.sessionId,$window_id:l.windowId,timestamp:Date.now()})),this.M.metrics.length===this.allowedMetrics.length&&this.Bi()))}},this.V=()=>{var s,o,l,u,h=wt.__PosthogExtensions__;q(h)||q(h.postHogWebVitalsCallbacks)||({onLCP:s,onCLS:o,onFCP:l,onINP:u}=h.postHogWebVitalsCallbacks),s&&o&&l&&u?(this.allowedMetrics.indexOf("LCP")>-1&&s(this.Wi.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&o(this.Wi.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&l(this.Wi.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&u(this.Wi.bind(this)),this.i=!0):qi.error("web vitals callbacks not loaded - not starting")},this._instance=t,this.qi=!((n=this._instance.persistence)==null||!n.props[Qc]),this.startIfEnabled()}get allowedMetrics(){var t,n,s=Vt(this._instance.config.capture_performance)?(t=this._instance.config.capture_performance)==null?void 0:t.web_vitals_allowed_metrics:void 0;return q(s)?((n=this._instance.persistence)==null?void 0:n.props[th])||["CLS","FCP","INP","LCP"]:s}get flushToCaptureTimeoutMs(){return(Vt(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get Ji(){var t=Vt(this._instance.config.capture_performance)&&xe(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:Ih;return 0<t&&t<=6e4?Ih:t}get isEnabled(){var t=De==null?void 0:De.protocol;if(t!=="http:"&&t!=="https:")return qi.info("Web Vitals are disabled on non-http/https protocols"),!1;var n=Vt(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:zi(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return zi(n)?n:this.qi}startIfEnabled(){this.isEnabled&&!this.i&&(qi.info("enabled, starting..."),this.G(this.V))}onRemoteConfig(t){var n=Vt(t.capturePerformance)&&!!t.capturePerformance.web_vitals,s=Vt(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[Qc]:n}),this._instance.persistence.register({[th]:s})),this.qi=n,this.startIfEnabled()}G(t){var n,s;(n=wt.__PosthogExtensions__)!=null&&n.postHogWebVitalsCallbacks&&t(),(s=wt.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this._instance,"web-vitals",o=>{o?qi.error("failed to load script",o):t()})}Gi(){var t=T?T.location.href:void 0;return t||qi.error("Could not determine current URL"),t}}var jy=Se("[Heatmaps]");function Ah(i){return Vt(i)&&"clientX"in i&&"clientY"in i&&xe(i.clientX)&&xe(i.clientY)}class qy{constructor(t){var n;this.rageclicks=new Cf,this.qi=!1,this.i=!1,this.Vi=null,this.instance=t,this.qi=!((n=this.instance.persistence)==null||!n.props[ll])}get flushIntervalMilliseconds(){var t=5e3;return Vt(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return q(this.instance.config.capture_heatmaps)?q(this.instance.config.enable_heatmaps)?this.qi:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.i)return;jy.info("starting..."),this.Ki(),this.Vi=setInterval(this.Yi.bind(this),this.flushIntervalMilliseconds)}else{var t,n;clearInterval((t=this.Vi)!==null&&t!==void 0?t:void 0),(n=this.Xi)==null||n.stop(),this.getAndClearBuffer()}}onRemoteConfig(t){var n=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[ll]:n}),this.qi=n,this.startIfEnabled()}getAndClearBuffer(){var t=this.M;return this.M=void 0,t}Qi(t){this.Zi(t.originalEvent,"deadclick")}Ki(){T&&Y&&(jt(T,"beforeunload",this.Yi.bind(this)),jt(Y,"click",t=>this.Zi(t||(T==null?void 0:T.event)),{capture:!0}),jt(Y,"mousemove",t=>this.te(t||(T==null?void 0:T.event)),{capture:!0}),this.Xi=new Af(this.instance,Yv,this.Qi.bind(this)),this.Xi.startIfEnabled(),this.i=!0)}ie(t,n){var s=this.instance.scrollManager.scrollY(),o=this.instance.scrollManager.scrollX(),l=this.instance.scrollManager.scrollElement(),u=function(h,d,_){for(var p=h;p&&Bo(p)&&!sn(p,"body");){if(p===_)return!1;if(Lt(d,T==null?void 0:T.getComputedStyle(p).position))return!0;p=Ef(p)}return!1}(Pf(t),["fixed","sticky"],l);return{x:t.clientX+(u?0:o),y:t.clientY+(u?0:s),target_fixed:u,type:n}}Zi(t,n){var s;if(n===void 0&&(n="click"),!uh(t.target)&&Ah(t)){var o=this.ie(t,n);(s=this.rageclicks)!=null&&s.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this.ee(K({},o,{type:"rageclick"})),this.ee(o)}}te(t){!uh(t.target)&&Ah(t)&&(clearTimeout(this.re),this.re=setTimeout(()=>{this.ee(this.ie(t,"mousemove"))},500))}ee(t){if(T){var n=T.location.href;this.M=this.M||{},this.M[n]||(this.M[n]=[]),this.M[n].push(t)}}Yi(){this.M&&!es(this.M)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class Vy{constructor(t){this._instance=t}doPageView(t,n){var s,o=this.se(t,n);return this.ne={pathname:(s=T==null?void 0:T.location.pathname)!==null&&s!==void 0?s:"",pageViewId:n,timestamp:t},this._instance.scrollManager.resetContext(),o}doPageLeave(t){var n;return this.se(t,(n=this.ne)==null?void 0:n.pageViewId)}doEvent(){var t;return{$pageview_id:(t=this.ne)==null?void 0:t.pageViewId}}se(t,n){var s=this.ne;if(!s)return{$pageview_id:n};var o={$pageview_id:n,$prev_pageview_id:s.pageViewId},l=this._instance.scrollManager.getContext();if(l&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:u,lastScrollY:h,maxScrollY:d,maxContentHeight:_,lastContentY:p,maxContentY:m}=l;if(!(q(u)||q(h)||q(d)||q(_)||q(p)||q(m))){u=Math.ceil(u),h=Math.ceil(h),d=Math.ceil(d),_=Math.ceil(_),p=Math.ceil(p),m=Math.ceil(m);var v=u<=1?1:Xe(h/u,0,1),y=u<=1?1:Xe(d/u,0,1),S=_<=1?1:Xe(p/_,0,1),x=_<=1?1:Xe(m/_,0,1);o=te(o,{$prev_pageview_last_scroll:h,$prev_pageview_last_scroll_percentage:v,$prev_pageview_max_scroll:d,$prev_pageview_max_scroll_percentage:y,$prev_pageview_last_content:p,$prev_pageview_last_content_percentage:S,$prev_pageview_max_content:m,$prev_pageview_max_content_percentage:x})}}return s.pathname&&(o.$prev_pageview_pathname=s.pathname),s.timestamp&&(o.$prev_pageview_duration=(t.getTime()-s.timestamp.getTime())/1e3),o}}class Gy{constructor(t){this._instance=t}sendExceptionEvent(t){this._instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent"})}}var ii="Mobile",bo="iOS",bi="Android",or="Tablet",Vf=bi+" "+or,Gf="iPad",Kf="Apple",Yf=Kf+" Watch",ar="Safari",ps="BlackBerry",Jf="Samsung",Xf=Jf+"Browser",Qf=Jf+" Internet",Bn="Chrome",Ky=Bn+" OS",tp=Bn+" "+bo,lu="Internet Explorer",ep=lu+" "+ii,uu="Opera",Yy=uu+" Mini",cu="Edge",ip="Microsoft "+cu,us="Firefox",np=us+" "+bo,lr="Nintendo",ur="PlayStation",cs="Xbox",sp=bi+" "+ii,rp=ii+" "+ar,Hs="Windows",kl=Hs+" Phone",Oh="Nokia",Ml="Ouya",op="Generic",Jy=op+" "+ii.toLowerCase(),ap=op+" "+or.toLowerCase(),Cl="Konqueror",Me="(\\d+(\\.\\d+)?)",za=new RegExp("Version/"+Me),Xy=new RegExp(cs,"i"),Qy=new RegExp(ur+" \\w+","i"),t0=new RegExp(lr+" \\w+","i"),hu=new RegExp(ps+"|PlayBook|BB10","i"),e0={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},i0=(i,t)=>t&&Lt(t,Kf)||function(n){return Lt(n,ar)&&!Lt(n,Bn)&&!Lt(n,bi)}(i),lp=function(i,t){return t=t||"",Lt(i," OPR/")&&Lt(i,"Mini")?Yy:Lt(i," OPR/")?uu:hu.test(i)?ps:Lt(i,"IE"+ii)||Lt(i,"WPDesktop")?ep:Lt(i,Xf)?Qf:Lt(i,cu)||Lt(i,"Edg/")?ip:Lt(i,"FBIOS")?"Facebook "+ii:Lt(i,"UCWEB")||Lt(i,"UCBrowser")?"UC Browser":Lt(i,"CriOS")?tp:Lt(i,"CrMo")||Lt(i,Bn)?Bn:Lt(i,bi)&&Lt(i,ar)?sp:Lt(i,"FxiOS")?np:Lt(i.toLowerCase(),Cl.toLowerCase())?Cl:i0(i,t)?Lt(i,ii)?rp:ar:Lt(i,us)?us:Lt(i,"MSIE")||Lt(i,"Trident/")?lu:Lt(i,"Gecko")?us:""},n0={[ep]:[new RegExp("rv:"+Me)],[ip]:[new RegExp(cu+"?\\/"+Me)],[Bn]:[new RegExp("("+Bn+"|CrMo)\\/"+Me)],[tp]:[new RegExp("CriOS\\/"+Me)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Me)],[ar]:[za],[rp]:[za],[uu]:[new RegExp("(Opera|OPR)\\/"+Me)],[us]:[new RegExp(us+"\\/"+Me)],[np]:[new RegExp("FxiOS\\/"+Me)],[Cl]:[new RegExp("Konqueror[:/]?"+Me,"i")],[ps]:[new RegExp(ps+" "+Me),za],[sp]:[new RegExp("android\\s"+Me,"i")],[Qf]:[new RegExp(Xf+"\\/"+Me)],[lu]:[new RegExp("(rv:|MSIE )"+Me)],Mozilla:[new RegExp("rv:"+Me)]},s0=function(i,t){var n=lp(i,t),s=n0[n];if(q(s))return null;for(var o=0;o<s.length;o++){var l=s[o],u=i.match(l);if(u)return parseFloat(u[u.length-2])}return null},Rh=[[new RegExp(cs+"; "+cs+" (.*?)[);]","i"),i=>[cs,i&&i[1]||""]],[new RegExp(lr,"i"),[lr,""]],[new RegExp(ur,"i"),[ur,""]],[hu,[ps,""]],[new RegExp(Hs,"i"),(i,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[kl,""];if(new RegExp(ii).test(t)&&!/IEMobile\b/.test(t))return[Hs+" "+ii,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var s=n[1],o=e0[s]||"";return/arm/i.test(t)&&(o="RT"),[Hs,o]}return[Hs,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,i=>{if(i&&i[3]){var t=[i[3],i[4],i[5]||"0"];return[bo,t.join(".")]}return[bo,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,i=>{var t="";return i&&i.length>=3&&(t=q(i[2])?i[3]:i[2]),["watchOS",t]}],[new RegExp("("+bi+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+bi+")","i"),i=>{if(i&&i[2]){var t=[i[2],i[3],i[4]||"0"];return[bi,t.join(".")]}return[bi,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,i=>{var t=["Mac OS X",""];if(i&&i[1]){var n=[i[1],i[2],i[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[Ky,""]],[/Linux|debian/i,["Linux",""]]],Dh=function(i){return t0.test(i)?lr:Qy.test(i)?ur:Xy.test(i)?cs:new RegExp(Ml,"i").test(i)?Ml:new RegExp("("+kl+"|WPDesktop)","i").test(i)?kl:/iPad/.test(i)?Gf:/iPod/.test(i)?"iPod Touch":/iPhone/.test(i)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(i)?Yf:hu.test(i)?ps:/(kobo)\s(ereader|touch)/i.test(i)?"Kobo":new RegExp(Oh,"i").test(i)?Oh:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(i)||/(kf[a-z]+)( bui|\)).+silk\//i.test(i)?"Kindle Fire":/(Android|ZTE)/i.test(i)?!new RegExp(ii).test(i)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(i)?/pixel[\daxl ]{1,6}/i.test(i)&&!/pixel c/i.test(i)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(i)||/lmy47v/i.test(i)&&!/QTAQZ3/i.test(i)?bi:Vf:bi:new RegExp("(pda|"+ii+")","i").test(i)?Jy:new RegExp(or,"i").test(i)&&!new RegExp(or+" pc","i").test(i)?ap:""},Wr="https?://(.*)",$o=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],r0=No(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],$o),du="<masked>";function up(i,t,n){if(!Y)return{};var s=t?No([],$o,n||[]):[];return cp(eu(Y.URL,s,du),i)}function cp(i,t){var n=r0.concat(t||[]),s={};return Nt(n,function(o){var l=po(i,o);s[o]=l||null}),s}function hp(i){var t=function(l){return l?l.search(Wr+"google.([^/?]*)")===0?"google":l.search(Wr+"bing.com")===0?"bing":l.search(Wr+"yahoo.com")===0?"yahoo":l.search(Wr+"duckduckgo.com")===0?"duckduckgo":null:null}(i),n=t!="yahoo"?"q":"p",s={};if(!hn(t)){s.$search_engine=t;var o=Y?po(Y.referrer,n):"";o.length&&(s.ph_keyword=o)}return s}function Fh(){return navigator.language||navigator.userLanguage}function dp(){return(Y==null?void 0:Y.referrer)||"$direct"}function fp(i,t){var n=i?No([],$o,t||[]):[],s=De==null?void 0:De.href.substring(0,1e3);return{r:dp().substring(0,1e3),u:s?eu(s,n,du):void 0}}function pp(i){var t,{r:n,u:s}=i,o={$referrer:n,$referring_domain:n==null?void 0:n=="$direct"?"$direct":(t=ds(n))==null?void 0:t.host};if(s){o.$current_url=s;var l=ds(s);o.$host=l==null?void 0:l.host,o.$pathname=l==null?void 0:l.pathname;var u=cp(s);te(o,u)}if(n){var h=hp(n);te(o,h)}return o}function _p(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function o0(){try{return new Date().getTimezoneOffset()}catch{return}}function a0(i,t){if(!Re)return{};var n,s,o,l=i?No([],$o,t||[]):[],[u,h]=function(d){for(var _=0;_<Rh.length;_++){var[p,m]=Rh[_],v=p.exec(d),y=v&&(ti(m)?m(v,d):m);if(y)return y}return["",""]}(Re);return te(Ql({$os:u,$os_version:h,$browser:lp(Re,navigator.vendor),$device:Dh(Re),$device_type:(s=Re,o=Dh(s),o===Gf||o===Vf||o==="Kobo"||o==="Kindle Fire"||o===ap?or:o===lr||o===cs||o===ur||o===Ml?"Console":o===Yf?"Wearable":o?ii:"Desktop"),$timezone:_p(),$timezone_offset:o0()}),{$current_url:eu(De==null?void 0:De.href,l,du),$host:De==null?void 0:De.host,$pathname:De==null?void 0:De.pathname,$raw_user_agent:Re.length>1e3?Re.substring(0,997)+"...":Re,$browser_version:s0(Re,navigator.vendor),$browser_language:Fh(),$browser_language_prefix:(n=Fh(),typeof n=="string"?n.split("-")[0]:void 0),$screen_height:T==null?void 0:T.screen.height,$screen_width:T==null?void 0:T.screen.width,$viewport_height:T==null?void 0:T.innerHeight,$viewport_width:T==null?void 0:T.innerWidth,$lib:"web",$lib_version:Ni.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var Il,mi=Se("[FeatureFlags]"),$a="$active_feature_flags",Xn="$override_feature_flags",Nh="$feature_flag_payloads",Rs="$override_feature_flag_payloads",Bh="$feature_flag_request_id",zh=i=>{var t={};for(var[n,s]of Jr(i||{}))s&&(t[n]=s);return t},l0=i=>{var t=i.flags;return t?(i.featureFlags=Object.fromEntries(Object.keys(t).map(n=>{var s;return[n,(s=t[n].variant)!==null&&s!==void 0?s:t[n].enabled]})),i.featureFlagPayloads=Object.fromEntries(Object.keys(t).filter(n=>t[n].enabled).filter(n=>{var s;return(s=t[n].metadata)==null?void 0:s.payload}).map(n=>{var s;return[n,(s=t[n].metadata)==null?void 0:s.payload]}))):mi.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),i};(function(i){i.FeatureFlags="feature_flags",i.Recordings="recordings"})(Il||(Il={}));class u0{constructor(t){this.oe=!1,this.ae=!1,this.le=!1,this.he=!1,this.ue=!1,this.de=!1,this.ve=!1,this._instance=t,this.featureFlagEventHandlers=[]}decide(){if(this._instance.config.__preview_remote_config)this.de=!0;else{var t=!this.ce&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.fe({disableFlags:t})}}get hasLoadedFlags(){return this.ae}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var t=this._instance.get_property(dl),n=this._instance.get_property(Xn),s=this._instance.get_property(Rs);if(!s&&!n)return t||{};var o=te({},t||{}),l=[...new Set([...Object.keys(s||{}),...Object.keys(n||{})])];for(var u of l){var h,d,_=o[u],p=n==null?void 0:n[u],m=q(p)?(h=_==null?void 0:_.enabled)!==null&&h!==void 0&&h:!!p,v=q(p)?_.variant:typeof p=="string"?p:void 0,y=s==null?void 0:s[u],S=K({},_,{enabled:m,variant:m?v??(_==null?void 0:_.variant):void 0});m!==(_==null?void 0:_.enabled)&&(S.original_enabled=_==null?void 0:_.enabled),v!==(_==null?void 0:_.variant)&&(S.original_variant=_==null?void 0:_.variant),y&&(S.metadata=K({},_==null?void 0:_.metadata,{payload:y,original_payload:_==null||(d=_.metadata)==null?void 0:d.payload})),o[u]=S}return this.oe||(mi.warn(" Overriding feature flag details!",{flagDetails:t,overriddenPayloads:s,finalDetails:o}),this.oe=!0),o}getFlagVariants(){var t=this._instance.get_property(is),n=this._instance.get_property(Xn);if(!n)return t||{};for(var s=te({},t),o=Object.keys(n),l=0;l<o.length;l++)s[o[l]]=n[o[l]];return this.oe||(mi.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:n,finalFlags:s}),this.oe=!0),s}getFlagPayloads(){var t=this._instance.get_property(Nh),n=this._instance.get_property(Rs);if(!n)return t||{};for(var s=te({},t||{}),o=Object.keys(n),l=0;l<o.length;l++)s[o[l]]=n[o[l]];return this.oe||(mi.warn(" Overriding feature flag payloads!",{flagPayloads:t,overriddenPayloads:n,finalPayloads:s}),this.oe=!0),s}reloadFeatureFlags(){this.he||this._instance.config.advanced_disable_feature_flags||this.ce||(this.ce=setTimeout(()=>{this.fe()},5))}pe(){clearTimeout(this.ce),this.ce=void 0}ensureFlagsLoaded(){this.ae||this.le||this.ce||this.reloadFeatureFlags()}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.he=t}fe(t){var n;if(this.pe(),!this._instance.config.advanced_disable_decide)if(this.le)this.ue=!0;else{var s={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:K({},((n=this._instance.persistence)==null?void 0:n.get_initial_props())||{},this._instance.get_property($s)||{}),group_properties:this._instance.get_property(Ln)};(t!=null&&t.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(s.disable_flags=!0);var o=this._instance.config.__preview_flags_v2&&this._instance.config.__preview_remote_config;o&&(s.timezone=_p()),this.le=!0,this._instance.ge({method:"POST",url:this._instance.requestRouter.endpointFor("api",o?"/flags/?v=2":"/decide/?v=4"),data:s,compression:this._instance.config.disable_compression?void 0:ai.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:l=>{var u,h,d,_=!0;l.statusCode===200&&(this.ue||(this.$anon_distinct_id=void 0),_=!1),this.le=!1,this.de||(this.de=!0,this._instance._e((d=l.json)!==null&&d!==void 0?d:{})),s.disable_flags&&!this.ue||(this.ve=!_,l.json&&(u=l.json.quotaLimited)!=null&&u.includes(Il.FeatureFlags)?mi.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more."):(this.receivedFeatureFlags((h=l.json)!==null&&h!==void 0?h:{},_),this.ue&&(this.ue=!1,this.fe())))}})}}getFeatureFlag(t,n){if(n===void 0&&(n={}),this.ae||this.getFlags()&&this.getFlags().length>0){var s=this.getFlagVariants()[t],o=""+s,l=this._instance.get_property(Bh)||void 0,u=this._instance.get_property(uo)||{};if((n.send_event||!("send_event"in n))&&(!(t in u)||!u[t].includes(o))){var h,d,_,p,m,v,y,S,x,z,I;qt(u[t])?u[t].push(o):u[t]=[o],(h=this._instance.persistence)==null||h.register({[uo]:u});var A=this.getFeatureFlagDetails(t),M={$feature_flag:t,$feature_flag_response:s,$feature_flag_payload:this.getFeatureFlagPayload(t)||null,$feature_flag_request_id:l,$feature_flag_bootstrapped_response:((d=this._instance.config.bootstrap)==null||(_=d.featureFlags)==null?void 0:_[t])||null,$feature_flag_bootstrapped_payload:((p=this._instance.config.bootstrap)==null||(m=p.featureFlagPayloads)==null?void 0:m[t])||null,$used_bootstrap_value:!this.ve};q(A==null||(v=A.metadata)==null?void 0:v.version)||(M.$feature_flag_version=A.metadata.version);var D,W=(y=A==null||(S=A.reason)==null?void 0:S.description)!==null&&y!==void 0?y:A==null||(x=A.reason)==null?void 0:x.code;W&&(M.$feature_flag_reason=W),A!=null&&(z=A.metadata)!=null&&z.id&&(M.$feature_flag_id=A.metadata.id),q(A==null?void 0:A.original_variant)&&q(A==null?void 0:A.original_enabled)||(M.$feature_flag_original_response=q(A.original_variant)?A.original_enabled:A.original_variant),A!=null&&(I=A.metadata)!=null&&I.original_payload&&(M.$feature_flag_original_payload=A==null||(D=A.metadata)==null?void 0:D.original_payload),this._instance.capture("$feature_flag_called",M)}return s}mi.warn('getFeatureFlag for key "'+t+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(t){return this.getFlagsWithDetails()[t]}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}getRemoteConfigPayload(t,n){var s=this._instance.config.token;this._instance.ge({method:"POST",url:this._instance.requestRouter.endpointFor("api","/decide/?v=4"),data:{distinct_id:this._instance.get_distinct_id(),token:s},compression:this._instance.config.disable_compression?void 0:ai.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:o=>{var l,u=(l=o.json)==null?void 0:l.featureFlagPayloads;n((u==null?void 0:u[t])||void 0)}})}isFeatureEnabled(t,n){if(n===void 0&&(n={}),this.ae||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(t,n);mi.warn('isFeatureEnabled for key "'+t+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(n=>n!==t)}receivedFeatureFlags(t,n){if(this._instance.persistence){this.ae=!0;var s=this.getFlagVariants(),o=this.getFlagPayloads(),l=this.getFlagsWithDetails();(function(u,h,d,_,p){d===void 0&&(d={}),_===void 0&&(_={}),p===void 0&&(p={});var m=l0(u),v=m.flags,y=m.featureFlags,S=m.featureFlagPayloads;if(y){var x=u.requestId;if(qt(y)){mi.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var z={};if(y)for(var I=0;I<y.length;I++)z[y[I]]=!0;h&&h.register({[$a]:y,[is]:z})}else{var A=y,M=S,D=v;u.errorsWhileComputingFlags&&(A=K({},d,A),M=K({},_,M),D=K({},p,D)),h&&h.register(K({[$a]:Object.keys(zh(A)),[is]:A||{},[Nh]:M||{},[dl]:D||{}},x?{[Bh]:x}:{}))}}})(t,this._instance.persistence,s,o,l),this.me(n)}}override(t,n){n===void 0&&(n=!1),mi.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:t,suppressWarning:n})}overrideFeatureFlags(t){if(!this._instance.__loaded||!this._instance.persistence)return mi.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(t===!1)return this._instance.persistence.unregister(Xn),this._instance.persistence.unregister(Rs),void this.me();if(t&&typeof t=="object"&&("flags"in t||"payloads"in t)){var n,s=t;if(this.oe=!!((n=s.suppressWarning)!==null&&n!==void 0&&n),"flags"in s){if(s.flags===!1)this._instance.persistence.unregister(Xn);else if(s.flags)if(qt(s.flags)){for(var o={},l=0;l<s.flags.length;l++)o[s.flags[l]]=!0;this._instance.persistence.register({[Xn]:o})}else this._instance.persistence.register({[Xn]:s.flags})}return"payloads"in s&&(s.payloads===!1?this._instance.persistence.unregister(Rs):s.payloads&&this._instance.persistence.register({[Rs]:s.payloads})),void this.me()}this.me()}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.ae){var{flags:n,flagVariants:s}=this.be();t(n,s)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,n){var s,o=(this._instance.get_property(Xr)||[]).find(d=>d.flagKey===t),l={["$feature_enrollment/"+t]:n},u={$feature_flag:t,$feature_enrollment:n,$set:l};o&&(u.$early_access_feature_name=o.name),this._instance.capture("$feature_enrollment_update",u),this.setPersonPropertiesForFlags(l,!1);var h=K({},this.getFlagVariants(),{[t]:n});(s=this._instance.persistence)==null||s.register({[$a]:Object.keys(zh(h)),[is]:h}),this.me()}getEarlyAccessFeatures(t,n,s){n===void 0&&(n=!1);var o=this._instance.get_property(Xr),l=s?"&"+s.map(u=>"stage="+u).join("&"):"";if(o&&!n)return t(o);this._instance.ge({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+l),method:"GET",callback:u=>{var h;if(u.json){var d=u.json.earlyAccessFeatures;return(h=this._instance.persistence)==null||h.register({[Xr]:d}),t(d)}}})}be(){var t=this.getFlags(),n=this.getFlagVariants();return{flags:t.filter(s=>n[s]),flagVariants:Object.keys(n).filter(s=>n[s]).reduce((s,o)=>(s[o]=n[o],s),{})}}me(t){var{flags:n,flagVariants:s}=this.be();this.featureFlagEventHandlers.forEach(o=>o(n,s,{errorsLoading:t}))}setPersonPropertiesForFlags(t,n){n===void 0&&(n=!0);var s=this._instance.get_property($s)||{};this._instance.register({[$s]:K({},s,t)}),n&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister($s)}setGroupPropertiesForFlags(t,n){n===void 0&&(n=!0);var s=this._instance.get_property(Ln)||{};Object.keys(s).length!==0&&Object.keys(s).forEach(o=>{s[o]=K({},s[o],t[o]),delete t[o]}),this._instance.register({[Ln]:K({},s,t)}),n&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var n=this._instance.get_property(Ln)||{};this._instance.register({[Ln]:K({},n,{[t]:{}})})}else this._instance.unregister(Ln)}}var c0=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class Za{constructor(t){this.S=t,this.props={},this.we=!1,this.ye=(n=>{var s="";return n.token&&(s=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+s+"_posthog"})(t),this.q=this.Se(t),this.load(),t.debug&&Q.info("Persistence loaded",t.persistence,K({},this.props)),this.update_config(t,t),this.save()}Se(t){c0.indexOf(t.persistence.toLowerCase())===-1&&(Q.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var n=t.persistence.toLowerCase();return n==="localstorage"&&re.O()?re:n==="localstorage+cookie"&&Br.O()?Br:n==="sessionstorage"&&he.O()?he:n==="memory"?Gv:n==="cookie"?Zi:Br.O()?Br:Zi}properties(){var t={};return Nt(this.props,function(n,s){if(s===is&&Vt(n))for(var o=Object.keys(n),l=0;l<o.length;l++)t["$feature/"+o[l]]=n[o[l]];else h=s,d=!1,(hn(u=Lv)?d:Vc&&u.indexOf===Vc?u.indexOf(h)!=-1:(Nt(u,function(_){if(d||(d=_===h))return ao}),d))||(t[s]=n);var u,h,d}),t}load(){if(!this.$e){var t=this.q.D(this.ye);t&&(this.props=te({},t))}}save(){this.$e||this.q.j(this.ye,this.props,this.ke,this.xe,this.Ee,this.S.debug)}remove(){this.q.L(this.ye,!1),this.q.L(this.ye,!0)}clear(){this.remove(),this.props={}}register_once(t,n,s){if(Vt(t)){q(n)&&(n="None"),this.ke=q(s)?this.Ie:s;var o=!1;if(Nt(t,(l,u)=>{this.props.hasOwnProperty(u)&&this.props[u]!==n||(this.props[u]=l,o=!0)}),o)return this.save(),!0}return!1}register(t,n){if(Vt(t)){this.ke=q(n)?this.Ie:n;var s=!1;if(Nt(t,(o,l)=>{t.hasOwnProperty(l)&&this.props[l]!==o&&(this.props[l]=o,s=!0)}),s)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.we){var t=up(this.S.custom_campaign_params,this.S.mask_personal_data_properties,this.S.custom_personal_data_properties);es(Ql(t))||this.register(t),this.we=!0}}update_search_keyword(){var t;this.register((t=Y==null?void 0:Y.referrer)?hp(t):{})}update_referrer_info(){var t;this.register_once({$referrer:dp(),$referring_domain:Y!=null&&Y.referrer&&((t=ds(Y.referrer))==null?void 0:t.host)||"$direct"},void 0)}set_initial_person_info(){this.props[gl]||this.props[ml]||this.register_once({[co]:fp(this.S.mask_personal_data_properties,this.S.custom_personal_data_properties)},void 0)}get_initial_props(){var t={};Nt([ml,gl],u=>{var h=this.props[u];h&&Nt(h,function(d,_){t["$initial_"+ol(_)]=d})});var n,s,o=this.props[co];if(o){var l=(n=pp(o),s={},Nt(n,function(u,h){s["$initial_"+ol(h)]=u}),s);te(t,l)}return t}safe_merge(t){return Nt(this.props,function(n,s){s in t||(t[s]=n)}),t}update_config(t,n){if(this.Ie=this.ke=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==n.persistence){var s=this.Se(t),o=this.props;this.clear(),this.q=s,this.props=o,this.save()}}set_disabled(t){this.$e=t,this.$e?this.remove():this.save()}set_cross_subdomain(t){t!==this.xe&&(this.xe=t,this.remove(),this.save())}set_secure(t){t!==this.Ee&&(this.Ee=t,this.remove(),this.save())}set_event_timer(t,n){var s=this.props[Bs]||{};s[t]=n,this.props[Bs]=s,this.save()}remove_event_timer(t){var n=(this.props[Bs]||{})[t];return q(n)||(delete this.props[Bs][t],this.save()),n}get_property(t){return this.props[t]}set_property(t,n){this.props[t]=n,this.save()}}class gp{constructor(){this.Pe={},this.Pe={}}on(t,n){return this.Pe[t]||(this.Pe[t]=[]),this.Pe[t].push(n),()=>{this.Pe[t]=this.Pe[t].filter(s=>s!==n)}}emit(t,n){for(var s of this.Pe[t]||[])s(n);for(var o of this.Pe["*"]||[])o(t,n)}}var wo=function(i,t){if(!function(n){try{new RegExp(n)}catch{return!1}return!0}(t))return!1;try{return new RegExp(t).test(i)}catch{return!1}};class Cn{constructor(t){this.Re=new gp,this.Te=(n,s)=>this.Me(n,s)&&this.Ce(n,s)&&this.Oe(n,s),this.Me=(n,s)=>s==null||!s.event||(n==null?void 0:n.event)===(s==null?void 0:s.event),this._instance=t,this.Fe=new Set,this.Ae=new Set}init(){var t;if(!q((t=this._instance)==null?void 0:t.De)){var n;(n=this._instance)==null||n.De((s,o)=>{this.on(s,o)})}}register(t){var n,s;if(!q((n=this._instance)==null?void 0:n.De)&&(t.forEach(u=>{var h,d;(h=this.Ae)==null||h.add(u),(d=u.steps)==null||d.forEach(_=>{var p;(p=this.Fe)==null||p.add((_==null?void 0:_.event)||"")})}),(s=this._instance)!=null&&s.autocapture)){var o,l=new Set;t.forEach(u=>{var h;(h=u.steps)==null||h.forEach(d=>{d!=null&&d.selector&&l.add(d==null?void 0:d.selector)})}),(o=this._instance)==null||o.autocapture.setElementSelectors(l)}}on(t,n){var s;n!=null&&t.length!=0&&(this.Fe.has(t)||this.Fe.has(n==null?void 0:n.event))&&this.Ae&&((s=this.Ae)==null?void 0:s.size)>0&&this.Ae.forEach(o=>{this.je(n,o)&&this.Re.emit("actionCaptured",o.name)})}Le(t){this.onAction("actionCaptured",n=>t(n))}je(t,n){if((n==null?void 0:n.steps)==null)return!1;for(var s of n.steps)if(this.Te(t,s))return!0;return!1}onAction(t,n){return this.Re.on(t,n)}Ce(t,n){if(n!=null&&n.url){var s,o=t==null||(s=t.properties)==null?void 0:s.$current_url;if(!o||typeof o!="string"||!Cn.Ne(o,n==null?void 0:n.url,(n==null?void 0:n.url_matching)||"contains"))return!1}return!0}static Ne(t,n,s){switch(s){case"regex":return!!T&&wo(t,n);case"exact":return n===t;case"contains":var o=Cn.ze(n).replace(/_/g,".").replace(/%/g,".*");return wo(t,o);default:return!1}}static ze(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Oe(t,n){if((n!=null&&n.href||n!=null&&n.tag_name||n!=null&&n.text)&&!this.Ue(t).some(l=>!(n!=null&&n.href&&!Cn.Ne(l.href||"",n==null?void 0:n.href,(n==null?void 0:n.href_matching)||"exact"))&&(n==null||!n.tag_name||l.tag_name===(n==null?void 0:n.tag_name))&&!(n!=null&&n.text&&!Cn.Ne(l.text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact")&&!Cn.Ne(l.$el_text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact"))))return!1;if(n!=null&&n.selector){var s,o=t==null||(s=t.properties)==null?void 0:s.$element_selectors;if(!o||!o.includes(n==null?void 0:n.selector))return!1}return!0}Ue(t){return(t==null?void 0:t.properties.$elements)==null?[]:t==null?void 0:t.properties.$elements}}var se=Se("[Surveys]");class h0{constructor(t){this._instance=t,this.qe=new Map,this.Be=new Map}register(t){var n;q((n=this._instance)==null?void 0:n.De)||(this.He(t),this.We(t))}We(t){var n=t.filter(s=>{var o,l,u,h;return((o=s.conditions)==null?void 0:o.actions)&&((l=s.conditions)==null||(u=l.actions)==null||(h=u.values)==null?void 0:h.length)>0});n.length!==0&&(this.Ge==null&&(this.Ge=new Cn(this._instance),this.Ge.init(),this.Ge.Le(s=>{this.onAction(s)})),n.forEach(s=>{var o,l,u,h,d,_,p,m,v,y;s.conditions&&(o=s.conditions)!=null&&o.actions&&(l=s.conditions)!=null&&(u=l.actions)!=null&&u.values&&((h=s.conditions)==null||(d=h.actions)==null||(_=d.values)==null?void 0:_.length)>0&&((p=this.Ge)==null||p.register(s.conditions.actions.values),(m=s.conditions)==null||(v=m.actions)==null||(y=v.values)==null||y.forEach(S=>{if(S&&S.name){var x=this.Be.get(S.name);x&&x.push(s.id),this.Be.set(S.name,x||[s.id])}}))}))}He(t){var n;t.filter(s=>{var o,l,u,h;return((o=s.conditions)==null?void 0:o.events)&&((l=s.conditions)==null||(u=l.events)==null||(h=u.values)==null?void 0:h.length)>0}).length!==0&&((n=this._instance)==null||n.De((s,o)=>{this.onEvent(s,o)}),t.forEach(s=>{var o,l,u;(o=s.conditions)==null||(l=o.events)==null||(u=l.values)==null||u.forEach(h=>{if(h&&h.name){var d=this.qe.get(h.name);d&&d.push(s.id),this.qe.set(h.name,d||[s.id])}})}))}onEvent(t,n){var s,o,l=((s=this._instance)==null||(o=s.persistence)==null?void 0:o.props[Nr])||[];if(t==="survey shown"&&n&&l.length>0){var u;se.info("survey event matched, removing survey from activated surveys",{event:t,eventPayload:n,existingActivatedSurveys:l});var h=n==null||(u=n.properties)==null?void 0:u.$survey_id;if(h){var d=l.indexOf(h);d>=0&&(l.splice(d,1),this.Je(l))}}else this.qe.has(t)&&(se.info("survey event matched, updating activated surveys",{event:t,surveys:this.qe.get(t)}),this.Je(l.concat(this.qe.get(t)||[])))}onAction(t){var n,s,o=((n=this._instance)==null||(s=n.persistence)==null?void 0:s.props[Nr])||[];this.Be.has(t)&&this.Je(o.concat(this.Be.get(t)||[]))}Je(t){var n,s;(n=this._instance)==null||(s=n.persistence)==null||s.register({[Nr]:[...new Set(t)]})}getSurveys(){var t,n,s=(t=this._instance)==null||(n=t.persistence)==null?void 0:n.props[Nr];return s||[]}getEventToSurveys(){return this.qe}Ve(){return this.Ge}}class d0{constructor(t){this.Ke=null,this.Ye=!1,this.Xe=!1,this.Qe=[],this._instance=t,this._surveyEventReceiver=null}onRemoteConfig(t){var n=t.surveys;if(Ot(n))return se.warn("Decide not loaded yet. Not loading surveys.");var s=qt(n);this.Ze=s?n.length>0:n,se.info("decide response received, hasSurveys: "+this.Ze),this.Ze&&this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var t=[],n=0;n<localStorage.length;n++){var s=localStorage.key(n);(s!=null&&s.startsWith("seenSurvey_")||s!=null&&s.startsWith("inProgressSurvey_"))&&t.push(s)}t.forEach(o=>localStorage.removeItem(o))}loadIfEnabled(){if(!this.Ke)if(this.Xe)se.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)se.info("Disabled. Not loading surveys.");else if(this.Ze){var t=wt==null?void 0:wt.__PosthogExtensions__;if(t){this.Xe=!0;try{var n=t.generateSurveys;if(n)return void this.tr(n);var s=t.loadExternalDependency;if(!s)return void this.ir("PostHog loadExternalDependency extension not found.");s(this._instance,"surveys",o=>{o||!t.generateSurveys?this.ir("Could not load surveys script",o):this.tr(t.generateSurveys)})}catch(o){throw this.ir("Error initializing surveys",o),o}finally{this.Xe=!1}}else se.error("PostHog Extensions not found.")}else se.info("No surveys to load.")}tr(t){this.Ke=t(this._instance),this._surveyEventReceiver=new h0(this._instance),se.info("Surveys loaded successfully"),this.er({isLoaded:!0})}ir(t,n){se.error(t,n),this.er({isLoaded:!1,error:t})}onSurveysLoaded(t){return this.Qe.push(t),this.Ke&&this.er({isLoaded:!0}),()=>{this.Qe=this.Qe.filter(n=>n!==t)}}getSurveys(t,n){if(n===void 0&&(n=!1),this._instance.config.disable_surveys)return se.info("Disabled. Not loading surveys."),t([]);var s=this._instance.get_property(fl);if(s&&!n)return t(s,{isLoaded:!0});if(this.Ye)return t([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.Ye=!0,this._instance.ge({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:o=>{var l;this.Ye=!1;var u=o.statusCode;if(u!==200||!o.json){var h="Surveys API could not be loaded, status: "+u;return se.error(h),t([],{isLoaded:!1,error:h})}var d,_=o.json.surveys||[],p=_.filter(m=>function(v){return!(!v.start_date||v.end_date)}(m)&&(function(v){var y,S,x;return!((y=v.conditions)==null||(S=y.events)==null||(x=S.values)==null||!x.length)}(m)||function(v){var y,S,x;return!((y=v.conditions)==null||(S=y.actions)==null||(x=S.values)==null||!x.length)}(m)));return p.length>0&&((d=this._surveyEventReceiver)==null||d.register(p)),(l=this._instance.persistence)==null||l.register({[fl]:_}),t(_,{isLoaded:!0})}})}catch(o){throw this.Ye=!1,o}}er(t){for(var n of this.Qe)try{t.isLoaded?this.getSurveys(n):n([],t)}catch(s){se.error("Error in survey callback",s)}}getActiveMatchingSurveys(t,n){if(n===void 0&&(n=!1),!Ot(this.Ke))return this.Ke.getActiveMatchingSurveys(t,n);se.warn("init was not called")}rr(t){var n=null;return this.getSurveys(s=>{var o;n=(o=s.find(l=>l.id===t))!==null&&o!==void 0?o:null}),n}sr(t){if(Ot(this.Ke))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var n=typeof t=="string"?this.rr(t):t;return n?this.Ke.checkSurveyEligibility(n):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(t){if(Ot(this.Ke))return se.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var n=this.sr(t);return{visible:n.eligible,disabledReason:n.reason}}canRenderSurveyAsync(t,n){return Ot(this.Ke)?(se.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(s=>{this.getSurveys(o=>{var l,u=(l=o.find(d=>d.id===t))!==null&&l!==void 0?l:null;if(u){var h=this.sr(u);s({visible:h.eligible,disabledReason:h.reason})}else s({visible:!1,disabledReason:"Survey not found"})},n)})}renderSurvey(t,n){if(Ot(this.Ke))se.warn("init was not called");else{var s=this.rr(t),o=Y==null?void 0:Y.querySelector(n);s?o?this.Ke.renderSurvey(s,o):se.warn("Survey element not found"):se.warn("Survey not found")}}}var $h=Se("[RateLimiter]");class f0{constructor(t){var n,s;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=o=>{var l=o.text;if(l&&l.length)try{(JSON.parse(l).quota_limited||[]).forEach(u=>{$h.info((u||"events")+" is quota limited."),this.serverLimits[u]=new Date().getTime()+6e4})}catch(u){return void $h.warn('could not rate limit - continuing. Error: "'+(u==null?void 0:u.message)+'"',{text:l})}},this.instance=t,this.captureEventsPerSecond=((n=t.config.rate_limiting)==null?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((s=t.config.rate_limiting)==null?void 0:s.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(t){var n,s,o;t===void 0&&(t=!1);var l=new Date().getTime(),u=(n=(s=this.instance.persistence)==null?void 0:s.get_property(_l))!==null&&n!==void 0?n:{tokens:this.captureEventsBurstLimit,last:l};u.tokens+=(l-u.last)/1e3*this.captureEventsPerSecond,u.last=l,u.tokens>this.captureEventsBurstLimit&&(u.tokens=this.captureEventsBurstLimit);var h=u.tokens<1;return h||t||(u.tokens=Math.max(0,u.tokens-1)),!h||this.lastEventRateLimited||t||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=h,(o=this.instance.persistence)==null||o.set_property(_l,u),{isRateLimited:h,remainingTokens:u.tokens}}isServerRateLimited(t){var n=this.serverLimits[t||"events"]||!1;return n!==!1&&new Date().getTime()<n}}var Sn=Se("[RemoteConfig]");class p0{constructor(t){this._instance=t}get remoteConfig(){var t,n;return(t=wt._POSTHOG_REMOTE_CONFIG)==null||(n=t[this._instance.config.token])==null?void 0:n.config}nr(t){var n,s;(n=wt.__PosthogExtensions__)!=null&&n.loadExternalDependency?(s=wt.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this._instance,"remote-config",()=>t(this.remoteConfig)):(Sn.error("PostHog Extensions not found. Cannot load remote config."),t())}ar(t){this._instance.ge({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:n=>{t(n.json)}})}load(){try{if(this.remoteConfig)return Sn.info("Using preloaded remote config",this.remoteConfig),void this._e(this.remoteConfig);if(this._instance.config.advanced_disable_decide)return void Sn.warn("Remote config is disabled. Falling back to local config.");this.nr(t=>{if(!t)return Sn.info("No config found after loading remote JS config. Falling back to JSON."),void this.ar(n=>{this._e(n)});this._e(t)})}catch(t){Sn.error("Error loading remote config",t)}}_e(t){t?this._instance.config.__preview_remote_config?(this._instance._e(t),t.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):Sn.info("__preview_remote_config is disabled. Logging config instead",t):Sn.error("Failed to fetch remote config from PostHog.")}}var _0=function(i){var t,n,s,o,l="";for(t=n=0,s=(i=(i+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,o=0;o<s;o++){var u=i.charCodeAt(o),h=null;u<128?n++:h=u>127&&u<2048?String.fromCharCode(u>>6|192,63&u|128):String.fromCharCode(u>>12|224,u>>6&63|128,63&u|128),hn(h)||(n>t&&(l+=i.substring(t,n)),l+=h,t=n=o+1)}return n>t&&(l+=i.substring(t,i.length)),l},g0=!!rl||!!sl,Zh="text/plain",xo=(i,t)=>{var[n,s]=i.split("?"),o=K({},t);s==null||s.split("&").forEach(u=>{var[h]=u.split("=");delete o[h]});var l=Fv(o);return n+"?"+(l=l?(s?s+"&":"")+l:s)},Us=(i,t)=>JSON.stringify(i,(n,s)=>typeof s=="bigint"?s.toString():s,t),Ha=i=>{var{data:t,compression:n}=i;if(t){if(n===ai.GZipJS){var s=Zf(Hf(Us(t)),{mtime:0}),o=new Blob([s],{type:Zh});return{contentType:Zh,body:o,estimatedSize:o.size}}if(n===ai.Base64){var l=function(d){var _,p,m,v,y,S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",x=0,z=0,I="",A=[];if(!d)return d;d=_0(d);do _=(y=d.charCodeAt(x++)<<16|d.charCodeAt(x++)<<8|d.charCodeAt(x++))>>18&63,p=y>>12&63,m=y>>6&63,v=63&y,A[z++]=S.charAt(_)+S.charAt(p)+S.charAt(m)+S.charAt(v);while(x<d.length);switch(I=A.join(""),d.length%3){case 1:I=I.slice(0,-2)+"==";break;case 2:I=I.slice(0,-1)+"="}return I}(Us(t)),u=(d=>"data="+encodeURIComponent(typeof d=="string"?d:Us(d)))(l);return{contentType:"application/x-www-form-urlencoded",body:u,estimatedSize:new Blob([u]).size}}var h=Us(t);return{contentType:"application/json",body:h,estimatedSize:new Blob([h]).size}}},Js=[];sl&&Js.push({transport:"fetch",method:i=>{var t,n,{contentType:s,body:o,estimatedSize:l}=(t=Ha(i))!==null&&t!==void 0?t:{},u=new Headers;Nt(i.headers,function(p,m){u.append(m,p)}),s&&u.append("Content-Type",s);var h=i.url,d=null;if(Gc){var _=new Gc;d={signal:_.signal,timeout:setTimeout(()=>_.abort(),i.timeout)}}sl(h,K({method:(i==null?void 0:i.method)||"GET",headers:u,keepalive:i.method==="POST"&&(l||0)<52428.8,body:o,signal:(n=d)==null?void 0:n.signal},i.fetchOptions)).then(p=>p.text().then(m=>{var v={statusCode:p.status,text:m};if(p.status===200)try{v.json=JSON.parse(m)}catch(y){Q.error(y)}i.callback==null||i.callback(v)})).catch(p=>{Q.error(p),i.callback==null||i.callback({statusCode:0,text:p})}).finally(()=>d?clearTimeout(d.timeout):null)}}),rl&&Js.push({transport:"XHR",method:i=>{var t,n=new rl;n.open(i.method||"GET",i.url,!0);var{contentType:s,body:o}=(t=Ha(i))!==null&&t!==void 0?t:{};Nt(i.headers,function(l,u){n.setRequestHeader(u,l)}),s&&n.setRequestHeader("Content-Type",s),i.timeout&&(n.timeout=i.timeout),n.withCredentials=!0,n.onreadystatechange=()=>{if(n.readyState===4){var l={statusCode:n.status,text:n.responseText};if(n.status===200)try{l.json=JSON.parse(n.responseText)}catch{}i.callback==null||i.callback(l)}},n.send(o)}}),je!=null&&je.sendBeacon&&Js.push({transport:"sendBeacon",method:i=>{var t=xo(i.url,{beacon:"1"});try{var n,{contentType:s,body:o}=(n=Ha(i))!==null&&n!==void 0?n:{},l=typeof o=="string"?new Blob([o],{type:s}):o;je.sendBeacon(t,l)}catch{}}});var Al=3e3;class m0{constructor(t,n){this.lr=!0,this.hr=[],this.ur=Xe((n==null?void 0:n.flush_interval_ms)||Al,250,5e3,"flush interval",Al),this.dr=t}enqueue(t){this.hr.push(t),this.vr||this.cr()}unload(){this.pr();var t=this.hr.length>0?this.gr():{},n=Object.values(t);[...n.filter(s=>s.url.indexOf("/e")===0),...n.filter(s=>s.url.indexOf("/e")!==0)].map(s=>{this.dr(K({},s,{transport:"sendBeacon"}))})}enable(){this.lr=!1,this.cr()}cr(){var t=this;this.lr||(this.vr=setTimeout(()=>{if(this.pr(),this.hr.length>0){var n=this.gr(),s=function(l){var u=n[l],h=new Date().getTime();u.data&&qt(u.data)&&Nt(u.data,d=>{d.offset=Math.abs(d.timestamp-h),delete d.timestamp}),t.dr(u)};for(var o in n)s(o)}},this.ur))}pr(){clearTimeout(this.vr),this.vr=void 0}gr(){var t={};return Nt(this.hr,n=>{var s,o=n,l=(o?o.batchKey:null)||o.url;q(t[l])&&(t[l]=K({},o,{data:[]})),(s=t[l].data)==null||s.push(o.data)}),this.hr=[],t}}var v0=["retriesPerformedSoFar"];class y0{constructor(t){this._r=!1,this.mr=3e3,this.hr=[],this._instance=t,this.hr=[],this.br=!0,!q(T)&&"onLine"in T.navigator&&(this.br=T.navigator.onLine,jt(T,"online",()=>{this.br=!0,this.Yi()}),jt(T,"offline",()=>{this.br=!1}))}get length(){return this.hr.length}retriableRequest(t){var{retriesPerformedSoFar:n}=t,s=_f(t,v0);xe(n)&&n>0&&(s.url=xo(s.url,{retry_count:n})),this._instance.ge(K({},s,{callback:o=>{o.statusCode!==200&&(o.statusCode<400||o.statusCode>=500)&&(n??0)<10?this.wr(K({retriesPerformedSoFar:n},s)):s.callback==null||s.callback(o)}}))}wr(t){var n=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=n+1;var s=function(u){var h=3e3*Math.pow(2,u),d=h/2,_=Math.min(18e5,h),p=(Math.random()-.5)*(_-d);return Math.ceil(_+p)}(n),o=Date.now()+s;this.hr.push({retryAt:o,requestOptions:t});var l="Enqueued failed request for retry in "+s;navigator.onLine||(l+=" (Browser is offline)"),Q.warn(l),this._r||(this._r=!0,this.yr())}yr(){this.Sr&&clearTimeout(this.Sr),this.Sr=setTimeout(()=>{this.br&&this.hr.length>0&&this.Yi(),this.yr()},this.mr)}Yi(){var t=Date.now(),n=[],s=this.hr.filter(l=>l.retryAt<t||(n.push(l),!1));if(this.hr=n,s.length>0)for(var{requestOptions:o}of s)this.retriableRequest(o)}unload(){for(var{requestOptions:t}of(this.Sr&&(clearTimeout(this.Sr),this.Sr=void 0),this.hr))try{this._instance.ge(K({},t,{transport:"sendBeacon"}))}catch(n){Q.error(n)}this.hr=[]}}class b0{constructor(t){this.$r=()=>{var n,s,o,l;this.kr||(this.kr={});var u=this.scrollElement(),h=this.scrollY(),d=u?Math.max(0,u.scrollHeight-u.clientHeight):0,_=h+((u==null?void 0:u.clientHeight)||0),p=(u==null?void 0:u.scrollHeight)||0;this.kr.lastScrollY=Math.ceil(h),this.kr.maxScrollY=Math.max(h,(n=this.kr.maxScrollY)!==null&&n!==void 0?n:0),this.kr.maxScrollHeight=Math.max(d,(s=this.kr.maxScrollHeight)!==null&&s!==void 0?s:0),this.kr.lastContentY=_,this.kr.maxContentY=Math.max(_,(o=this.kr.maxContentY)!==null&&o!==void 0?o:0),this.kr.maxContentHeight=Math.max(p,(l=this.kr.maxContentHeight)!==null&&l!==void 0?l:0)},this._instance=t}getContext(){return this.kr}resetContext(){var t=this.kr;return setTimeout(this.$r,0),t}startMeasuringScrollPosition(){jt(T,"scroll",this.$r,{capture:!0}),jt(T,"scrollend",this.$r,{capture:!0}),jt(T,"resize",this.$r)}scrollElement(){if(!this._instance.config.scroll_root_selector)return T==null?void 0:T.document.documentElement;var t=qt(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var n of t){var s=T==null?void 0:T.document.querySelector(n);if(s)return s}}scrollY(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return T&&(T.scrollY||T.pageYOffset||T.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return T&&(T.scrollX||T.pageXOffset||T.document.documentElement.scrollLeft)||0}}var w0=i=>fp(i==null?void 0:i.config.mask_personal_data_properties,i==null?void 0:i.config.custom_personal_data_properties);class x0{constructor(t,n,s,o){this.Er=l=>{var u=this.Ir();if(!u||u.sessionId!==l){var h={sessionId:l,props:this.Pr(this._instance)};this.Rr.register({[pl]:h})}},this._instance=t,this.Tr=n,this.Rr=s,this.Pr=o||w0,this.Tr.onSessionId(this.Er)}Ir(){return this.Rr.props[pl]}getSetOnceProps(){var t,n=(t=this.Ir())==null?void 0:t.props;return n?"r"in n?pp(n):{$referring_domain:n.referringDomain,$pathname:n.initialPathName,utm_source:n.utm_source,utm_campaign:n.utm_campaign,utm_medium:n.utm_medium,utm_content:n.utm_content,utm_term:n.utm_term}:{}}getSessionProps(){var t={};return Nt(Ql(this.getSetOnceProps()),(n,s)=>{s==="$current_url"&&(s="url"),t["$session_entry_"+ol(s)]=n}),t}}var Hh=Se("[SessionId]");class P0{constructor(t,n,s){var o;if(this.Mr=[],!t.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(t.config.__preview_experimental_cookieless_mode)throw new Error("SessionIdManager cannot be used with __preview_experimental_cookieless_mode");this.S=t.config,this.Rr=t.persistence,this.oi=void 0,this.kt=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Cr=n||tn,this.Or=s||tn;var l=this.S.persistence_name||this.S.token,u=this.S.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Xe(u,60,36e3,"session_idle_timeout_seconds",1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Fr(),this.Ar="ph_"+l+"_window_id",this.Dr="ph_"+l+"_primary_window_exists",this.jr()){var h=he.D(this.Ar),d=he.D(this.Dr);h&&!d?this.oi=h:he.L(this.Ar),he.j(this.Dr,!0)}if((o=this.S.bootstrap)!=null&&o.sessionID)try{var _=(p=>{var m=p.replace(/-/g,"");if(m.length!==32)throw new Error("Not a valid UUID");if(m[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(m.substring(0,12),16)})(this.S.bootstrap.sessionID);this.Lr(this.S.bootstrap.sessionID,new Date().getTime(),_)}catch(p){Hh.error("Invalid sessionID in bootstrap",p)}this.Nr()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return q(this.Mr)&&(this.Mr=[]),this.Mr.push(t),this.kt&&t(this.kt,this.oi),()=>{this.Mr=this.Mr.filter(n=>n!==t)}}jr(){return this.S.persistence!=="memory"&&!this.Rr.$e&&he.O()}zr(t){t!==this.oi&&(this.oi=t,this.jr()&&he.j(this.Ar,t))}Ur(){return this.oi?this.oi:this.jr()?he.D(this.Ar):null}Lr(t,n,s){t===this.kt&&n===this._sessionActivityTimestamp&&s===this._sessionStartTimestamp||(this._sessionStartTimestamp=s,this._sessionActivityTimestamp=n,this.kt=t,this.Rr.register({[lo]:[n,t,s]}))}qr(){if(this.kt&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.kt,this._sessionStartTimestamp];var t=this.Rr.props[lo];return qt(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this.Lr(null,null,null)}Nr(){jt(T,"beforeunload",()=>{this.jr()&&he.L(this.Dr)},{capture:!1})}checkAndGetSessionAndWindowId(t,n){if(t===void 0&&(t=!1),n===void 0&&(n=null),this.S.__preview_experimental_cookieless_mode)throw new Error("checkAndGetSessionAndWindowId should not be called in __preview_experimental_cookieless_mode");var s=n||new Date().getTime(),[o,l,u]=this.qr(),h=this.Ur(),d=xe(u)&&u>0&&Math.abs(s-u)>864e5,_=!1,p=!l,m=!t&&Math.abs(s-o)>this.sessionTimeoutMs;p||m||d?(l=this.Cr(),h=this.Or(),Hh.info("new session ID generated",{sessionId:l,windowId:h,changeReason:{noSessionId:p,activityTimeout:m,sessionPastMaximumLength:d}}),u=s,_=!0):h||(h=this.Or(),_=!0);var v=o===0||!t||d?s:o,y=u===0?new Date().getTime():u;return this.zr(h),this.Lr(l,v,y),t||this.Fr(),_&&this.Mr.forEach(S=>S(l,h,_?{noSessionId:p,activityTimeout:m,sessionPastMaximumLength:d}:void 0)),{sessionId:l,windowId:h,sessionStartTimestamp:y,changeReason:_?{noSessionId:p,activityTimeout:m,sessionPastMaximumLength:d}:void 0,lastActivityTimestamp:o}}Fr(){clearTimeout(this.Br),this.Br=setTimeout(()=>{this.resetSessionId()},1.1*this.sessionTimeoutMs)}}var E0=["$set_once","$set"],Vi=Se("[SiteApps]");class S0{constructor(t){this._instance=t,this.Hr=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}Wr(t,n){if(n){var s=this.globalsForEvent(n);this.Hr.push(s),this.Hr.length>1e3&&(this.Hr=this.Hr.slice(10))}}get siteAppLoaders(){var t,n;return(t=wt._POSTHOG_REMOTE_CONFIG)==null||(n=t[this._instance.config.token])==null?void 0:n.siteApps}init(){if(this.isEnabled){var t=this._instance.De(this.Wr.bind(this));this.Gr=()=>{t(),this.Hr=[],this.Gr=void 0}}}globalsForEvent(t){var n,s,o,l,u,h,d;if(!t)throw new Error("Event payload is required");var _={},p=this._instance.get_property("$groups")||[],m=this._instance.get_property("$stored_group_properties")||{};for(var[v,y]of Object.entries(m))_[v]={id:p[v],type:v,properties:y};var{$set_once:S,$set:x}=t;return{event:K({},_f(t,E0),{properties:K({},t.properties,x?{$set:K({},(n=(s=t.properties)==null?void 0:s.$set)!==null&&n!==void 0?n:{},x)}:{},S?{$set_once:K({},(o=(l=t.properties)==null?void 0:l.$set_once)!==null&&o!==void 0?o:{},S)}:{}),elements_chain:(u=(h=t.properties)==null?void 0:h.$elements_chain)!==null&&u!==void 0?u:"",distinct_id:(d=t.properties)==null?void 0:d.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:_}}setupSiteApp(t){var n=this.apps[t.id],s=()=>{var h;!n.errored&&this.Hr.length&&(Vi.info("Processing "+this.Hr.length+" events for site app with id "+t.id),this.Hr.forEach(d=>n.processEvent==null?void 0:n.processEvent(d)),n.processedBuffer=!0),Object.values(this.apps).every(d=>d.processedBuffer||d.errored)&&((h=this.Gr)==null||h.call(this))},o=!1,l=h=>{n.errored=!h,n.loaded=!0,Vi.info("Site app with id "+t.id+" "+(h?"loaded":"errored")),o&&s()};try{var{processEvent:u}=t.init({posthog:this._instance,callback:h=>{l(h)}});u&&(n.processEvent=u),o=!0}catch(h){Vi.error("Error while initializing PostHog app with config id "+t.id,h),l(!1)}if(o&&n.loaded)try{s()}catch(h){Vi.error("Error while processing buffered events PostHog app with config id "+t.id,h),n.errored=!0}}Jr(){var t=this.siteAppLoaders||[];for(var n of t)this.apps[n.id]={id:n.id,loaded:!1,errored:!1,processedBuffer:!1};for(var s of t)this.setupSiteApp(s)}Vr(t){if(Object.keys(this.apps).length!==0){var n=this.globalsForEvent(t);for(var s of Object.values(this.apps))try{s.processEvent==null||s.processEvent(n)}catch(o){Vi.error("Error while processing event "+t.event+" for site app "+s.id,o)}}}onRemoteConfig(t){var n,s,o,l=this;if((n=this.siteAppLoaders)!=null&&n.length)return this.isEnabled?(this.Jr(),void this._instance.on("eventCaptured",_=>this.Vr(_))):void Vi.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((s=this.Gr)==null||s.call(this),(o=t.siteApps)!=null&&o.length)if(this.isEnabled){var u=function(_,p){var m;wt["__$$ph_site_app_"+_]=l._instance,(m=wt.__PosthogExtensions__)==null||m.loadSiteApp==null||m.loadSiteApp(l._instance,p,v=>{if(v)return Vi.error("Error while initializing PostHog app with config id "+_,v)})};for(var{id:h,url:d}of t.siteApps)u(h,d)}else Vi.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var In,T0=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","bytespider"],Uh=function(i,t){if(!i)return!1;var n=i.toLowerCase();return T0.concat(t||[]).some(s=>{var o=s.toLowerCase();return n.indexOf(o)!==-1})},mp=function(i,t){if(!i)return!1;var n=i.userAgent;if(n&&Uh(n,t))return!0;try{var s=i==null?void 0:i.userAgentData;if(s!=null&&s.brands&&s.brands.some(o=>Uh(o==null?void 0:o.brand,t)))return!0}catch{}return!!i.webdriver};function Wh(i,t,n){return Us({distinct_id:i,userPropertiesToSet:t,userPropertiesToSetOnce:n})}(function(i){i.US="us",i.EU="eu",i.CUSTOM="custom"})(In||(In={}));var jh="i.posthog.com";class L0{constructor(t){this.Kr={},this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\/$/,"");return t==="https://app.posthog.com"?"https://us.i.posthog.com":t}get uiHost(){var t,n=(t=this.instance.config.ui_host)==null?void 0:t.replace(/\/$/,"");return n||(n=this.apiHost.replace("."+jh,".posthog.com")),n==="https://app.posthog.com"?"https://us.posthog.com":n}get region(){return this.Kr[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Kr[this.apiHost]=In.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Kr[this.apiHost]=In.EU:this.Kr[this.apiHost]=In.CUSTOM),this.Kr[this.apiHost]}endpointFor(t,n){if(n===void 0&&(n=""),n&&(n=n[0]==="/"?n:"/"+n),t==="ui")return this.uiHost+n;if(this.region===In.CUSTOM)return this.apiHost+n;var s=jh+n;switch(t){case"assets":return"https://"+this.region+"-assets."+s;case"api":return"https://"+this.region+"."+s}}}var k0={icontains:(i,t)=>!!T&&t.href.toLowerCase().indexOf(i.toLowerCase())>-1,not_icontains:(i,t)=>!!T&&t.href.toLowerCase().indexOf(i.toLowerCase())===-1,regex:(i,t)=>!!T&&wo(t.href,i),not_regex:(i,t)=>!!T&&!wo(t.href,i),exact:(i,t)=>t.href===i,is_not:(i,t)=>t.href!==i};class ye{constructor(t){var n=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(s){s===void 0&&(s=!1),n.getWebExperiments(o=>{ye.Yr("retrieved web experiments from the server"),n.Xr=new Map,o.forEach(l=>{if(l.feature_flag_key){var u;n.Xr&&(ye.Yr("setting flag key ",l.feature_flag_key," to web experiment ",l),(u=n.Xr)==null||u.set(l.feature_flag_key,l));var h=n._instance.getFeatureFlag(l.feature_flag_key);ee(h)&&l.variants[h]&&n.Qr(l.name,h,l.variants[h].transforms)}else if(l.variants)for(var d in l.variants){var _=l.variants[d];ye.Zr(_)&&n.Qr(l.name,d,_.transforms)}})},s)},this._instance=t,this._instance.onFeatureFlags(s=>{this.onFeatureFlags(s)})}onFeatureFlags(t){if(this._is_bot())ye.Yr("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(Ot(this.Xr))return this.Xr=new Map,this.loadIfEnabled(),void this.previewWebExperiment();ye.Yr("applying feature flags",t),t.forEach(n=>{var s;if(this.Xr&&(s=this.Xr)!=null&&s.has(n)){var o,l=this._instance.getFeatureFlag(n),u=(o=this.Xr)==null?void 0:o.get(n);l&&u!=null&&u.variants[l]&&this.Qr(u.name,l,u.variants[l].transforms)}})}}previewWebExperiment(){var t=ye.getWindowLocation();if(t!=null&&t.search){var n=po(t==null?void 0:t.search,"__experiment_id"),s=po(t==null?void 0:t.search,"__experiment_variant");n&&s&&(ye.Yr("previewing web experiments "+n+" && "+s),this.getWebExperiments(o=>{this.ts(parseInt(n),s,o)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,n,s){if(this._instance.config.disable_web_experiments&&!s)return t([]);var o=this._instance.get_property("$web_experiments");if(o&&!n)return t(o);this._instance.ge({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:l=>{if(l.statusCode!==200||!l.json)return t([]);var u=l.json.experiments||[];return t(u)}})}ts(t,n,s){var o=s.filter(l=>l.id===t);o&&o.length>0&&(ye.Yr("Previewing web experiment ["+o[0].name+"] with variant ["+n+"]"),this.Qr(o[0].name,n,o[0].variants[n].transforms))}static Zr(t){return!Ot(t.conditions)&&ye.es(t)&&ye.rs(t)}static es(t){var n;if(Ot(t.conditions)||Ot((n=t.conditions)==null?void 0:n.url))return!0;var s,o,l,u=ye.getWindowLocation();return!!u&&((s=t.conditions)==null||!s.url||k0[(o=(l=t.conditions)==null?void 0:l.urlMatchType)!==null&&o!==void 0?o:"icontains"](t.conditions.url,u))}static getWindowLocation(){return T==null?void 0:T.location}static rs(t){var n;if(Ot(t.conditions)||Ot((n=t.conditions)==null?void 0:n.utm))return!0;var s=up();if(s.utm_source){var o,l,u,h,d,_,p,m,v,y,S,x,z,I,A,M,D=(o=t.conditions)==null||(l=o.utm)==null||!l.utm_campaign||((u=t.conditions)==null||(h=u.utm)==null?void 0:h.utm_campaign)==s.utm_campaign,W=(d=t.conditions)==null||(_=d.utm)==null||!_.utm_source||((p=t.conditions)==null||(m=p.utm)==null?void 0:m.utm_source)==s.utm_source,at=(v=t.conditions)==null||(y=v.utm)==null||!y.utm_medium||((S=t.conditions)==null||(x=S.utm)==null?void 0:x.utm_medium)==s.utm_medium,ot=(z=t.conditions)==null||(I=z.utm)==null||!I.utm_term||((A=t.conditions)==null||(M=A.utm)==null?void 0:M.utm_term)==s.utm_term;return D&&at&&ot&&W}return!1}static Yr(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];Q.info("[WebExperiments] "+t,s)}Qr(t,n,s){this._is_bot()?ye.Yr("Refusing to render web experiment since the viewer is a likely bot"):n!=="control"?s.forEach(o=>{if(o.selector){var l;ye.Yr("applying transform of variant "+n+" for experiment "+t+" ",o);var u=(l=document)==null?void 0:l.querySelectorAll(o.selector);u==null||u.forEach(h=>{var d=h;o.html&&(d.innerHTML=o.html),o.css&&d.setAttribute("style",o.css)})}}):ye.Yr("Control variants leave the page unmodified.")}_is_bot(){return je&&this._instance?mp(je,this._instance.config.custom_blocked_useragents):void 0}}var Xs={},Ol=()=>{},ts="posthog",vp=!g0&&(Re==null?void 0:Re.indexOf("MSIE"))===-1&&(Re==null?void 0:Re.indexOf("Mozilla"))===-1,qh=()=>{var i;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:Tv(Y==null?void 0:Y.location),persistence:"localStorage+cookie",persistence_name:"",loaded:Ol,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:"if_capture_pageview",debug:De&&ee(De==null?void 0:De.search)&&De.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(T==null||(i=T.location)==null?void 0:i.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:t=>{var n="Bad HTTP status: "+t.statusCode+" "+t.text;Q.error(n)},get_device_id:t=>t,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:Al},_onCapture:Ol}},Vh=i=>{var t={};q(i.process_person)||(t.person_profiles=i.process_person),q(i.xhr_headers)||(t.request_headers=i.xhr_headers),q(i.cookie_name)||(t.persistence_name=i.cookie_name),q(i.disable_cookie)||(t.disable_persistence=i.disable_cookie),q(i.store_google)||(t.save_campaign_params=i.store_google),q(i.verbose)||(t.debug=i.verbose);var n=te({},t,i);return qt(i.property_blacklist)&&(q(i.property_denylist)?n.property_denylist=i.property_blacklist:qt(i.property_denylist)?n.property_denylist=[...i.property_blacklist,...i.property_denylist]:Q.error("Invalid value for property_denylist config: "+i.property_denylist)),n};class M0{constructor(){this.__forceAllowLocalhost=!1}get ss(){return this.__forceAllowLocalhost}set ss(t){Q.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}class Zo{get decideEndpointWasHit(){var t,n;return(t=(n=this.featureFlags)==null?void 0:n.hasLoadedFlags)!==null&&t!==void 0&&t}constructor(){this.webPerformance=new M0,this.ns=!1,this.version=Ni.LIB_VERSION,this.os=new gp,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=qh(),this.SentryIntegration=zy,this.sentryIntegration=t=>function(n,s){var o=qf(n,s);return{name:jf,processEvent:l=>o(l)}}(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.ls=!1,this.hs=null,this.us=null,this.ds=null,this.featureFlags=new u0(this),this.toolbar=new Zy(this),this.scrollManager=new b0(this),this.pageViewManager=new Vy(this),this.surveys=new d0(this),this.experiments=new ye(this),this.exceptions=new Gy(this),this.rateLimiter=new f0(this),this.requestRouter=new L0(this),this.consent=new Kv(this),this.people={set:(t,n,s)=>{var o=ee(t)?{[t]:n}:t;this.setPersonProperties(o),s==null||s({})},set_once:(t,n,s)=>{var o=ee(t)?{[t]:n}:t;this.setPersonProperties(void 0,o),s==null||s({})}},this.on("eventCaptured",t=>Q.info('send "'+(t==null?void 0:t.event)+'"',t))}init(t,n,s){if(s&&s!==ts){var o,l=(o=Xs[s])!==null&&o!==void 0?o:new Zo;return l._init(t,n,s),Xs[s]=l,Xs[ts][s]=l,l}return this._init(t,n,s)}_init(t,n,s){var o,l;if(n===void 0&&(n={}),q(t)||al(t))return Q.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return Q.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this.vs=[],n.person_profiles&&(this.us=n.person_profiles),this.set_config(te({},qh(),Vh(n),{name:s,token:t})),this.config.on_xhr_error&&Q.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=n.disable_compression?void 0:ai.GZipJS,this.persistence=new Za(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Za(K({},this.config,{persistence:"sessionStorage"}));var u=K({},this.persistence.props),h=K({},this.sessionPersistence.props);if(this.cs=new m0(I=>this.fs(I),this.config.request_queue_config),this.ps=new y0(this),this.__request_queue=[],this.config.__preview_experimental_cookieless_mode||(this.sessionManager=new P0(this),this.sessionPropsManager=new x0(this,this.sessionManager,this.persistence)),new Uy(this).startIfEnabledOrStop(),this.siteApps=new S0(this),(o=this.siteApps)==null||o.init(),this.config.__preview_experimental_cookieless_mode||(this.sessionRecording=new Ny(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new $v(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new qy(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new Wy(this),this.exceptionObserver=new Xv(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new Af(this,Jv),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new dy(this),this.historyAutocapture.startIfEnabled(),Ni.DEBUG=Ni.DEBUG||this.config.debug,Ni.DEBUG&&Q.info("Starting in debug mode",{this:this,config:n,thisC:K({},this.config),p:u,s:h}),this.gs(),((l=n.bootstrap)==null?void 0:l.distinctID)!==void 0){var d,_,p=this.config.get_device_id(tn()),m=(d=n.bootstrap)!=null&&d.isIdentifiedID?p:n.bootstrap.distinctID;this.persistence.set_property(Ri,(_=n.bootstrap)!=null&&_.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:n.bootstrap.distinctID,$device_id:m})}if(this._s()){var v,y,S=Object.keys(((v=n.bootstrap)==null?void 0:v.featureFlags)||{}).filter(I=>{var A,M;return!((A=n.bootstrap)==null||(M=A.featureFlags)==null||!M[I])}).reduce((I,A)=>{var M,D;return I[A]=((M=n.bootstrap)==null||(D=M.featureFlags)==null?void 0:D[A])||!1,I},{}),x=Object.keys(((y=n.bootstrap)==null?void 0:y.featureFlagPayloads)||{}).filter(I=>S[I]).reduce((I,A)=>{var M,D,W,at;return(M=n.bootstrap)!=null&&(D=M.featureFlagPayloads)!=null&&D[A]&&(I[A]=(W=n.bootstrap)==null||(at=W.featureFlagPayloads)==null?void 0:at[A]),I},{});this.featureFlags.receivedFeatureFlags({featureFlags:S,featureFlagPayloads:x})}if(this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:lh,$device_id:null},"");else if(!this.get_distinct_id()){var z=this.config.get_device_id(tn());this.register_once({distinct_id:z,$device_id:z},""),this.persistence.set_property(Ri,"anonymous")}return jt(T,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),n.segment?By(this,()=>this.bs()):this.bs(),ti(this.config._onCapture)&&this.config._onCapture!==Ol&&(Q.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",I=>this.config._onCapture(I.event,I))),this}_e(t){var n,s,o,l,u,h,d,_;if(!Y||!Y.body)return Q.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this._e(t)},500);this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=Lt(t.supportedCompression,ai.GZipJS)?ai.GZipJS:Lt(t.supportedCompression,ai.Base64)?ai.Base64:void 0),(n=t.analytics)!=null&&n.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this.us?this.us:"identified_only"}),(s=this.siteApps)==null||s.onRemoteConfig(t),(o=this.sessionRecording)==null||o.onRemoteConfig(t),(l=this.autocapture)==null||l.onRemoteConfig(t),(u=this.heatmaps)==null||u.onRemoteConfig(t),this.surveys.onRemoteConfig(t),(h=this.webVitalsAutocapture)==null||h.onRemoteConfig(t),(d=this.exceptionObserver)==null||d.onRemoteConfig(t),(_=this.deadClicksAutocapture)==null||_.onRemoteConfig(t)}bs(){try{this.config.loaded(this)}catch(t){Q.critical("`loaded` function failed",t)}this.ws(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this.ys()},1),new p0(this).load(),this.featureFlags.decide()}ws(){var t;this.has_opted_out_capturing()||this.config.request_batching&&((t=this.cs)==null||t.enable())}_dom_loaded(){this.has_opted_out_capturing()||nn(this.__request_queue,t=>this.fs(t)),this.__request_queue=[],this.ws()}_handle_unload(){var t,n;this.config.request_batching?(this.Ss()&&this.capture("$pageleave"),(t=this.cs)==null||t.unload(),(n=this.ps)==null||n.unload()):this.Ss()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}ge(t){this.__loaded&&(vp?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=xo(t.url,{ip:this.config.ip?1:0}),t.headers=K({},this.config.request_headers),t.compression=t.compression==="best-available"?this.compression:t.compression,t.fetchOptions=t.fetchOptions||this.config.fetch_options,(n=>{var s,o,l,u=K({},n);u.timeout=u.timeout||6e4,u.url=xo(u.url,{_:new Date().getTime().toString(),ver:Ni.LIB_VERSION,compression:u.compression});var h=(s=u.transport)!==null&&s!==void 0?s:"fetch",d=(o=(l=gf(Js,_=>_.transport===h))==null?void 0:l.method)!==null&&o!==void 0?o:Js[0].method;if(!d)throw new Error("No available transport method");d(u)})(K({},t,{callback:n=>{var s,o;this.rateLimiter.checkForLimiting(n),n.statusCode>=400&&((s=(o=this.config).on_request_error)==null||s.call(o,n)),t.callback==null||t.callback(n)}}))))}fs(t){this.ps?this.ps.retriableRequest(t):this.ge(t)}_execute_array(t){var n,s=[],o=[],l=[];nn(t,h=>{h&&(n=h[0],qt(n)?l.push(h):ti(h)?h.call(this):qt(h)&&n==="alias"?s.push(h):qt(h)&&n.indexOf("capture")!==-1&&ti(this[n])?l.push(h):o.push(h))});var u=function(h,d){nn(h,function(_){if(qt(_[0])){var p=d;Nt(_,function(m){p=p[m[0]].apply(p,m.slice(1))})}else this[_[0]].apply(this,_.slice(1))},d)};u(s,this),u(o,this),u(l,this)}_s(){var t,n;return((t=this.config.bootstrap)==null?void 0:t.featureFlags)&&Object.keys((n=this.config.bootstrap)==null?void 0:n.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,n,s){var o;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.cs){if(!this.consent.isOptedOut())if(!q(t)&&ee(t)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var l=s!=null&&s.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(l==null||!l.isRateLimited){n!=null&&n.$current_url&&!ee(n==null?void 0:n.$current_url)&&(Q.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),n==null||delete n.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var u=new Date,h=(s==null?void 0:s.timestamp)||u,d=tn(),_={uuid:d,event:t,properties:this.calculateEventProperties(t,n||{},h,d)};l&&(_.properties.$lib_rate_limit_remaining_tokens=l.remainingTokens),s!=null&&s.$set&&(_.$set=s==null?void 0:s.$set);var p=this.$s(s==null?void 0:s.$set_once);p&&(_.$set_once=p),(_=Ev(_,s!=null&&s._noTruncate?null:this.config.properties_string_max_length)).timestamp=h,q(s==null?void 0:s.timestamp)||(_.properties.$event_time_override_provided=!0,_.properties.$event_time_override_system_time=u);var m=K({},_.properties.$set,_.$set);if(es(m)||this.setPersonPropertiesForFlags(m),!Ot(this.config.before_send)){var v=this.ks(_);if(!v)return;_=v}this.os.emit("eventCaptured",_);var y={method:"POST",url:(o=s==null?void 0:s._url)!==null&&o!==void 0?o:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:_,compression:"best-available",batchKey:s==null?void 0:s._batchKey};return!this.config.request_batching||s&&(s==null||!s._batchKey)||s!=null&&s.send_instantly?this.fs(y):this.cs.enqueue(y),_}Q.critical("This capture call is ignored due to client rate limiting.")}}else Q.error("No event name provided to posthog.capture")}else Q.uninitializedWarning("posthog.capture")}De(t){return this.on("eventCaptured",n=>t(n.event,n))}calculateEventProperties(t,n,s,o,l){if(s=s||new Date,!this.persistence||!this.sessionPersistence)return n;var u=l?void 0:this.persistence.remove_event_timer(t),h=K({},n);if(h.token=this.config.token,this.config.__preview_experimental_cookieless_mode&&(h.$cookieless_mode=!0),t==="$snapshot"){var d=K({},this.persistence.properties(),this.sessionPersistence.properties());return h.distinct_id=d.distinct_id,(!ee(h.distinct_id)&&!xe(h.distinct_id)||al(h.distinct_id))&&Q.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),h}var _,p=a0(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:m,windowId:v}=this.sessionManager.checkAndGetSessionAndWindowId(l,s.getTime());h.$session_id=m,h.$window_id=v}this.sessionPropsManager&&te(h,this.sessionPropsManager.getSessionProps());try{var y;this.sessionRecording&&te(h,this.sessionRecording.sdkDebugProperties),h.$sdk_debug_retry_queue_size=(y=this.ps)==null?void 0:y.length}catch(I){h.$sdk_debug_error_capturing_properties=String(I)}if(this.requestRouter.region===In.CUSTOM&&(h.$lib_custom_api_host=this.config.api_host),_=t!=="$pageview"||l?t!=="$pageleave"||l?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(s):this.pageViewManager.doPageView(s,o),h=te(h,_),t==="$pageview"&&Y&&(h.title=Y.title),!q(u)){var S=s.getTime()-u;h.$duration=parseFloat((S/1e3).toFixed(3))}Re&&this.config.opt_out_useragent_filter&&(h.$browser_type=this._is_bot()?"bot":"browser"),(h=te({},p,this.persistence.properties(),this.sessionPersistence.properties(),h)).$is_identified=this._isIdentified(),qt(this.config.property_denylist)?Nt(this.config.property_denylist,function(I){delete h[I]}):Q.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var x=this.config.sanitize_properties;x&&(Q.error("sanitize_properties is deprecated. Use before_send instead"),h=x(h,t));var z=this.xs();return h.$process_person_profile=z,z&&!l&&this.Es("_calculate_event_properties"),h}$s(t){var n;if(!this.persistence||!this.xs()||this.ns)return t;var s=this.persistence.get_initial_props(),o=(n=this.sessionPropsManager)==null?void 0:n.getSetOnceProps(),l=te({},s,o||{},t||{}),u=this.config.sanitize_properties;return u&&(Q.error("sanitize_properties is deprecated. Use before_send instead"),l=u(l,"$set_once")),this.ns=!0,es(l)?void 0:l}register(t,n){var s;(s=this.persistence)==null||s.register(t,n)}register_once(t,n,s){var o;(o=this.persistence)==null||o.register_once(t,n,s)}register_for_session(t){var n;(n=this.sessionPersistence)==null||n.register(t)}unregister(t){var n;(n=this.persistence)==null||n.unregister(t)}unregister_for_session(t){var n;(n=this.sessionPersistence)==null||n.unregister(t)}Is(t,n){this.register({[t]:n})}getFeatureFlag(t,n){return this.featureFlags.getFeatureFlag(t,n)}getFeatureFlagPayload(t){var n=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(n)}catch{return n}}isFeatureEnabled(t,n){return this.featureFlags.isFeatureEnabled(t,n)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,n)}getEarlyAccessFeatures(t,n,s){return n===void 0&&(n=!1),this.featureFlags.getEarlyAccessFeatures(t,n,s)}on(t,n){return this.os.on(t,n)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSurveysLoaded(t){return this.surveys.onSurveysLoaded(t)}onSessionId(t){var n,s;return(n=(s=this.sessionManager)==null?void 0:s.onSessionId(t))!==null&&n!==void 0?n:()=>{}}getSurveys(t,n){n===void 0&&(n=!1),this.surveys.getSurveys(t,n)}getActiveMatchingSurveys(t,n){n===void 0&&(n=!1),this.surveys.getActiveMatchingSurveys(t,n)}renderSurvey(t,n){this.surveys.renderSurvey(t,n)}canRenderSurvey(t){return this.surveys.canRenderSurvey(t)}canRenderSurveyAsync(t,n){return n===void 0&&(n=!1),this.surveys.canRenderSurveyAsync(t,n)}identify(t,n,s){if(!this.__loaded||!this.persistence)return Q.uninitializedWarning("posthog.identify");if(xe(t)&&(t=t.toString(),Q.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t){if(["distinct_id","distinctid"].includes(t.toLowerCase()))Q.critical('The string "'+t+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(this.Es("posthog.identify")){var o=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var l=o;this.register_once({$had_persisted_distinct_id:!0,$device_id:l},"")}t!==o&&t!==this.get_property(Ns)&&(this.unregister(Ns),this.register({distinct_id:t}));var u=(this.persistence.get_property(Ri)||"anonymous")==="anonymous";t!==o&&u?(this.persistence.set_property(Ri,"identified"),this.setPersonPropertiesForFlags(K({},s||{},n||{}),!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:o},{$set:n||{},$set_once:s||{}}),this.ds=Wh(t,n,s),this.featureFlags.setAnonymousDistinctId(o)):(n||s)&&this.setPersonProperties(n,s),t!==o&&(this.reloadFeatureFlags(),this.unregister(uo))}}else Q.error("Unique user id has not been set in posthog.identify")}setPersonProperties(t,n){if((t||n)&&this.Es("posthog.setPersonProperties")){var s=Wh(this.get_distinct_id(),t,n);this.ds!==s?(this.setPersonPropertiesForFlags(K({},n||{},t||{})),this.capture("$set",{$set:t||{},$set_once:n||{}}),this.ds=s):Q.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(t,n,s){if(t&&n){if(this.Es("posthog.group")){var o=this.getGroups();o[t]!==n&&this.resetGroupPropertiesForFlags(t),this.register({$groups:K({},o,{[t]:n})}),s&&(this.capture("$groupidentify",{$group_type:t,$group_key:n,$group_set:s}),this.setGroupPropertiesForFlags({[t]:s})),o[t]===n||s||this.reloadFeatureFlags()}}else Q.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t,n){n===void 0&&(n=!0),this.featureFlags.setPersonPropertiesForFlags(t,n)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t,n){n===void 0&&(n=!0),this.Es("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,n)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var n,s,o,l;if(Q.info("reset"),!this.__loaded)return Q.uninitializedWarning("posthog.reset");var u=this.get_property("$device_id");if(this.consent.reset(),(n=this.persistence)==null||n.clear(),(s=this.sessionPersistence)==null||s.clear(),this.surveys.reset(),(o=this.persistence)==null||o.set_property(Ri,"anonymous"),(l=this.sessionManager)==null||l.resetSessionId(),this.ds=null,this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:lh,$device_id:null},"");else{var h=this.config.get_device_id(tn());this.register_once({distinct_id:h,$device_id:t?h:u},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var t,n;return(t=(n=this.sessionManager)==null?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}get_session_replay_url(t){if(!this.sessionManager)return"";var{sessionId:n,sessionStartTimestamp:s}=this.sessionManager.checkAndGetSessionAndWindowId(!0),o=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+n);if(t!=null&&t.withTimestamp&&s){var l,u=(l=t.timestampLookBack)!==null&&l!==void 0?l:10;if(!s)return o;o+="?t="+Math.max(Math.floor((new Date().getTime()-s)/1e3)-u,0)}return o}alias(t,n){return t===this.get_property(mf)?(Q.critical("Attempting to create alias for existing People user - aborting."),-2):this.Es("posthog.alias")?(q(n)&&(n=this.get_distinct_id()),t!==n?(this.Is(Ns,t),this.capture("$create_alias",{alias:t,distinct_id:n})):(Q.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}set_config(t){var n,s,o,l,u=K({},this.config);Vt(t)&&(te(this.config,Vh(t)),(n=this.persistence)==null||n.update_config(this.config,u),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Za(K({},this.config,{persistence:"sessionStorage"})),re.O()&&re.A("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(Ni.DEBUG=!0,Q.info("set_config",JSON.stringify({config:t,oldConfig:u,newConfig:K({},this.config)},null,2))),(s=this.sessionRecording)==null||s.startIfEnabledOrStop(),(o=this.autocapture)==null||o.startIfEnabled(),(l=this.heatmaps)==null||l.startIfEnabled(),this.surveys.loadIfEnabled(),this.gs())}startSessionRecording(t){var n=t===!0,s={sampling:n||!(t==null||!t.sampling),linked_flag:n||!(t==null||!t.linked_flag),url_trigger:n||!(t==null||!t.url_trigger),event_trigger:n||!(t==null||!t.event_trigger)};if(Object.values(s).some(Boolean)){var o,l,u,h,d;(o=this.sessionManager)==null||o.checkAndGetSessionAndWindowId(),s.sampling&&((l=this.sessionRecording)==null||l.overrideSampling()),s.linked_flag&&((u=this.sessionRecording)==null||u.overrideLinkedFlag()),s.url_trigger&&((h=this.sessionRecording)==null||h.overrideTrigger("url")),s.event_trigger&&((d=this.sessionRecording)==null||d.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!((t=this.sessionRecording)==null||!t.started)}captureException(t,n){var s=new Error("PostHog syntheticException");this.exceptions.sendExceptionEvent(K({},hy((o=>o instanceof Error)(t)?{error:t,event:t.message}:{event:t},{syntheticException:s}),n))}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var n;return(n=this.persistence)==null?void 0:n.props[t]}getSessionProperty(t){var n;return(n=this.sessionPersistence)==null?void 0:n.props[t]}toString(){var t,n=(t=this.config.name)!==null&&t!==void 0?t:ts;return n!==ts&&(n=ts+"."+n),n}_isIdentified(){var t,n;return((t=this.persistence)==null?void 0:t.get_property(Ri))==="identified"||((n=this.sessionPersistence)==null?void 0:n.get_property(Ri))==="identified"}xs(){var t,n,s,o;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&es(this.getGroups())&&((t=this.persistence)==null||(n=t.props)==null||!n[Ns])&&((s=this.persistence)==null||(o=s.props)==null||!o[ho]))}Ss(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.xs()||this.Es("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Es(t){return this.config.person_profiles==="never"?(Q.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.Is(ho,!0),!0)}gs(){var t,n,s,o,l=this.consent.isOptedOut(),u=this.config.opt_out_persistence_by_default,h=this.config.disable_persistence||l&&!!u;((t=this.persistence)==null?void 0:t.$e)!==h&&((s=this.persistence)==null||s.set_disabled(h)),((n=this.sessionPersistence)==null?void 0:n.$e)!==h&&((o=this.sessionPersistence)==null||o.set_disabled(h))}opt_in_capturing(t){var n;this.consent.optInOut(!0),this.gs(),(q(t==null?void 0:t.captureEventName)||t!=null&&t.captureEventName)&&this.capture((n=t==null?void 0:t.captureEventName)!==null&&n!==void 0?n:"$opt_in",t==null?void 0:t.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.ys()}opt_out_capturing(){this.consent.optInOut(!1),this.gs()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this.gs()}_is_bot(){return je?mp(je,this.config.custom_blocked_useragents):void 0}ys(){Y&&(Y.visibilityState==="visible"?this.ls||(this.ls=!0,this.capture("$pageview",{title:Y.title},{send_instantly:!0}),this.hs&&(Y.removeEventListener("visibilitychange",this.hs),this.hs=null)):this.hs||(this.hs=this.ys.bind(this),jt(Y,"visibilitychange",this.hs)))}debug(t){t===!1?(T==null||T.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(T==null||T.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}ks(t){if(Ot(this.config.before_send))return t;var n=qt(this.config.before_send)?this.config.before_send:[this.config.before_send],s=t;for(var o of n){if(s=o(s),Ot(s)){var l="Event '"+t.event+"' was rejected in beforeSend function";return wv(t.event)?Q.warn(l+". This can cause unexpected behavior."):Q.info(l),null}s.properties&&!es(s.properties)||Q.warn("Event '"+t.event+"' has no properties after beforeSend function, this is likely an error.")}return s}getPageViewId(){var t;return(t=this.pageViewManager.ne)==null?void 0:t.pageViewId}captureTraceFeedback(t,n){this.capture("$ai_feedback",{$ai_trace_id:String(t),$ai_feedback_text:n})}captureTraceMetric(t,n,s){this.capture("$ai_metric",{$ai_trace_id:String(t),$ai_metric_name:n,$ai_metric_value:String(s)})}}(function(i,t){for(var n=0;n<t.length;n++)i.prototype[t[n]]=Pv(i.prototype[t[n]])})(Zo,["identify"]);var Gh,Kh,Yh,Jh,Xh,Qh;(function(i){i.Button="button",i.Tab="tab",i.Selector="selector"})(Gh||(Gh={})),function(i){i.Left="left",i.Center="center",i.Right="right",i.NextToTrigger="next_to_trigger"}(Kh||(Kh={})),function(i){i.Popover="popover",i.API="api",i.Widget="widget"}(Yh||(Yh={})),function(i){i.Open="open",i.MultipleChoice="multiple_choice",i.SingleChoice="single_choice",i.Rating="rating",i.Link="link"}(Jh||(Jh={})),function(i){i.NextQuestion="next_question",i.End="end",i.ResponseBased="response_based",i.SpecificQuestion="specific_question"}(Xh||(Xh={})),function(i){i.Once="once",i.Recurring="recurring",i.Always="always"}(Qh||(Qh={}));var td,Ua=(td=Xs[ts]=new Zo,function(){function i(){i.done||(i.done=!0,vp=!1,Nt(Xs,function(t){t._dom_loaded()}))}Y!=null&&Y.addEventListener?Y.readyState==="complete"?i():jt(Y,"DOMContentLoaded",i,{capture:!1}):T&&Q.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),td);function rn(i,t){const n={VITE_POSTHOG_API_KEY:"phc_w0axXDyN3zCal0qUUsV83NnyCoKsI9AKHXR59aat3tP",VITE_POSTHOG_HOST:"https://app.posthog.com",VITE_ENABLE_ANALYTICS:"true",BASE_URL:"/nyc-water-app/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}[i];return n===void 0?(console.warn(`Environment variable ${i} not found, using default: ${t}`),t):typeof t=="number"?Number(n):typeof t=="boolean"?n==="true":n}const C0={posthogApiKey:rn("VITE_POSTHOG_API_KEY",""),posthogHost:rn("VITE_POSTHOG_HOST","https://app.posthog.com"),enabled:rn("VITE_ENABLE_ANALYTICS",!0)},I0={defaultLatitude:rn("VITE_MAP_DEFAULT_LAT",40.7128),defaultLongitude:rn("VITE_MAP_DEFAULT_LNG",-74.006),defaultZoom:rn("VITE_MAP_DEFAULT_ZOOM",12),tileUrls:{light:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",dark:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png"}},A0={apiBaseUrl:rn("VITE_NOAA_API_BASE_URL","https://api.tidesandcurrents.noaa.gov"),stationsEndpoint:"/mdapi/prod/webapi/stations.json",waterLevelEndpoint:"/api/prod/datagetter"},O0={mpnThresholds:{low:35,medium:104},colors:{good:"#4CAF50",moderate:"#FFC107",poor:"#F44336"}},R0={data:rn("VITE_DATA_PATH","data")},Po={analytics:C0,map:I0,noaa:A0,waterQuality:O0,paths:R0,isDevelopment:!1,isProduction:!0},D0={VIEWED_PAGE:"viewed_page",VIEWED_SAMPLE_PIN:"viewed_sample_pin",CHANGED_THEME:"changed_theme",SELECTED_DATE:"selected_date",ZOOMED_MAP:"zoomed_map",PANNED_MAP:"panned_map",FAILED_LOADING_DATA:"failed_loading_data",ERROR_OCCURRED:"error_occurred"};class F0{constructor(){this.initialized=!1,this.client=this.initClient()}initClient(){if(this.initialized)return this.client;const{enabled:t,posthogApiKey:n,posthogHost:s}=Po.analytics;return!n&&t&&console.warn("Analytics API key not found in environment variables. Analytics will be disabled."),t&&n?Ua.init(n,{api_host:s,capture_pageview:!1,autocapture:!1,debug:Po.isDevelopment}):this.mockAnalyticsClient(Ua),this.initialized=!0,Ua}mockAnalyticsClient(t){Object.keys(t).forEach(n=>{typeof t[n]=="function"&&(t[n]=(...s)=>(console.log(`[Analytics Mock] ${n}:`,...s),t))})}track(t,n){const s={...n,timestamp:new Date().toISOString()};this.client.capture(t,s)}trackPageView(t,n){this.track(D0.VIEWED_PAGE,{page:t,referrer:n})}identify(t,n={}){if(!t){console.warn("User ID is required for identification");return}this.client.identify(t,n)}reset(){this.client.reset()}}const Fe=new F0,Xi={INFO:"info",WARNING:"warning",ERROR:"error",FATAL:"fatal"},N0={logToConsole:!0,reportToAnalytics:!0,rethrow:!1,showToUser:!1},B0={messages:[],addError(i,t){this.messages.push({message:i,severity:t})},clearErrors(){this.messages=[]}};function kn(i,t={},n=Xi.ERROR,s={}){const o={...N0,...s},l=i instanceof Error?i:new Error(String(i)),u={message:l.message,stack:l.stack,...t,timestamp:new Date().toISOString(),severity:n};if(o.logToConsole&&console.error("[App Error]",u),o.reportToAnalytics&&Fe.track&&Fe.track("error_occurred",{error_message:l.message,error_type:l.name,component:t.component,operation:t.operation,severity:n}),o.showToUser&&B0.addError(l.message,n),o.rethrow)throw l;return{data:null,error:l}}async function Rl(i,t={},n={}){try{return{data:await i(),error:null}}catch(s){return kn(s,t,Xi.ERROR,n)}}const $n=(i,t)=>{const n=i.__vccOpts||i;for(const[s,o]of t)n[s]=o;return n},{waterQuality:fr,map:Ds}=Po,z0=fr.mpnThresholds.low,$0=fr.mpnThresholds.medium,Z0=fr.colors.good,Wa=fr.colors.moderate,H0=fr.colors.poor,U0={name:"MapViewer",props:{selectedDate:{type:String,required:!0},isDarkMode:{type:Boolean,default:!1}},emits:["update:siteCount","update:sampleData","update:rainfallByDayIn","update:rainData","update:totalRain"],setup(i,{emit:t}){const n=He(null),s=He(null),o=He([]),l=He(null),u=He(!1),h=Ds.tileUrls.light,d=Ds.tileUrls.dark,_=x=>{if(x===null)return Wa;const z=Number(x);return isNaN(z)?(console.warn("Invalid MPN value:",x),Wa):z<z0?Z0:z<=$0?Wa:H0},p=x=>{const z=_(x);return Cs.divIcon({html:`
          <div style="width: 16px; height: 32px; color: ${z}">
            <svg viewBox="0 0 32 64" xmlns="http://www.w3.org/2000/svg" width="16" height="32">
              <!-- Cap -->
              <rect x="8" y="2" width="16" height="6" rx="2" fill="#ccc" stroke="black" stroke-width="0.5"/>
              
              <!-- Neck -->
              <rect x="10" y="8" width="12" height="4" rx="2" fill="#eee" stroke="black" stroke-width="0.5"/>

              <!-- Body -->
              <rect x="6" y="12" width="20" height="44" rx="6" fill="currentColor" stroke="white" stroke-width="1"/>

              <!-- Bottom ring -->
              <ellipse cx="16" cy="58" rx="8" ry="2" fill="white" opacity="0.2"/>
            </svg>
          </div>
        `,className:"water-bottle-icon",iconSize:[16,32],iconAnchor:[8,32],popupAnchor:[0,-34]})},m=()=>{if(!s.value)return;l.value&&s.value.removeLayer(l.value);const x=i.isDarkMode?d:h;l.value=Cs.tileLayer(x,{attribution:"",maxZoom:19,subdomains:"abcd"}).addTo(s.value),v()},v=()=>{s.value&&o.value.forEach(x=>{const z=x.getPopup();if(z){const I=z.getContent();x.closePopup().unbindPopup(),x.bindPopup(I||"",{className:i.isDarkMode?"dark-mode-popup":""})}})};Rn(()=>i.isDarkMode,x=>{m(),Fe.track("changed_theme",{theme:x?"dark":"light",previousTheme:x?"light":"dark"})}),Rn(()=>i.selectedDate,async x=>{x&&await y(x)},{immediate:!0}),Rn(n,x=>{x&&s.value&&S(x)});const y=async x=>Rl(async()=>{Fe.track("selected_date",{date:x});const z=Po.paths.data,I=await fetch(`/nyc-water-app/${z}/${x}.geojson`);if(!I.ok)throw Fe.track("failed_loading_data",{date:x,error:`${I.status} ${I.statusText}`}),new Error(`Failed to load data for ${x}: ${I.status} ${I.statusText}`);try{if(n.value=await I.json(),n.value&&n.value.features){t("update:siteCount",n.value.features.length);const A=n.value.features.map(M=>({site:M.properties.site||M.properties["Site Name"]||"",mpn:M.properties.mpn||M.properties.MPN||""}));if(t("update:sampleData",A),n.value.features.some(M=>M.properties.rainfall_by_day_in&&Array.isArray(M.properties.rainfall_by_day_in))){const M=n.value.features.find(D=>D.properties.rainfall_by_day_in&&Array.isArray(D.properties.rainfall_by_day_in));if(M){const W=M.properties.rainfall_by_day_in.map(ot=>typeof ot=="number"?ot:parseFloat(ot)).map(ot=>Number((ot*.0393701).toFixed(2))),at=W.reduce((ot,X)=>ot+(X||0),0);t("update:rainData",W),t("update:totalRain",Number(at.toFixed(2))),console.log(`Total 7-day rainfall: ${Number(at.toFixed(2))} inches`),t("update:rainfallByDayIn",W)}}else if(n.value.features.some(M=>M.properties.rainfall_mm_7day!==void 0)){const W=n.value.features.reduce((X,tt)=>X+(tt.properties.rainfall_mm_7day||0),0)/n.value.features.length*.0393701,at=[.1,.15,.2,.25,.15,.1,.05],ot=at.map(X=>Number((W*X).toFixed(2)));for(const X of n.value.features)if(!X.properties.rainfall_by_day_in){const ct=(X.properties.rainfall_mm_7day||0)*.0393701;X.properties.rainfall_by_day_in=at.map(st=>Number((ct*st).toFixed(2)))}t("update:rainData",ot),t("update:totalRain",Number(W.toFixed(2))),console.log(`Total 7-day rainfall (synthetic): ${Number(W.toFixed(2))} inches`),t("update:rainfallByDayIn",ot)}}else kn(new Error(`No features found in data for ${x}`),{component:"MapViewer",operation:"loadMapData"},Xi.WARNING,{showToUser:!1});await Rl(async()=>{const A=await fetch(`/nyc-water-app/${z}/${x}.enriched.geojson`);if(A.ok){const M=await A.json();n.value=M}},{component:"MapViewer",operation:"loadEnrichedData"},{reportToAnalytics:!0,showToUser:!1})}catch(A){kn(A,{component:"MapViewer",operation:"parseMapData",data:{date:x}},Xi.ERROR,{reportToAnalytics:!0,showToUser:!1,rethrow:!0})}},{component:"MapViewer",operation:"loadMapData",data:{date:x}},{reportToAnalytics:!0,showToUser:!1}),S=x=>{if(!s.value){console.error("Map instance is not available");return}let z=s.value.getCenter(),I=s.value.getZoom();for(const M of o.value)M.remove();if(o.value=[],!x.features||x.features.length===0){console.warn("No features found in data");return}console.log(`Total features on map: ${x.features.length}`);let A=0;for(const M of x.features)try{if(!M.geometry||!M.geometry.coordinates||M.geometry.coordinates.length<2){kn(new Error("Invalid feature geometry or coordinates"),{component:"MapViewer",operation:"updateMap",data:{feature:M}},Xi.WARNING,{showToUser:!1});continue}if(!M.properties){kn(new Error("Missing properties in feature"),{component:"MapViewer",operation:"updateMap",data:{feature:M}},Xi.WARNING,{showToUser:!1}),console.warn("Skipping feature with missing properties:",M);continue}const D=M.properties.site||M.properties["Site Name"]||"",W=M.properties.mpn!==void 0?M.properties.mpn:M.properties.MPN,at=M.properties.sampleTime||M.properties["Sample Time"]||"";if(W===void 0){console.warn("Feature is missing MPN property:",M);continue}const ot=M.geometry.coordinates,X=ot[1],tt=ot[0];if(isNaN(X)||isNaN(tt)){kn(new Error("Invalid coordinates (NaN values)"),{component:"MapViewer",operation:"updateMap",data:{coordinates:ot}},Xi.WARNING,{showToUser:!1});continue}const ct=M.properties.site||M.properties["Site Name"]||"",st=M.properties.mpn||M.properties.MPN||"",$=M.properties.sampleTime||M.properties["Sample Time"]||"",Et=p(st);Et.options.popupAnchor=[0,-40];let _t,Ft;const gt=Number(W);gt<35?(_t="text-lime-500",Ft="Acceptable for swimming"):gt<=104?(_t="text-yellow-400",Ft="Unacceptable if levels persist"):(_t="text-red-500",Ft="Unacceptable for swimming");const pt=et=>String(et).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),U=pt(D),Ut=pt(W===null?"N/A":W.toString());let J=`
            <div class="site-popup">
              <div class="font-semibold text-lg site-name">${U}</div>
              <div class="mt-2 ${_t} font-medium text-base">
                ${Ut} MPN/100mL
              </div>
              <div class="mt-1 text-sm opacity-75">
                ${Ft}
              </div>
          `;if(at){const et=pt(at);J+=`<div class="text-xs opacity-75 mt-1">Sampled at ${et}</div>`}if((M.properties.tideSummary||M.properties.rainfall_mm_7day!==void 0)&&(J+='<div class="text-xs font-medium mt-3 pt-2 border-t border-gray-200">Environmental Conditions:</div>'),M.properties.tideSummary){const et=M.properties.tideSummary;let kt=et;et.includes("Low Tide – ⬇️ Falling")?kt=`Low Tide ${et.includes("(")?et.substring(et.indexOf("(")):""}`:et.includes("High Tide – ⬆️ Rising")&&(kt=`High Tide ${et.includes("(")?et.substring(et.indexOf("(")):""}`);const xt=pt(kt);J+=`<div class="text-xs opacity-75 mt-1">
              <span title="Tidal data is taken from nearest NOAA station and is only approximate">${xt}</span>
            </div>`}if(M.properties.rainfall_mm_7day!==void 0&&M.properties.rainfall_mm_7day!==null){const et=M.properties.rainfall_mm_7day||0,xt=`${Number((et*.0393701).toFixed(2))} in (7-day)`,bt=pt(xt);if(J+=`<div class="text-xs opacity-75 mt-1">
              <span title="Rainfall data for the 7 days prior to sample date from Open-Meteo API">${bt}</span>
            </div>`,M.properties.rainfall_station_name){const ut=M.properties.rainfall_station_name,ae=pt(ut);J+=`<div class="text-xs opacity-75 mt-1">
                <span title="Weather station providing rainfall data">Station: ${ae}</span>
              </div>`}}J+="</div>";const yt=Cs.marker([X,tt],{icon:Et}).bindPopup(J,{className:i.isDarkMode?"dark-mode-popup":""}).addTo(s.value);yt.on("popupopen",()=>{Fe.track("viewed_sample_pin",{sampleId:ct,result:st.toString(),location:`${X.toFixed(4)},${tt.toFixed(4)}`})}),o.value.push(yt),A++}catch(D){kn(D,{component:"MapViewer",operation:"processFeature"},Xi.ERROR,{logToConsole:!0,reportToAnalytics:!0,showToUser:!1})}if(o.value.length>0)if(u.value)s.value.setView(z,I);else{const M=Cs.featureGroup(o.value);s.value.fitBounds(M.getBounds(),{padding:[30,30]}),u.value=!0}};return hr(()=>{s.value=Cs.map("map").setView([Ds.defaultLatitude,Ds.defaultLongitude],Ds.defaultZoom),m();let x;s.value.on("zoomend",()=>{x&&window.clearTimeout(x),x=window.setTimeout(()=>{var I;Fe.track("zoomed_map",{zoomLevel:((I=s.value)==null?void 0:I.getZoom())||0})},500)});let z;s.value.on("moveend",()=>{z&&window.clearTimeout(z),z=window.setTimeout(()=>{var A;const I=(A=s.value)==null?void 0:A.getCenter();I&&Fe.track("panned_map",{center:{lat:Number(I.lat.toFixed(4)),lng:Number(I.lng.toFixed(4))}})},500)}),s.value.removeControl(s.value.zoomControl),i.selectedDate&&y(i.selectedDate)}),Gl(()=>{s.value&&s.value.remove()}),{mapData:n,map:s,markers:o,tileLayer:l,hasAutoFitted:u,updateTileLayer:m,loadMapData:y,updateMap:S}}},W0={class:"w-full h-full"};function j0(i,t,n,s,o,l){return ue(),pe("div",W0,t[0]||(t[0]=[rt("div",{id:"map",class:"absolute inset-0 z-0"},null,-1)]))}const q0=$n(U0,[["render",j0]]);const V0={name:"HeaderOverlay",props:{latestDate:{type:String,required:!0},siteCount:{type:Number,default:0},isDarkMode:{type:Boolean,default:!1},isExpanded:{type:Boolean,default:!1}},emits:["toggleMapMode","update:isExpanded"],setup(i,{emit:t}){const n=He(null),s=()=>{const h=!i.isExpanded;t("update:isExpanded",h),Fe.track("toggled_header",{expanded:h}),h&&jr(()=>{o()})},o=()=>{if(n.value){const h=n.value.offsetHeight;document.documentElement.style.setProperty("--header-height",`${h}px`)}},l=()=>{t("toggleMapMode",!i.isDarkMode),Fe.track("toggled_map_mode",{dark_mode:!i.isDarkMode})},u=de(()=>{if(!i.latestDate)return"";try{const[h,d,_]=i.latestDate.split("-").map(Number);return new Date(Date.UTC(h,d-1,_)).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"})}catch{return i.latestDate}});return hr(()=>{jr(()=>{o()})}),Rn(()=>i.siteCount,()=>{jr(()=>{o()})}),{headerRef:n,formattedDate:u,toggleExpanded:s,toggleMapMode:l}}},G0={class:"container mx-auto max-w-3xl relative flex flex-col items-center"},K0={class:"w-full max-w-lg text-center"},Y0={class:"mt-2 flex justify-center gap-4 items-center"},J0=["title"],X0={class:"text-lg"},Q0={key:0,class:"absolute left-1/2 transform -translate-x-1/2 z-40",style:{top:"calc(var(--header-height, 0px) - 5px)"}},tb={key:1,class:"absolute top-4 left-1/2 transform -translate-x-1/2 z-40"};function eb(i,t,n,s,o,l){return ue(),pe(Ue,null,[Yt(Hm,{name:"slide-fade"},{default:Cd(()=>[n.isExpanded?(ue(),pe("div",{key:0,ref:"headerRef",class:Gt(["absolute top-0 left-0 right-0 p-4 shadow-md z-30 transition-colors duration-300",n.isDarkMode?"bg-gray-800 text-white":"bg-white bg-opacity-90 text-gray-800"])},[rt("div",G0,[rt("div",K0,[t[6]||(t[6]=rt("div",{class:"mb-2"},[rt("h1",{class:"text-2xl font-bold"},"NYC Water Quality")],-1)),rt("div",{class:Gt(["space-y-1 text-sm",n.isDarkMode?"text-gray-300":"text-gray-700"])},[rt("p",null,[t[3]||(t[3]=rt("span",{class:"font-medium"},"Date of current view:",-1)),Kr(" "+ui(s.formattedDate),1)]),rt("p",null,[t[4]||(t[4]=rt("span",{class:"font-medium"},"Total sites sampled:",-1)),Kr(" "+ui(n.siteCount),1)]),t[5]||(t[5]=rt("p",null,[rt("span",{class:"font-medium"},"7-day rainfall:"),Kr(" 1.25 inches")],-1)),rt("div",Y0,[rt("button",{class:Gt(["rounded-full p-2 shadow-md focus:outline-none transition-colors duration-300",n.isDarkMode?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-800 hover:bg-white"]),title:n.isDarkMode?"Switch to light mode":"Switch to dark mode","aria-label":"Toggle dark mode",onClick:t[0]||(t[0]=(...u)=>s.toggleMapMode&&s.toggleMapMode(...u))},[rt("span",X0,ui(n.isDarkMode?"🌞":"🌙"),1)],10,J0)])],2)])])],2)):$i("",!0)]),_:1}),n.isExpanded?(ue(),pe("div",Q0,[rt("button",{class:Gt(["rounded-full w-10 h-10 flex items-center justify-center shadow-md focus:outline-none transition-colors duration-300",n.isDarkMode?"bg-gray-800 text-gray-200":"bg-white text-gray-800"]),"aria-label":"Collapse header",title:"Toggle header",onClick:t[1]||(t[1]=(...u)=>s.toggleExpanded&&s.toggleExpanded(...u))},t[7]||(t[7]=[rt("span",{class:"font-semibold text-lg"},"▲",-1)]),2)])):$i("",!0),n.isExpanded?$i("",!0):(ue(),pe("div",tb,[rt("button",{class:Gt(["rounded-full w-10 h-10 flex items-center justify-center shadow-md focus:outline-none transition-colors duration-300",n.isDarkMode?"bg-gray-800 text-gray-200":"bg-white text-gray-800"]),"aria-label":"Expand header",title:"Toggle header",onClick:t[2]||(t[2]=(...u)=>s.toggleExpanded&&s.toggleExpanded(...u))},t[8]||(t[8]=[rt("span",{class:"font-semibold text-lg"},"▼",-1)]),2)]))],64)}const ib=$n(V0,[["render",eb],["__scopeId","data-v-e42affea"]]),nb={name:"DateScroller",props:{dates:{type:Array,required:!0},modelValue:{type:String,required:!0},isDarkMode:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(i,{emit:t}){const n=de(()=>i.dates.indexOf(i.modelValue)),s=de(()=>n.value>0),o=de(()=>n.value<i.dates.length-1),l=de(()=>{if(!i.modelValue)return"";try{const[d,_,p]=i.modelValue.split("-").map(Number);return new Date(Date.UTC(d,_-1,p)).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"})}catch{return i.modelValue}});return{currentIndex:n,hasPrevious:s,hasNext:o,formattedModelValue:l,selectPrevious:()=>{if(s.value){const d=i.dates[n.value-1];t("update:modelValue",d),Fe.track("selected_previous_date",{date:d})}},selectNext:()=>{if(o.value){const d=i.dates[n.value+1];t("update:modelValue",d),Fe.track("selected_next_date",{date:d})}}}}},sb={class:"fixed bottom-[calc(4rem+env(safe-area-inset-bottom,0px))] left-1/2 transform -translate-x-1/2 z-30"},rb=["disabled"],ob={class:"px-2 text-center"},ab=["disabled"];function lb(i,t,n,s,o,l){return ue(),pe("div",sb,[rt("div",{class:Gt(["inline-flex items-center rounded-full px-4 py-2 shadow-md transition-colors duration-300",n.isDarkMode?"bg-gray-800 bg-opacity-90":"bg-white bg-opacity-90"])},[rt("button",{class:Gt(["w-8 h-8 flex items-center justify-center mr-2 disabled:opacity-30 focus:outline-none transition-colors duration-300",n.isDarkMode?"text-gray-400 hover:text-white":"text-gray-600 hover:text-black"]),disabled:!s.hasPrevious,"aria-label":"Previous date",onClick:t[0]||(t[0]=(...u)=>s.selectPrevious&&s.selectPrevious(...u))}," ← ",10,rb),rt("div",ob,[rt("span",{class:Gt(["text-sm font-medium transition-colors duration-300",n.isDarkMode?"text-gray-200":"text-gray-800"])},ui(s.formattedModelValue),3)]),rt("button",{class:Gt(["w-8 h-8 flex items-center justify-center ml-2 disabled:opacity-30 focus:outline-none transition-colors duration-300",n.isDarkMode?"text-gray-400 hover:text-white":"text-gray-600 hover:text-black"]),disabled:!s.hasNext,"aria-label":"Next date",onClick:t[1]||(t[1]=(...u)=>s.selectNext&&s.selectNext(...u))}," → ",10,ab)],2)])}const ub=$n(nb,[["render",lb]]),cb={name:"InfoPopup",props:{isDarkMode:{type:Boolean,default:!1}},setup(){return{isOpen:He(!0),watchIsOpen:n=>{n&&Fe.track("viewed_info_popup")}}},watch:{isOpen:"watchIsOpen"}},hb={class:"flex justify-between items-center mb-2"};function db(i,t,n,s,o,l){return ue(),pe(Ue,null,[s.isOpen?(ue(),pe("div",{key:0,class:Gt(["fixed bottom-20 left-1/2 transform -translate-x-1/2 p-4 rounded-lg shadow-lg z-40 max-w-md w-[90%] mx-auto transition-colors duration-300",n.isDarkMode?"bg-gray-800 text-white":"bg-white text-black"])},[rt("div",hb,[t[2]||(t[2]=rt("h3",{class:"font-bold"},"About This Map",-1)),rt("button",{class:Gt(n.isDarkMode?"text-gray-400 hover:text-white":"text-gray-500 hover:text-gray-700"),onClick:t[0]||(t[0]=u=>s.isOpen=!1)}," × ",2)]),rt("div",{class:Gt(["prose text-sm",n.isDarkMode?"text-gray-300":"text-gray-700"])},t[3]||(t[3]=[Pm('<p> This interactive map displays weekly water quality data collected by community scientists through the NYC Water Quality Monitoring program. </p><br><p> Each dot represents a sampling site across NYC&#39;s waterways, color-coded based on the presence of enterococcus bacteria—an indicator of water safety for recreational activities. </p><p class="mt-2"><span class="text-lime-500 font-medium">Green</span>: &lt; 35 MPN/100mL - Acceptable for swimming </p><p class="mt-1"><span class="text-yellow-400 font-medium">Yellow</span>: 35-104 MPN/100mL - Unacceptable if levels persist </p><p class="mt-1"><span class="text-red-500 font-medium">Red</span>: &gt; 104 MPN/100mL - Unacceptable for swimming </p>',6)]),2)],2)):$i("",!0),rt("button",{class:Gt(["fixed bottom-[calc(1rem+env(safe-area-inset-bottom,0px))] left-1/2 transform -translate-x-1/2 z-40 rounded-full w-10 h-10 flex items-center justify-center shadow-lg transition-colors duration-300",n.isDarkMode?"bg-gray-800 text-gray-200":"bg-white text-gray-800"]),title:"Information",onClick:t[1]||(t[1]=u=>s.isOpen=!s.isOpen)},t[4]||(t[4]=[rt("span",{class:"font-semibold text-lg"},"i",-1)]),2)],64)}const fb=$n(cb,[["render",db]]);const pb={name:"SampleBarLegend",props:{samples:{type:Array,required:!0,default:()=>[]},isDarkMode:{type:Boolean,default:!1}},setup(i){const t=de(()=>i.samples.filter(d=>Number(d.mpn)<35).length),n=de(()=>i.samples.filter(d=>{const _=Number(d.mpn);return _>=35&&_<=104}).length),s=de(()=>i.samples.filter(d=>Number(d.mpn)>104).length),o=de(()=>i.samples.length),l=de(()=>o.value>0?t.value/o.value*100:0),u=de(()=>o.value>0?n.value/o.value*100:0),h=de(()=>o.value>0?s.value/o.value*100:0);return{greenCount:t,yellowCount:n,redCount:s,totalCount:o,greenPercentage:l,yellowPercentage:u,redPercentage:h}}},_b={class:"w-full h-4 rounded-full overflow-hidden flex"},gb=["title"],mb=["title"],vb=["title"],yb={class:"flex justify-between text-xs mt-1"},bb={class:"flex items-center"},wb={class:"flex items-center"},xb={class:"flex items-center"};function Pb(i,t,n,s,o,l){return ue(),pe("div",{class:Gt(["sample-bar-legend p-2 rounded shadow-md",n.isDarkMode?"bg-gray-800 text-gray-200":"bg-white text-gray-800"])},[t[3]||(t[3]=rt("h3",{class:"text-xs font-medium mb-1"},"Sample Quality",-1)),rt("div",_b,[s.greenCount>0?(ue(),pe("div",{key:0,class:"h-full bg-green-500 transition-all duration-500 ease-out",style:An({width:`${s.greenPercentage}%`}),title:`${s.greenCount} Good samples`},null,12,gb)):$i("",!0),s.yellowCount>0?(ue(),pe("div",{key:1,class:"h-full bg-yellow-400 transition-all duration-500 ease-out",style:An({width:`${s.yellowPercentage}%`}),title:`${s.yellowCount} Moderate samples`},null,12,mb)):$i("",!0),s.redCount>0?(ue(),pe("div",{key:2,class:"h-full bg-red-500 transition-all duration-500 ease-out",style:An({width:`${s.redPercentage}%`}),title:`${s.redCount} Poor samples`},null,12,vb)):$i("",!0)]),rt("div",yb,[rt("div",bb,[t[0]||(t[0]=rt("span",{class:"inline-block w-2 h-2 bg-green-500 rounded-full mr-1"},null,-1)),rt("span",null,ui(s.greenCount),1)]),rt("div",wb,[t[1]||(t[1]=rt("span",{class:"inline-block w-2 h-2 bg-yellow-400 rounded-full mr-1"},null,-1)),rt("span",null,ui(s.yellowCount),1)]),rt("div",xb,[t[2]||(t[2]=rt("span",{class:"inline-block w-2 h-2 bg-red-500 rounded-full mr-1"},null,-1)),rt("span",null,ui(s.redCount),1)])])],2)}const Eb=$n(pb,[["render",Pb],["__scopeId","data-v-dfa75618"]]);const Sb=["F","S","S","M","T","W","Th"],Tb={"2025-05-14":[0,.95,.15,.74,.24,.02,.01],"2025-05-08":[.69,.01,0,0,.16,1.22,0]},Lb={name:"RainDropLegend",props:{selectedDate:{type:String,required:!0},isDarkMode:{type:Boolean,default:!1}},setup(i){const t=de(()=>Tb[i.selectedDate]??[]),n=de(()=>t.value.reduce((d,_)=>d+(_||0),0)),s=de(()=>n.value.toFixed(2)),o=de(()=>t.value.length>0&&t.value.some(d=>d!=null&&d>0));return{activeRainData:t,totalRainfall:n,totalRainfallValue:s,hasValidRainfallData:o,getBarColorClass:d=>d==null?i.isDarkMode?"bg-gray-500":"bg-gray-300":d<.5?i.isDarkMode?"bg-green-600":"bg-green-500":d<3?i.isDarkMode?"bg-yellow-500":"bg-yellow-400":i.isDarkMode?"bg-red-600":"bg-red-500",getDayLabel:d=>Sb[d%7],getBarHeight:d=>d==null||d===0?10:Math.max(10,Math.min(100,50*Math.log2(1+Number(d)*2)))}}},kb={class:"flex items-end justify-between h-24 mb-1"},Mb=["title"],Cb={class:"text-xs mt-1 font-medium"},Ib={class:"font-bold"};function Ab(i,t,n,s,o,l){return s.hasValidRainfallData?(ue(),pe("div",{key:0,class:Gt(["rain-drop-legend p-3 rounded shadow-md",n.isDarkMode?"bg-gray-800 text-gray-200":"bg-white text-gray-800"])},[t[2]||(t[2]=rt("h3",{class:"text-xs font-medium mb-2"},"7-Day Rainfall",-1)),rt("div",kb,[(ue(!0),pe(Ue,null,Ug(s.activeRainData,(u,h)=>(ue(),pe("div",{key:h,class:"flex flex-col items-center group"},[rt("div",{class:Gt(["w-4 md:w-5 rounded-t transition-all duration-300 shadow-md border border-black/10",s.getBarColorClass(u)]),style:An({height:`${s.getBarHeight(u)}%`}),title:`${u!=null?Number(u).toFixed(2):"No data"} inches`},null,14,Mb),rt("span",Cb,ui(s.getDayLabel(h)),1)]))),128))]),rt("div",{class:Gt(["text-xs text-center mt-2 pt-2 border-t",n.isDarkMode?"border-gray-700":"border-gray-200"])},[t[0]||(t[0]=rt("span",{class:"font-semibold"},"Total rainfall:",-1)),rt("span",Ib,ui(s.totalRainfallValue),1),t[1]||(t[1]=rt("span",null,"in",-1))],2)],2)):$i("",!0)}const Ob=$n(Lb,[["render",Ab],["__scopeId","data-v-d3f4c8dc"]]),Rb={name:"App",components:{MapViewer:q0,HeaderOverlay:ib,DateScroller:ub,InfoPopup:fb,SampleBarLegend:Eb,RainDropLegend:Ob},setup(){const i=He([]),t=He(""),n=He(0),s=He(!0),o=He(!1),l=He([]),u=p=>{n.value=p},h=p=>{l.value=p},d=()=>{s.value=!s.value},_=p=>{s.value=p};return hr(async()=>{await Rl(async()=>{const m=await fetch("/nyc-water-app/data/index.json");if(!m.ok)throw new Error(`Failed to load dates index: ${m.status} ${m.statusText}`);const v=await m.json();if(!v||!Array.isArray(v.dates)||typeof v.latest!="string")throw new Error("Invalid index data format");i.value=v.dates,t.value=v.latest},{component:"App",operation:"loadDates"},{logToConsole:!0,reportToAnalytics:!0,showToUser:!0,fallbackValue:void 0})}),{dates:i,selectedDate:t,siteCount:n,isDarkMode:s,isHeaderExpanded:o,sampleData:l,updateSiteCount:u,updateSampleData:h,toggleDarkMode:d,updateMapMode:_}}},Db={class:"relative h-screen w-screen overflow-hidden"},Fb=["title"],Nb={class:"text-lg"},Bb={key:0,class:"absolute top-4 left-4 z-40 flex flex-col space-y-2"};function zb(i,t,n,s,o,l){const u=Jn("MapViewer"),h=Jn("HeaderOverlay"),d=Jn("SampleBarLegend"),_=Jn("RainDropLegend"),p=Jn("DateScroller"),m=Jn("InfoPopup");return ue(),pe("div",Db,[Yt(u,{"selected-date":s.selectedDate,"is-dark-mode":s.isDarkMode,"onUpdate:siteCount":s.updateSiteCount,"onUpdate:sampleData":s.updateSampleData},null,8,["selected-date","is-dark-mode","onUpdate:siteCount","onUpdate:sampleData"]),Yt(h,{"is-expanded":s.isHeaderExpanded,"onUpdate:isExpanded":t[0]||(t[0]=v=>s.isHeaderExpanded=v),"latest-date":s.selectedDate,"site-count":s.siteCount,"is-dark-mode":s.isDarkMode,onToggleMapMode:s.updateMapMode},null,8,["is-expanded","latest-date","site-count","is-dark-mode","onToggleMapMode"]),rt("div",{class:Gt(["absolute right-2 sm:right-4 top-4 transition-opacity duration-300",[s.isHeaderExpanded?"z-20 opacity-0":"z-40 opacity-100"]])},[rt("button",{class:Gt(["rounded-full p-2 shadow-md focus:outline-none transition-colors duration-300",s.isDarkMode?"bg-gray-800 text-gray-300 hover:bg-gray-700":"bg-white text-gray-800 hover:bg-gray-100"]),title:s.isDarkMode?"Switch to light mode":"Switch to dark mode","aria-label":"Toggle dark mode",onClick:t[1]||(t[1]=(...v)=>s.toggleDarkMode&&s.toggleDarkMode(...v))},[rt("span",Nb,ui(s.isDarkMode?"🌞":"🌙"),1)],10,Fb)],2),s.isHeaderExpanded?$i("",!0):(ue(),pe("div",Bb,[Yt(d,{samples:s.sampleData,"is-dark-mode":s.isDarkMode},null,8,["samples","is-dark-mode"]),Yt(_,{"selected-date":s.selectedDate,"is-dark-mode":s.isDarkMode},null,8,["selected-date","is-dark-mode"])])),Yt(p,{modelValue:s.selectedDate,"onUpdate:modelValue":t[2]||(t[2]=v=>s.selectedDate=v),dates:s.dates,"is-dark-mode":s.isDarkMode},null,8,["modelValue","dates","is-dark-mode"]),Yt(m,{"is-dark-mode":s.isDarkMode},null,8,["is-dark-mode"])])}const $b=$n(Rb,[["render",zb]]);const Zb="User viewed a page",Hb="User clicked on a map pin to view sample details",Ub="User changed the theme (light/dark mode)",Wb="User selected a different date to view data for",jb="User zoomed in or out on the map",qb="User panned/moved the map view",Vb="Data failed to load for a selected date",Gb={viewed_page:Zb,viewed_sample_pin:Hb,changed_theme:Ub,selected_date:Wb,zoomed_map:jb,panned_map:qb,failed_loading_data:Vb},Ai={VIEWED_PAGE:"viewed_page",VIEWED_SAMPLE_PIN:"viewed_sample_pin",CHANGED_THEME:"changed_theme",SELECTED_DATE:"selected_date",ZOOMED_MAP:"zoomed_map",PANNED_MAP:"panned_map",FAILED_LOADING_DATA:"failed_loading_data",ERROR_OCCURRED:"error_occurred"},Kb={VIEWED_PAGE:Ai.VIEWED_PAGE,VIEWED_SAMPLE_PIN:Ai.VIEWED_SAMPLE_PIN,CHANGED_THEME:Ai.CHANGED_THEME,SELECTED_DATE:Ai.SELECTED_DATE,ZOOMED_MAP:Ai.ZOOMED_MAP,PANNED_MAP:Ai.PANNED_MAP,FAILED_LOADING_DATA:Ai.FAILED_LOADING_DATA,ERROR_OCCURRED:Ai.ERROR_OCCURRED},Yb=(i,t={})=>{if(!Object.values(Ai).includes(i)){console.warn(`[Analytics] Unknown event key: "${i}". Please add it to the AnalyticsEvent enum in analytics.js`);return}const s={...t,eventDescription:Gb[i]||""};Fe.track(i,s)},Jb=hv($b);Jb.mount("#app");Yb(Kb.VIEWED_PAGE,{page:"home",referrer:document.referrer});
